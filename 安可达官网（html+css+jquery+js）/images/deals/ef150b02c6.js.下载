(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1163:function(e,t,i){var n=i(9);e.exports=n.userInfo},1164:function(e,t){agoda.samedaybooking=function(e){"use strict";var t=!1,i="",n="",o="",a=function(e,i){t=e.isSame(i,"day")},s=function(){t?""!==i&&agoda.samedaybooking.showBookingTodayNoCreditCardRequired():""!==n&&agoda.samedaybooking.showNoCreditCardRequired()};return{init:function(e){o=e.source,i=e.noCreditCardSelector,n=e.noCreditCardSamedaySelector;var t=agoda.samedaybooking.setClientDateTime();a(t,moment(e.hotelCheckInLocalDate)),"hotel"===o?s():"ssr-mobile"!==o&&"ssr-desktop"!==o||(s(),agoda.eventhelper.listen(agoda.eventhelper.name.ON_HOTEL_RENDER_COMPLETED,s))},showBookingTodayNoCreditCardRequired:function(){e(n).removeClass("hide")},showNoCreditCardRequired:function(){e(i).removeClass("hide")},setClientDateTime:function(){return moment()}}}(jQuery),void 0!==e&&e.exports&&(e.exports=agoda.samedaybooking)},1165:function(e,t){!function(){"use strict";if(!function(){try{(0).toLocaleString("i")}catch(e){return"RangeError"===e.name}return!1}()){var e=function(e,t){var i=e.split(".");return t&&t.thousands&&(i[0]=i[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+t.thousands)),e=i.join(t.decimal)},t=function(e,t){for(var i in t)e=e.replace("{{"+i+"}}",t[i]);return e},i=function(e,t){var i=(t||"").replace(/-u.*/,"");if(!e.hasOwnProperty(t)){var n=t&&t.toLowerCase().match(/^\w+/);i=n&&n.length&&e.hasOwnProperty(n[0])?n[0]:"en"}return e[i]},n=function(t){return e(t,{decimal:",",thousands:"."})},o=function(t){return e(t,{decimal:".",thousands:","})},a=function(t){return e(t,{decimal:",",thousands:" "})},s=function(t){return e(t,{decimal:".",thousands:"'"})},r={bg:a,"bg-BG":a,"bg-bg":a,ca:n,"ca-ES":n,"ca-es":n,cs:a,"cs-CZ":a,"cs-cz":a,da:n,"da-DK":n,"da-dk":n,de:n,"de-DE":n,"de-de":n,"de-AT":a,"de-at":a,"de-CH":s,"de-ch":s,"de-LI":n,"de-li":n,"de-BE":n,"de-be":n,el:n,"el-GR":n,"el-gr":n,en:o,es:n,"es-ES":n,"es-es":n,et:a,"et-EE":a,"et-ee":a,fi:a,"fi-FI":a,"fi-fi":a,fr:a,hu:a,"hu-HU":a,"hu-hu":a,hr:n,"hr-HR":n,"hr-hr":n,it:n,lt:a,"lt-LT":a,"lt-lt":a,lv:a,"lv-LV":a,"lv-lv":a,nb:a,"nb-NO":a,"nb-no":a,nl:n,"nl-NL":n,"nl-nl":n,pl:a,"pl-PL":a,"pl-pl":a,pt:a,"pt-PT":a,"pt-pt":a,"pt-br":n,"pt-BR":n,ro:n,"ro-RO":n,"ro-ro":n,ru:a,"ru-RU":a,"ru-ru":a,sl:n,"sl-SL":n,"sl-sl":n,sv:a,"sv-SE":a,"sv-se":a,th:o,"th-TH":o,"th-th":o,tr:n,"tr-TR":n,"tr-tr":n,ua:o,"ua-UA":o,"ua-ua":o,uk:a,"uk-UA":a,"uk-ua":a},c={en:"pre",it:"post",fr:"post",de:"post","de-DE":"post","de-AT":"prespace","de-CH":"prespace","de-LI":"post","de-BE":"post",ro:"post","ro-RO":"post",hu:"post","hu-HU":"post","da-DK":"post","nb-NO":"post"},l={afn:"؋",ars:"$",awg:"ƒ",aud:"$",azn:"₼",bsd:"$",bbd:"$",byr:"p.",bzd:"BZ$",bmd:"$",bob:"Bs.",bam:"KM",bwp:"P",bgn:"лв",brl:"R$",bnd:"$",khr:"៛",cad:"$",kyd:"$",clp:"$",cny:"¥",cop:"$",crc:"₡",hrk:"kn",cup:"₱",czk:"Kč",dkk:"kr",dop:"RD$",xcd:"$",egp:"£",svc:"$",eek:"kr",eur:"€",fkp:"£",fjd:"$",ghc:"¢",gip:"£",gtq:"Q",ggp:"£",gyd:"$",hnl:"L",hkd:"$",huf:"Ft",isk:"kr",inr:"₹",idr:"Rp",irr:"﷼",imp:"£",ils:"₪",jmd:"J$",jpy:"¥",jep:"£",kes:"KSh",kzt:"лв",kpw:"₩",krw:"₩",kgs:"лв",lak:"₭",lvl:"Ls",lbp:"£",lrd:"$",ltl:"Lt",mkd:"ден",myr:"RM",mur:"₨",mxn:"$",mnt:"₮",mzn:"MT",nad:"$",npr:"₨",ang:"ƒ",nzd:"$",nio:"C$",ngn:"₦",nok:"kr",omr:"﷼",pkr:"₨",pab:"B/.",pyg:"Gs",pen:"S/.",php:"₱",pln:"zł",qar:"﷼",ron:"lei",rub:"₽",shp:"£",sar:"﷼",rsd:"Дин.",scr:"₨",sgd:"$",sbd:"$",sos:"S",zar:"R",lkr:"₨",sek:"kr",chf:"CHF",srd:"$",syp:"£",tzs:"TSh",twd:"NT$",thb:"฿",ttd:"TT$",try:"",trl:"₤",tvd:"$",ugx:"USh",uah:"₴",gbp:"£",usd:"$",uyu:"$U",uzs:"лв",vef:"Bs",vnd:"₫",yer:"﷼",zwd:"Z$"},p={pre:"{{code}}{{num}}",post:"{{num}} {{code}}",prespace:"{{code}} {{num}}"};Number.prototype.toLocaleString=function(e,n){if(e&&e.length<2)throw new RangeError("Invalid language tag: "+e);var o;if(o=n&&n.minimumFractionDigits?this.toFixed(n.minimumFractionDigits):this.toString(),o=i(r,e)(o,n),n&&n.currency&&"currency"===n.style){var a=p[i(c,e)];o="code"===n.currencyDisplay?t(a,{num:o,code:n.currency.toUpperCase()}):t(a,{num:o,code:l[n.currency.toLowerCase()]})}return o}}}()},1166:function(e,t,i){var n=i(3),o=i(147),a=i(281);LoginOneClickBanner=function(e,t,i,n){this.injector=e,this.loginService=t,this.validity=i,this.metrics=n,this.view={},this.EventBinding(),this.LoggingBinding(),this.emailFormat=this.view.warningMessageText.data("cms-email-format"),this.emailRequired=this.view.warningMessageText.data("cms-email-required"),this.emailExists=this.view.warningMessageText.data("cms-email-exists"),this.techdiff=this.view.warningMessageText.data("cms-technical-diff")},LoginOneClickBanner.View={emailInput:"#signup-now-email-input",submitButton:"#signup-now-submit",warningMessage:"#signup-now-warning",warningMessageText:"#signup-now-warning-text",pageIndication:"#page-identification",pageType:"page"},LoginOneClickBanner.prototype.GetView=function(){return{emailInput:n(LoginOneClickBanner.View.emailInput),submitButton:n(LoginOneClickBanner.View.submitButton),warningMessage:n(LoginOneClickBanner.View.warningMessage),warningMessageText:n(LoginOneClickBanner.View.warningMessageText),pageIndication:n(LoginOneClickBanner.View.pageIndication),pageType:n(LoginOneClickBanner.View.pageType)}},LoginOneClickBanner.prototype.LogEvent=function(e,t){this.injector().agoda.UseLocalStorageForMeasurement&&this.metrics.LogAction(e,t)},LoginOneClickBanner.prototype.LoggingBinding=function(){this.metrics&&this.metrics.OnLog(a.Actions.ONECLICK_SUCCESS,"OneClick",function(e,t){e.OneClickConversion()})},LoginOneClickBanner.prototype.EventBinding=function(){var e=this;e.view=e.GetView();var t=function(e){o.Cooldown(e,1e3)};e.view.emailInput.keyup(function(i){i.preventDefault(),13===i.which&&(e.SubmitSignUp(),t(e.view.emailInput))}),e.view.submitButton.click(function(i){i.preventDefault(),e.view.emailInput.val(e.view.emailInput.val().trim()),e.SubmitSignUp(),t(e.view.submitButton)})},LoginOneClickBanner.prototype.HideError=function(){this.view.warningMessage.hide()},LoginOneClickBanner.prototype.ShowError=function(e){this.view.warningMessageText.text("string"!=typeof e?this.techdiff:e),this.view.warningMessage.show()},LoginOneClickBanner.prototype.SubmitSignUp=function(){this.HideError();var e=this.ValidateEmail();e.length>0&&this.SignUp(e)},LoginOneClickBanner.prototype.ValidateEmail=function(){var e=this.view.emailInput.val();return this.validity.isEmpty(e)?(this.ShowError(this.emailRequired),""):this.validity.isEmailFormat(e)?e:(this.ShowError(this.emailFormat),"")},LoginOneClickBanner.prototype.SignUp=function(e){var t=this,i={email:e,token:t.loginService.token,pagetype:t.loginService.pagetype};t.loginService.signUpOneClick(i,function(i){if(i.Success)t.LogEvent(a.Actions.ONECLICK_SUCCESS),t.injector().location.reload();else if(t.LogEvent(a.Actions.ONECLICK_ERR,{data:i.Info}),"emailexists"===i.Info){t.ShowError(t.emailExists);var n=t.injector().agoda.login.NewSignInPopup;n&&(n.show("signin",18),n.signInPanel.email.val(e),n.signInPanel.ocbEmailExists.show())}else t.ShowError(t.techdiff)},function(){t.LogEvent(a.Actions.ONECLICK_ERR500),t.ShowError(t.techdiff)})},(e=e||{}).exports=LoginOneClickBanner},1167:function(e,t,i){i(147);var n=function(e){this.windowObject=e,this.HasCookie=this.HasLoginCookie(),this.CookieValue=this.GetCookieValue(),this.IsRedirect=!1,this.Polling()};n.prototype.CookieAndProtocolChecking=function(){this.IsRedirect||!agoda.bVariants.isB("RANK-3528")?this.IsRedirect||this.HasCookie==this.HasLoginCookie()||(this.IsRedirect=!0,this.ReloadWindow()):this.HasCookie===this.HasLoginCookie()&&this.CookieValue===this.GetCookieValue()||(this.IsRedirect=!0,this.ReloadWindow())},n.prototype.Polling=function(){_this=this,this.windowObject.setInterval(function(){_this.CookieAndProtocolChecking()},4e3)},n.prototype.SetHasCookie=function(e){this.HasCookie=e},n.prototype.HasLoginCookie=function(){return document.cookie.indexOf("_hl")>-1},n.prototype.GetCookieValue=function(){var e=("; "+document.cookie).split("; __hl=");if(2==e.length)return e.pop().split(";").shift()},n.prototype.ReloadWindow=function(){return this.windowObject.location.reload()},n.prototype.markAsRedirect=function(){this.IsRedirect=!0},n.prototype.markAsReload=function(){this.IsRedirect=!1},(e=e||{}).exports=n},1168:function(e,t,i){var n=i(3);i(437),LoginPopupSizeAdapter=function(e,t){this.injector=e,this.cutoff=t},LoginPopupSizeAdapter.prototype.Adapt=function(e,t){for(var i=0;i<e.length;i++)n(e[i]).length>0&&this.doAdapt(e[i])},LoginPopupSizeAdapter.prototype.doAdapt=function(e){var t=n(e),i=this;i.injector().innerHeight<i.cutoff&&t.addClass("popup-adapt"),n(this.injector()).resize(function(){i.injector().innerHeight<i.cutoff?t.addClass("popup-adapt"):t.removeClass("popup-adapt")})},(e=e||{}).exports=LoginPopupSizeAdapter},1169:function(e,t,i){var n=i(3),o=i(4222),a=i(4221),s=i(748);Captcha=function(e){this.isMobilePage=function(){var e=n("*[data-selenium='device-type']");return e.length>0&&"mobile"===e.val()},this.captchaType=this.getCaptchaType(),this.language=this.getLanguage(),this.state=null,this.captchaList={},this.callbackList={},this.timeoutRef=null,this.logService=new s,this.useInvisibleCaptcha=e,this.initCaptcha()},Captcha.prototype.getLanguage=function(){return this.isMobilePage()?agoda.pageConfig.htmlLanguage:n("#hidden-routeinfo").data("culture")},Captcha.prototype.getCaptchaType=function(){return function(){return this.isMobilePage()?"CN"===agoda.pageConfig.origin:"CN"===n("#hidden-routeinfo").data("origin")}.apply(this)?"geetest":"recaptcha"},Captcha.prototype.initCaptcha=function(){this.removeError();var e=this;for(var t in this.timeoutRef=setTimeout(function(){e.timeout()},1e4),this.state="loading",this.captchaList)this.showLoading(t);"recaptcha"==this.captchaType?o.init(this.language):"geetest"==this.captchaType&&a.init(function(){e.asyncInitCallback()})},Captcha.prototype.timeout=function(){this.state="fail",this.showError()},Captcha.prototype.show=function(e,t){if(0!==n("#"+e).length&&void 0===this.captchaList[e]){if(this.showLoading(e),this.callbackList[e]=t,"success"!=this.state)return"fail"==this.state&&this.initCaptcha(),void(this.captchaList[e]=null);this.asyncShow(e)}},Captcha.prototype.reset=function(e){!1!==this.isShow(e)&&void 0!==this.captchaList[e]&&null!==this.captchaList[e]&&this.captchaList[e].reset()},Captcha.prototype.hide=function(e){!1!==this.isShow(e)&&void 0!==this.captchaList[e]&&null!==this.captchaList[e]&&(n("#"+e).html(""),delete this.captchaList[e])},Captcha.prototype.getResponse=function(e){return!1===this.isShow(e)||void 0===this.captchaList[e]||null===this.captchaList[e]?"":this.captchaList[e].getResponse()},Captcha.prototype.isShow=function(e){return e in this.captchaList},Captcha.prototype.asyncShow=function(e){var t=this.callbackList[e],i=function(){n("#"+e+"-loading").hide()};if("recaptcha"==this.captchaType)this.captchaList[e]=new o(e,t,i,this.useInvisibleCaptcha?"invisible":this.isRecaptchaCompact()?"compact":"normal");else if("geetest"==this.captchaType){var s="#"+e;this.captchaList[e]=new a({selector:s,displayType:"embed",lang:this.language,captchaFinishedCallback:t,captchaShowCallback:i})}},Captcha.prototype.asyncInitCallback=function(){if("fail"!=this.state)for(var e in clearTimeout(this.timeoutRef),this.state="success",this.captchaList)null===this.captchaList[e]&&this.asyncShow(e)},Captcha.prototype.showLoading=function(e){n("#"+e+"-loading").show()},Captcha.prototype.removeLoading=function(){for(var e in this.captchaList)n("#"+e+"-loading").hide()},Captcha.prototype.showError=function(){this.removeLoading();var e=this;for(var t in this.captchaList)this.logService.logLoadTimedOut(t,this.captchaType),n("#"+t+"-error").show(),n("#"+t+"-error a").off("click").on("click",function(i){e.logService.logReloadCaptcha(t,e.captchaType),e.initCaptcha()})},Captcha.prototype.removeError=function(){for(var e in this.captchaList)n("#"+e+"-error").hide()},Captcha.prototype.isRecaptchaCompact=function(){var e=!1;if(agoda.IsMobile){e=(agoda.mobileMenuWidth-10||0)<305}return e},(e=e||{}).exports=Captcha},1170:function(e,t,i){var n=i(3);i(147);i(437);i(345);var o=i(1174),a=i(4223),s=(i(749),i(1178));ResetPasswordPopup=function(e,t){this.injector=t,this.popup="#resetpassword-popup",this.rpService=e,this.panels={},this.panels[ResetPasswordPopup.ACTIONS.GET_NEW]=new o(this,this.rpService,t),this.panels[ResetPasswordPopup.ACTIONS.SET_PASSWORD]=new a(this,this.rpService,t),this.panels[ResetPasswordPopup.ACTIONS.RETREIVE_PASSWORD]=new s("reset-password-retreive-password"),this.panels[ResetPasswordPopup.ACTIONS.EMAIL_SENT]=new s("reset-password-email-sent"),this.panels[ResetPasswordPopup.ACTIONS.TOKEN_EXPIRED]=new s("reset-password-token-expired"),this.currentPanel=null,this.hidePopup=function(){this.injector().agoda.IsBLTPageFix&&n("#resetpassword-popup .modal").off("click.showRP"),this.currentPanel&&""!==this.currentPanel&&this.currentPanel.hide(),n(this.popup).modal("hide")},agoda.bVariants.isB("LOGIN-4261")&&n("#resetpassword-popup input[type='text'],#resetpassword-popup input[type='password']").bind("click",function(e){e.stopPropagation(),n(e.target).focus()});var i=this;this.rpService.GetResetPasswordBy(function(e){null!=e&&(""===e.requester?i.showMessageModalWithCallback(ResetPasswordPopup.ACTIONS.TOKEN_EXPIRED,function(){i.hide(),i.invalidateTokenInQuery()},function(){i.invalidateTokenInQuery()}):(i.panels[ResetPasswordPopup.ACTIONS.SET_PASSWORD].showMessage('<span class="forlabel">'+i.injector().agoda.login.cms.ResetPasswordFor+" </span><br/>"+e.requester),i.show(ResetPasswordPopup.ACTIONS.SET_PASSWORD)))}),this.injector().agoda.IsBLTPageFix&&n("#resetpassword-popup .modal").css("pointer-events","all")},ResetPasswordPopup.ACTIONS={GET_NEW:"ResetPassword.GetNew",SET_PASSWORD:"ResetPassword.SetPassword",RETREIVE_PASSWORD:"ResetPassword.RetreivePassword",EMAIL_SENT:"ResetPassword.EmailSent",TOKEN_EXPIRED:"ResetPassword.TokenExpired"},ResetPasswordPopup.prototype.invalidateTokenInQuery=function(){this.injector().location.href=this.rpService.urlParamRemove("rToken")},ResetPasswordPopup.prototype.select=function(e){this.currentPanel&&""!==this.currentPanel&&this.currentPanel.hide(),this.currentPanel=this.panels[e],this.currentPanel.show()},ResetPasswordPopup.prototype.showMessageModalWithCallback=function(e,t,i){if(this.currentPanel&&this.currentPanel.hide(),"MessageModal"===this.panels[e].className){n(this.popup).modal("show");var o=this;n(".modal-backdrop").on("click",function(e){o.hide(e)}),this.currentPanel=this.panels[e],this.currentPanel.show(t,i)}},ResetPasswordPopup.prototype.show=function(e){var t=this;this.injector().agoda.IsBLTPageFix&&n("#resetpassword-popup .modal").on("click.showRP",function(e){t.hide(e)}),this.currentPanel&&""!==this.currentPanel&&this.currentPanel.hide(),n(this.popup).modal("show"),n(".modal-backdrop").on("click",function(e){t.hide(e)}),this.select(e)},ResetPasswordPopup.prototype.hide=function(e){if(e&&agoda.bVariants.isB("LOGIN-4261")){var t=e.originalEvent.target.className;-1===t.indexOf("modal-backdrop")&&-1===t.indexOf("modal-dialog")||this.hidePopup()}else this.hidePopup()},(e=e||{}).exports=ResetPasswordPopup},1171:function(e,t,i){var n=i(3);TechnicalDifficulties=function(e){this.modelName=e,this.element=n("#"+e+"-technical-difficulties-issue"),this.defaultText=this.element.text(),this.timeoutRef=""},TechnicalDifficulties.prototype.show=function(e){void 0===e?this.element.text(this.defaultText):this.element.text(e),this.element.show()},TechnicalDifficulties.prototype.hide=function(){this.element.hide()},(e=e||{}).exports=TechnicalDifficulties},1172:function(e,t,i){var n=i(3);SecureSubmitPartial=function(e,t){this.injector=t,this.modelName=e,this.captchaName=e+"-captcha-panel",this.captchaErrorText=n("#"+e+"-captcha-validator-error"),this.buttonElement=n("#"+this.modelName+"-submit-button")},SecureSubmitPartial.prototype.reset=function(e){var t=this;void 0!==this.captchaErrorText&&this.captchaErrorText.hide(),void 0!==this.injector().agoda.captcha&&(this.injector().agoda.captcha.removeError(),this.injector().agoda.captcha.reset(this.captchaName)),e||this.injector().setTimeout(function(){t.setLoading(!1)},3e3)},SecureSubmitPartial.prototype.prepare=function(e){var t=this;t.reset(),void 0!==this.injector().agoda.captcha&&t.injector().agoda.captcha.show(this.captchaName,function(){t.injector().agoda.captcha.removeLoading()})},SecureSubmitPartial.prototype.onSubmit=function(e){var t=this;this.buttonElement.on("click",function(){if(!t.buttonElement.hasClass("btn-loading"))if(void 0!==t.injector().agoda.captcha){var i=t.injector().agoda.captcha.getResponse(t.captchaName);""!=i?e({captchaResponse:i,reference:t}):(e({captchaResponse:"",reference:t}),t.captchaErrorText.show())}else e({captchaResponse:"",reference:t})})},SecureSubmitPartial.prototype.loadingWithTimeout=function(e,t){this.setLoading(!0);var i=this;this.injector().setTimeout(function(){i.setLoading(!1),"function"==typeof t&&t(i)},e)},SecureSubmitPartial.prototype.setLoading=function(e){"boolean"==typeof e&&e?(this.buttonElement.addClass("hide-text"),this.buttonElement.addClass("btn-loading")):(this.buttonElement.removeClass("hide-text"),this.buttonElement.removeClass("btn-loading"))},(e=e||{}).exports=SecureSubmitPartial},1173:function(e,t,i){var n=i(3);i(345);InputPartial=function(e){this.modelName=e,this.labelElement=n("#"+this.modelName+"-label"),this.inputElement=n("#"+this.modelName+"-input"),this.errorElements=[]},InputPartial.prototype.errorElement=function(e){return n("#"+this.modelName+"-"+e)},InputPartial.prototype.showError=function(e,t){"boolean"==typeof t&&t&&this.errorElements.length>0||(this.errorElement(e).show(),0===this.errorElements.length&&this.inputElement.addClass("warning-input-field"),this.errorElements.push(e))},InputPartial.prototype.hideError=function(e){this.errorElements.indexOf(e)>-1&&(this.errorElement(e).hide(),delete this.errorElements[this.errorElements.indexOf(e)],this.errorElements.length--,0===this.errorElements.length&&this.inputElement.removeClass("warning-input-field"))},InputPartial.prototype.val=function(e){return void 0===e?this.inputElement.val():this.inputElement.val(e)},InputPartial.prototype.resetErrors=function(){for(var e=this.errorElements.length-1;e>=0;e--)this.hideError(this.errorElements[e])},(e=e||{}).exports=InputPartial},1174:function(e,t,i){var n=i(3),o=i(345),a=i(1173),s=i(1172),r=i(1171);i(147);ResetPasswordGetNewPanel=function(e,t,i){this.injector=i,this.popup=e,this.name="reset-password-get-new",this.panel=n("#"+this.name+"-panel"),this.emailField=new a("reset-password-get-new-emailfield"),this.submitButton=new s("reset-password-get-new",i),this.technicalDifficulties=new r("reset-password-get-new"),this.submitButton.buttonElement.prop("disabled",!1),this.validity=new o,this.rpService=t,this.isMock="True"===n("#mockDataEnabled").val(),this.options={cooldown:1e3,loadingTimeout:5e3},this.timeoutRef="",this.setup()},ResetPasswordGetNewPanel.prototype.setup=function(){var e=this;this.submitButton.onSubmit(function(t){e.submit(t)})},ResetPasswordGetNewPanel.prototype.show=function(){this.technicalDifficulties.hide(),this.submitButton.prepare(),this.emailField.inputElement.val(""),this.emailField.resetErrors(),this.emailField.inputElement.prop("disabled",!1),this.submitButton.buttonElement.prop("disabled",!1);i(282).send("gm-resetpassword-facebook",JSON.stringify({key:"login.resetpassword.facebook.seen",action:"seen"}),null),this.panel.show()},ResetPasswordGetNewPanel.prototype.hide=function(){this.panel.hide(),this.submitButton.buttonElement.prop("disabled",!0)},ResetPasswordGetNewPanel.prototype.submit=function(e){var t=this;this.clearTimeout(),this.emailField.resetErrors(),this.submitButton.reset(),this.technicalDifficulties.hide();var i=this.emailField.val();this.validity.IsEmpty(i,"email-warning"),this.validity.IsEmailFormat(i,"emailformat-warning"),0===this.validity.basket.length&&(this.isMock||"string"==typeof e.captchaResponse&&""!==e.captchaResponse)?(t.rpService.SendResetPasswordEmail(i,function(i,n){1==i?(t.hide(),t.popup.showMessageModalWithCallback("ResetPassword.EmailSent",function(){e.reference.reset(),t.popup.hide(),t.injector().agoda.showSignIn()}),t.emailField.val("")):2==i?t.technicalDifficulties.show(t.injector().agoda.login.cms.EmailNotExist):(t.technicalDifficulties.show(),t.emailField.val("")),t.clearInSeconds(5),t.submitButton.reset()},function(e,i,n){t.technicalDifficulties.show(),t.clearInSeconds(3),t.submitButton.reset()},e.captchaResponse),this.submitButton.setLoading(!0)):this.validity.ConsumeQueue(function(e){t.emailField.showError(e,!0)})},ResetPasswordGetNewPanel.prototype.clearTimeout=function(){"number"==typeof this.timeoutRef&&(this.injector().clearTimeout(this.timeoutRef),this.timeoutRef="")},ResetPasswordGetNewPanel.prototype.clearInSeconds=function(e){var t=this;this.clearTimeout(),this.timeoutRef=this.injector().setTimeout(function(){t.technicalDifficulties.hide()},1e3*e)},(e=e||{}).exports=ResetPasswordGetNewPanel},1175:function(e,t,i){var n=i(3);LoginTabHelper=function(e,t,i){var o;this.windowObject=void 0!==i?i:window,this.agodaObject=void 0!==t?t:agoda,this.selectedElements=[],o=e,"[object Array]"!==Object.prototype.toString.call(o)?console.error("Elements in LoginTabHelper is not array"):e.length<2?console.error("Elements must be greater than 1"):e.forEach(function(e){"string"==typeof e?("#"!==e.charAt(0)&&(e="#"+e),0!=n(e).length&&this.selectedElements.push(n(e))):console.warn("TapHelper requires a string-type object")},this)},LoginTabHelper.prototype.init=function(){this.selectedElements.forEach(function(e,t,i){!function(e,t,i){var n=function(e,t){return e+1==t.length?t[0]:t[e+1]}(t,i),o=function(e,t){return 0==e?t[t.length-1]:t[e-1]}(t,i);e.keydown(function(e){e.shiftKey&&9==e.which?(e.preventDefault(),o.focus()):9==e.which&&(e.preventDefault(),n.focus())})}(e,t,i)},this)},LoginTabHelper.prototype.dispose=function(){this.selectedElements.forEach(function(e,t,i){e.unbind("keydown")},this)},(e=e||{}).exports=LoginTabHelper},1176:function(e,t,i){var n=i(3);i(437);var o=i(345),a=i(4239),s=i(4237),r=i(4236),c=i(4235),l=i(4234),p=i(4233),u=i(4232),d=i(4231),h=i(4230),g=i(4229),f=i(4228),m=i(4227),v=i(4226),w=i(4225),S=i(4224),I=(i(1174),i(436)),b=i(281),C=i(237);SignInPopup=function(e,t){if(this.windowObject=void 0!==e?e:window,this.selector="a[data-link=signin-popup], div[data-link=signin-popup], i[data-link=signin-popup]",this.popup="#signin-popup",this.panels={signInPanel:"#signin-panel",signUpPanel:"#signup-panel",signInContent:"#signin-content"},this.loginBenefit={favorite:"#login-benefit-favorite",signin:"#login-benefit-signin",signup:"#login-benefit-signup",insider:"#login-benefit-insider"},this.metrics=t,this.validity=new o,this.currentPanel=void 0,this.signInPanel=new a(this),this.signUpPanel=new s(this),this.LinkAccount=new r(this),this.linkAccountService=new c,this.linkAccountAskPasswordPanel=new p(this),this.linkAccountAskEmailPanel=new u(this),this.linkAccountAskSignIn=new l(this),this.linkAccountAskNamePanel=new d(this),this.linkAccountCannotLinkPanel=new h(this),this.linkAccountRequireEmailPanel=new g(this),this.linkAccountEmailVerificationSentPanel=new f(this),this.wechatAskEmailPanel=new m(this),this.wechatAskPasswordPanel=new v(this),this.wechatAskNamePanel=new w(this),this.wechatEmailLinkedErrorPanel=new S(this),this.loginService=new I(this.windowObject.location.host,this.windowObject),this.latestAction="",this.apsSelectedPropertyId=0,this.windowObject.agoda.UseLocalStorageForMeasurement&&this.loggingBinding(),this.eventBinding(),this.isShown=function(){return n(this.popup).hasClass("in")},this.hidePopupCore=function(){this.currentPanel&&(this.currentPanel.hide(),delete this.currentPanel),n(this.popup).modal("hide"),this.logEvent(b.Actions.LOGIN_CLOSE)},this.hidePopup=function(){this.hidePopupCore(),agoda.login.isReact&&agoda.react&&agoda.react.communication&&agoda.react.communication.call("onLoginPanelClosed")},agoda.IsBLTPageFix&&(n(".LOGIN-CSS .vertical-alignment-center").css("background","rgba(0, 0, 0, 0.8)"),n(".LOGIN-CSS .vertical-alignment-center").css("border","0px")),agoda.IsHiddenCloseIconFix&&n(window).height()<SignInPopup.option.ThresholdHeight){var C=function(e){n(e).css("margin-right","0px"),n(e).css("margin-top","0px"),n(e).css("color","black")};C("#signup-close-icon"),C("#signin-close-icon")}var P=i(443);this.WindowInjector=function(){return window};var L=P(this.WindowInjector.bind(this));if("True"===n("#mockDataEnabled").val()){this.OnGetLoginStatus({status:"unknown"})}else L.onFBSDKReady(this.OnFacebookReady);this.initedFacebook=!1},SignInPopup.option={ThresholdHeight:700},SignInPopup.ACTIONS={SIGN_UP:"signup",SIGN_IN:"signin",SIGN_IN_ONECLICK:"signin-oneclick",ASK_FOR_PASSWORD:"linkAccount.askPassword",ASK_FOR_EMAIL:"linkAccount.askEmail",ASK_FOR_NAME:"linkAccount.askName",ALREADY_LINKED:"linkAccount.alreadyLinked",ASK_SIGN_IN:"linkAccount.askSignIn",CANNOT_LINK:"linkAccount.cannotLink",EMAIL_REQUIRED:"linkAccount.emailRequired",EMAIL_VERI_SENT:"linkAccount.emailVerificationSent",SIGN_IN_FAVORITE:"signin-favorite",SIGN_IN_INSIDER:"signin-insider",PAGEIDENTIFICATION:"#page-identification",WECHAT_ASK_FOR_EMAIL:"wechat.askEmail",WECHAT_ASK_FOR_PASSWORD:"wechat.askPassword",WECHAT_ASK_FOR_NAME:"wechat.askName",WECHAT_EMAIL_LINKED_ERROR:"wechat.emailLinkedError"},SignInPopup.prototype.logEvent=function(e,t){this.windowObject.agoda.UseLocalStorageForMeasurement&&this.metrics&&this.metrics.LogAction(e,t)},SignInPopup.prototype.OnFacebookReady=function(){FB.getLoginStatus(function(e){SignInPopup.prototype.OnGetLoginStatus(e)})},SignInPopup.prototype.OnGetLoginStatus=function(e){var t=agoda.bVariants.isB("RANK-2323"),o=i(282);switch(i(1312),e.status){case"not_authorized":case"unknown":if(!0===t){!0!==n.jStorage.get("login_fbpup_seen")&&(n.jStorage.set("login_fbpup_seen",!0),n.jStorage.setTTL("login_fbpup_seen",288e5),n("#sign-in-btn").trigger("click"),o.send("gm-facebookstatus",JSON.stringify({action:"login-prompt",expiresIn:e.authResponse.expiresIn,currentStatus:e.status,facebookUserId:e.authResponse.userID})))}break;case"connected":var a="login_fb_status_"+agoda.pageConfig.sessionId;o.send("gm-facebookstatus",JSON.stringify({action:"connected",currentStatus:e.status,expiresIn:e.authResponse.expiresIn,facebookUserId:e.authResponse.userID}),a)}},SignInPopup.prototype.loggingBinding=function(){var e=this;this.metrics&&this.metrics.OnLog(b.Actions.LOGIN_CLOSE,"SignInPopup",function(t,i){e.latestAction===SignInPopup.ACTIONS.SIGN_IN?t.LoginNonConversion():e.latestAction===SignInPopup.ACTIONS.SIGN_UP?(t.LoginNonConversion(),t.SignUpNonConversion()):e.latestAction===SignInPopup.ACTIONS.SIGN_IN_FAVORITE&&t.LoginNonConversion()})},SignInPopup.prototype.eventBinding=function(){var e=this;n(e.selector).bind("click",function(t){t.preventDefault(),t.stopImmediatePropagation();var i=n(t.target).data("login-action"),o=404;o=Number(n(t.delegateTarget).data("login-id")),o=isNaN(o)?404:o,e.loginService.sendEventMeasurement(o);var a={favoriteHotelId:n(t.target).data("signin-favorite-hotel-id"),landingPage:n(t.target).data("signin-landing"),loginId:o};e.show(i,a);var s={action:void 0==i?"signin":i,element:n(t.currentTarget).data("popup"),page:n("#page-identification").data("page")};agoda.login.service.seenLoginPopup(s)}),agoda.IsBLTPageFix&&(n(".LOGIN-CSS .close").css("pointer-events","none"),n(".modal-content").bind("click",function(e){e?e.stopPropagation():window.event.cancelBubble=!0}),n(e.panels.signInPanel).bind("click",function(t){e.hide(t)}),n(e.panels.signUpPanel).bind("click",function(t){e.hide(t)})),this.windowObject.agoda.UseLocalStorageForMeasurement&&n("#signup-close-icon, #signin-close-icon").off("click.delphiCloseIcon").on("click.delphiCloseIcon",function(t){e.hide(t)}),agoda.bVariants.isB("LOGIN-4261")&&n("#signin-popup input[type='text'],#signin-popup input[type='password']").bind("click",function(e){e.stopPropagation(),n(e.target).focus()})},SignInPopup.prototype.extractDataAndShow=function(e){var t=n(e).data("login-action"),i={favoriteHotelId:n(e).data("signin-favorite-hotel-id"),landingPage:n(e).data("signin-landing")};this.show(t,i)},SignInPopup.prototype.bindOnClick=function(e){n(e).bind("click",function(e){e.preventDefault();var t=n(e.target).data("login-action");this.show(t)}.bind(this))},SignInPopup.prototype.facebookGetLoginStatusCallback=function(e,t){var i=this;e&&e.authResponse&&(i.hideFBSdkLoginButton(),this.loginService.facebookGetLoginStatusCallback(e.authResponse,function(e){i.LinkAccount.FacebookCallbackV2.apply(i.LinkAccount,[e,function(t){i.showFBSdkLoginButton(),i.apsSelectedPropertyId&&i.apsSelectedPropertyId>0&&(C.updateApsSelectedHotelIntoQueryString(i.apsSelectedPropertyId),C.scrollToApsSelectedHotel()),void 0!==agoda.login.loginResponseCallback&&agoda.login.loginResponseCallback(e)}])},function(e,t,i){console.log("An error has occred")},t))},SignInPopup.prototype.facebookAutoLogin=function(e){var t=this;e&&e.authResponse&&(t.hideFBSdkLoginButton(),this.loginService.facebookAutoLogin(e.authResponse,function(e){t.LinkAccount.FacebookAutoLogin.apply(t.LinkAccount,[e,function(e){t.showFBSdkLoginButton()}])},function(e,t,i){console.log("An error has occred")}))},SignInPopup.prototype.showPriceAlert=function(e,t,i){this.isPriceAlertClicked=!0,n("#sign-in-alert-info-before-contact-host").text(t),n("#sign-in-alert-info-before-contact-host").show(),this.show(e,i)},SignInPopup.prototype.closePriceAlert=function(){this.isPriceAlertClicked&&(n("#sign-in-alert-info-before-contact-host").hide(),this.isPriceAlertClicked=!1)},SignInPopup.prototype.show=function(e,t,o){if(agoda.react&&agoda.react.communication){if(agoda.login.isReact&&(e===SignInPopup.ACTIONS.SIGN_IN||e===SignInPopup.ACTIONS.SIGN_UP||e===SignInPopup.ACTIONS.SIGN_IN_FAVORITE||void 0===e))return t&&"object"==typeof t&&(t={signInPanelData:{propertyId:o}}),agoda.react.communication.call("openLoginPopup",e,t),void this.hidePopupCore();agoda.react.communication.call("closeLoginPopup")}this.initedFacebook||(i(443)().doFacebookInitWhenReady(),this.initedFacebook=!0);switch(this.isShown()||this.logEvent(b.Actions.LOGIN_OPEN,{action:e,loginId:(t||{loginId:405}).loginId}),n(this.popup).modal("show"),n(this.panels.signInPanel).data("propertyId",o),n(".modal-backdrop").click(function(e){n(this.panels.signInPanel).removeData("extra"),this.closePriceAlert(),this.hide(e)}.bind(this)),n("#signin-close-icon").click(function(e){n(this.panels.signInPanel).removeData("extra"),this.closePriceAlert()}.bind(this)),n(this.popup).css("z-index","1500"),e){case SignInPopup.ACTIONS.SIGN_UP:this.select(e),this.latestAction=e;break;case SignInPopup.ACTIONS.ASK_FOR_PASSWORD:case SignInPopup.ACTIONS.ASK_FOR_EMAIL:case SignInPopup.ACTIONS.ASK_FOR_NAME:case SignInPopup.ACTIONS.ALREADY_LINKED:case SignInPopup.ACTIONS.ASK_SIGN_IN:case SignInPopup.ACTIONS.CANNOT_LINK:case SignInPopup.ACTIONS.EMAIL_REQUIRED:case SignInPopup.ACTIONS.EMAIL_VERI_SENT:case SignInPopup.ACTIONS.WECHAT_ASK_FOR_EMAIL:case SignInPopup.ACTIONS.WECHAT_ASK_FOR_PASSWORD:case SignInPopup.ACTIONS.WECHAT_ASK_FOR_NAME:case SignInPopup.ACTIONS.WECHAT_EMAIL_LINKED_ERROR:case SignInPopup.ACTIONS.SIGN_IN_INSIDER:this.select(e),this.latestAction=e;break;case SignInPopup.ACTIONS.SIGN_IN_FAVORITE:this.select(SignInPopup.ACTIONS.SIGN_IN_FAVORITE),this.latestAction=e,this.addDataForFavoriteSignInPanel(t.favoriteHotelId,t.landingPage);break;case SignInPopup.ACTIONS.SIGN_IN_ONECLICK:this.select(SignInPopup.ACTIONS.SIGN_IN),this.signInPanel.email.val(t.email),this.signInPanel.password.focus(),setTimeout(function(){this.signInPanel.password.focus()},100),this.signInPanel.ocbEmailExists.show(),this.latestAction=e;default:this.select(SignInPopup.ACTIONS.SIGN_IN),this.latestAction=SignInPopup.ACTIONS.SIGN_IN}o&&(this.apsSelectedPropertyId=o,this.signUpPanel.updateApsSelectedHotel(o))},SignInPopup.prototype.hideFBSdkLoginButton=function(){n("#fb-signup-button").hide()},SignInPopup.prototype.showFBSdkLoginButton=function(){n("#fb-signup-button").show()},SignInPopup.prototype.hide=function(e){if(agoda.login.isReact&&agoda.react&&agoda.react.communication&&agoda.react.communication.call("closeLoginPopup"),e&&agoda.bVariants.isB("LOGIN-4261")){var t=e.originalEvent.target.className;-1===t.indexOf("modal-backdrop")&&-1===t.indexOf("modal-dialog")||this.hidePopup()}else this.hidePopup()},SignInPopup.prototype.select=function(e){void 0!=this.currentPanel&&this.currentPanel.hide(),this.updateCurrentPanel(e),this.currentPanel.show()},SignInPopup.prototype.updateCurrentPanel=function(e){var t=n("#login-benefit-container").attr("class","modal-container-right");switch(e){case SignInPopup.ACTIONS.SIGN_IN:this.currentPanel=this.signInPanel,this.switchLoginBenefit(this.loginBenefit.signin,SignInPopup.ACTIONS.SIGN_IN);break;case SignInPopup.ACTIONS.SIGN_IN_FAVORITE:this.currentPanel=this.signInPanel,this.switchLoginBenefit(this.loginBenefit.favorite,SignInPopup.ACTIONS.SIGN_IN);break;case SignInPopup.ACTIONS.SIGN_IN_INSIDER:this.currentPanel=this.signInPanel,t.attr("class","modal-container-right modal-container-right-insider"),this.switchLoginBenefit(this.loginBenefit.insider,SignInPopup.ACTIONS.SIGN_IN);break;case SignInPopup.ACTIONS.SIGN_UP:this.currentPanel=this.signUpPanel,this.switchLoginBenefit(void 0!=this.loginBenefit.signup?this.loginBenefit.signup:"#login-benefit-signup",SignInPopup.ACTIONS.SIGN_UP);break;case SignInPopup.ACTIONS.ASK_FOR_PASSWORD:this.currentPanel=this.linkAccountAskPasswordPanel;break;case SignInPopup.ACTIONS.ASK_FOR_EMAIL:this.currentPanel=this.linkAccountAskEmailPanel;break;case SignInPopup.ACTIONS.ASK_SIGN_IN:this.currentPanel=this.linkAccountAskSignIn;break;case SignInPopup.ACTIONS.ASK_FOR_NAME:this.currentPanel=this.linkAccountAskNamePanel;break;case SignInPopup.ACTIONS.CANNOT_LINK:this.currentPanel=this.linkAccountCannotLinkPanel;break;case SignInPopup.ACTIONS.EMAIL_REQUIRED:this.currentPanel=this.linkAccountRequireEmailPanel;break;case SignInPopup.ACTIONS.EMAIL_VERI_SENT:this.currentPanel=this.linkAccountEmailVerificationSentPanel;break;case SignInPopup.ACTIONS.WECHAT_ASK_FOR_EMAIL:this.currentPanel=this.wechatAskEmailPanel;break;case SignInPopup.ACTIONS.WECHAT_ASK_FOR_PASSWORD:this.currentPanel=this.wechatAskPasswordPanel;break;case SignInPopup.ACTIONS.WECHAT_ASK_FOR_NAME:this.currentPanel=this.wechatAskNamePanel;break;case SignInPopup.ACTIONS.WECHAT_EMAIL_LINKED_ERROR:this.currentPanel=this.wechatEmailLinkedErrorPanel}},SignInPopup.prototype.toggleTechnicalDifficulties=function(){var e=function(){this.currentPanel.technicalDifficulties.show(),this.currentPanel.hideFBLoading()}.bind(this);var t=function(){return this.latestAction==SignInPopup.ACTIONS.SIGN_IN||this.latestAction==SignInPopup.ACTIONS.SIGN_UP}.bind(this);arguments.length<1?t()&&e():1==arguments[0]?t()&&e():t()&&function(){this.currentPanel.technicalDifficulties.hide()}()},SignInPopup.prototype.addDataForFavoriteSignInPanel=function(e,t){var i={hotelId:e,landingPage:t};n(this.panels.signInPanel).data("extra",i)},SignInPopup.prototype.removeFavoriteSignInPanel=function(){this.switchLoginBenefit(this.loginBenefit.signin,SignInPopup.ACTIONS.SIGN_IN)},SignInPopup.prototype.switchLoginBenefit=function(e,t){n.each(this.loginBenefit,function(i,o){pVal=o+'[data-panel="'+t+'"]',e==o?n(pVal).removeClass("hide"):n(pVal).addClass("hide")})},(e=e||{}).exports=SignInPopup},1177:function(e,t,i){var n=i(3),o=i(345),a=i(436);LoginLayout=function(e,t,i,o,a,s,r,c,l,p,u){var d=e;this.SignInPopupModule=t,this.ResetPasswordServiceModule=i,this.ResetPasswordPopupModule=o,this.CaptchaModule=a,this.LoginWatch=c,this.LocalStorageModule=l,this.MetricModule=r,this.OneClickBannerModule=p,this.FacebookSDKModule=u,this.WindowInjector=function(){return d},this.AgodaObject=function(){return d.agoda},d.agoda.UseLocalStorageForMeasurement=!0,this.InitializeAll=function(){this.InitializeLoggers(),this.LoadCMS(),this.WindowInjector().agoda.PhishingCheck&&this.PhishingProtection(),void 0!==c&&this.InitializeLoginWatch(),this.InitializeCaptcha(),this.InitializeLoginPopup(),this.InitializeResetPassword(),void 0===this.OneClickBannerModule||this.AgodaObject().OneClickBannerCongrats||this.InitializeOneClickBanner(),void 0!==this.FacebookSDKModule&&this.InitializeFacebook(),this.AllInitFinished()},this.IsMockData=function(){return"True"==n("#mockDataEnabled").val()||"True"===agoda.delphiMockMode},this.PopupAdapter=new s(this.WindowInjector.bind(this),690)},LoginLayout.prototype.InitializeFacebook=function(){if(agoda.isFacebookLogin){var e=this,t=this.FacebookSDKModule(this.WindowInjector.bind(this)),o=n("#hidden-routeinfo").data("culture");!0!==this.IsMockData()&&t.loadSdk(o),t.onFBSDKReadyDeferred(function(){!0!==agoda.FBAlreadyInited&&t.doFacebookInitWhenReady()}),agoda.offerAutoLogin&&t.onFBSDKReadyDeferred(function(){FB.getLoginStatus(function(t){switch(t.status){case"connected":e.AgodaObject().login.NewSignInPopup.facebookAutoLogin(t)}},!0)}),this.AgodaObject().login.checkLoginState=function(t){e.IsMockData()?LoginLayout.MockFBLogin(function(i){if(console.log("Fakebook login response"),console.log(i),"connected"===i.status&&(980!=e.AgodaObject().pageConfig.PageTypeId&&e.AgodaObject().login.NewSignInPopup.facebookGetLoginStatusCallback(i,t),"object"==typeof e.AgodaObject().login.FBSignInCallbacks))for(var n in e.AgodaObject().login.FBSignInCallbacks)e.AgodaObject().login.FBSignInCallbacks[n](i)}):FB.getLoginStatus(function(i){if("connected"===i.status&&(980!=e.AgodaObject().pageConfig.PageTypeId&&e.AgodaObject().login.NewSignInPopup.facebookGetLoginStatusCallback(i,t),"object"==typeof e.AgodaObject().login.FBSignInCallbacks))for(var n in e.AgodaObject().login.FBSignInCallbacks)e.AgodaObject().login.FBSignInCallbacks[n](i)})},this.AgodaObject().login.checkLoginStateWithMetric=function(t,o,a){var s={key:t,action:o};i(282).send("gm-"+t,JSON.stringify(s),null);var r=n("#reset-password-get-new-close-icon");1===r.length&&r.click(),e.AgodaObject().login.checkLoginState(a)},this.AgodaObject().login.FBWrapper=t}},LoginLayout.prototype.InitializeLoggers=function(){var e=this;if(this.LocalStorageModule&&this.AgodaObject().UseLocalStorageForMeasurement){var t=this.LocalStorageModule.Test();this.AgodaObject().UseLocalStorageForMeasurement=this.AgodaObject().UseLocalStorageForMeasurement&&t,t&&(this.LocalStorage=new this.LocalStorageModule(this.WindowInjector.bind(this)))}this.Metrics=new this.MetricModule(this.WindowInjector.bind(this)),this.Metrics.SendStashedMessages(),this.Metrics.LogAction("l",{page:agoda.PageType||agoda.rumpagetype||""}),this.Metrics.LogHistoryAndMark(),n(this.WindowInjector()).unload(function(){e.Metrics.LogHistoryAndMark(!1)}),e.AgodaObject().LoginDelphi=this.Metrics},LoginLayout.prototype.LoadCMS=function(){this.AgodaObject().PasswordCannotBeReused=n("#login-cms-password-cannot-reuse").text(),this.AgodaObject().login.cms={ResetPasswordFor:n("#login-cms-resetpassword-for").text(),TokenHasExpired:n("#login-cms-token-expired").text(),EmailNotExist:n("#login-cms-email-notexist").text(),CannotReusePassword:n("#resetpassword-cms").data("cannot-reuse")}},LoginLayout.prototype.PhishingProtection=function(){var e=new RegExp(/(?:https:\/\/|http:\/\/|^)(?:.+)\.agoda\.com(?:\?|\/|$)(?:.*)$/),t=new RegExp(/(?:https:\/\/|http:\/\/|^)localhost(?:$|\/|\?)(?:.*)$/),i="",o=[],a=!1,s="",r="";try{o=this.WindowInjector().top.document.getElementsByTagName("iframe"),i=this.WindowInjector().location.href,a=this.WindowInjector().top!==this.WindowInjector().self,r=this.WindowInjector().document.referrer||this.WindowInjector().location.href}catch(e){s=e}var c=!e.test(i)&&!t.test(i);if(!a&&o.length>0)for(var l=0;l<o.length;l++)if(o[l].height>1&&o[l].width>1){a=!0;break}if(a||c||s){var p="https://"+this.WindowInjector().location.host+"/api/Login/PhishingCheck",u={Href:i,Refferer:r,BadDomain:c,IFrame:a,Exception:encodeURI(s),Validation:n("input[name='requestVerificationToken']").val(),Captcha:""};n.ajax({url:p,data:{"":JSON.stringify(u)},method:"post"})}},LoginLayout.prototype.InitializeLoginWatch=function(){this.AgodaObject().LoginWatch||(this.AgodaObject().LoginWatch=new this.LoginWatch(this.WindowInjector()))},LoginLayout.prototype.InitializeResetPassword=function(){if(void 0===this.AgodaObject().login.ResetPasswordPopup){var e=new this.ResetPasswordServiceModule(this.WindowInjector.bind(this));this.AgodaObject().login.ResetPasswordPopup=new this.ResetPasswordPopupModule(e,this.WindowInjector.bind(this));var t=this,i=function(){t.AgodaObject().login.NewSignInPopup.hide(),t.AgodaObject().login.ResetPasswordPopup.show(t.ResetPasswordPopupModule.ACTIONS.GET_NEW)};n("#signin-forget-password-link").attr("href","#"),n("#signin-forget-password-link").on("click",i),this.AgodaObject().login.NewSignInPopup.signInPanel.forgotPasswordLink.attr("href","#"),this.AgodaObject().login.NewSignInPopup.signInPanel.forgotPasswordLink.on("click",i)}},LoginLayout.prototype.InitializeCaptcha=function(){this.AgodaObject().IsCaptcha&&void 0===this.AgodaObject().captcha&&(this.AgodaObject().captcha=new this.CaptchaModule(this.AgodaObject().bVariants.isB("LOGIN-4043")))},LoginLayout.prototype.InitializeLoginPopup=function(){var e=this;void 0===this.AgodaObject().showSignIn&&(this.AgodaObject().login.NewSignInPopup=new this.SignInPopupModule(this.WindowInjector(),this.Metrics),this.AgodaObject().showSignIn=function(){e.AgodaObject().login.NewSignInPopup.show("signin")}),this.PopupAdapter.Adapt(["#signin-popup-container","#signup-popup-container"])},LoginLayout.prototype.InitializeOneClickBanner=function(){if(void 0===this.AgodaObject().login.OneClickBanner){var e=this.AgodaObject().login.NewSignInPopup;this.AgodaObject().login.OneClickBanner=new this.OneClickBannerModule(this.WindowInjector.bind(this),e?this.AgodaObject().login.NewSignInPopup.loginService:new a(this.WindowInjector().location.host,this.WindowInjector()),e?this.AgodaObject().login.NewSignInPopup.validity:new o,this.Metrics)}},LoginLayout.prototype.AdaptiveHeader=function(){for(var e=["#pointsmax-menu-list",".logo-partner",".container-navbar-contact-number"],t=0,i=e.length-1;i>=0;i--){var o=n(e[i]);t+=o.length>0?o.width():0}t>=300?n("#page-header .navbar-header .container-agoda").addClass("longer"):t>=200&&n("#page-header .navbar-header .container-agoda").addClass("long")},LoginLayout.prototype.AllInitFinished=function(){this.AgodaObject().OneClickBannerCongrats&&(this.AgodaObject().login.NewSignInPopup?this.AgodaObject().login.NewSignInPopup.loginService:new a(this.WindowInjector().location.host,this.WindowInjector())).oneClickCongratsSeen();if("object"==typeof agoda.login.LoginLayoutCallbacks)for(var e in agoda.login.LoginLayoutCallbacks)agoda.login.LoginLayoutCallbacks[e]()},LoginLayout.MockFBLogin=function(e){console.log("Fake facebook login");for(var t,i=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),o=0;o<n.length;o++)t=n[o].split("="),i.push(t[0]),i[t[0]]=t[1];if(void 0!==i.mock){var a=i.mock;"#"===a[a.length-1]&&(a=a.slice(0,a.length-1)),console.log("Facebook button mock with set: "+a);var s=0;switch(a+""){case"association_success":s=1;break;case"password_required":case"switch_account":s=2;break;case"cannot_link":case"foreign_name":s=3;break;case"signup_email_require":s=4;break;case"email_verification_sent":s=8}e({status:"connected",authResponse:{accessToken:a,expiresIn:99999,signedRequest:"raraohahah.wantyourbadromance",facebookuserId:""+s}})}else{e({status:"connected",authResponse:{accessToken:"",expiresIn:99999,signedRequest:"raraohahah.wantyourbadromance",facebookUserId:""+s}})}},(e=e||{}).exports=LoginLayout},1178:function(e,t,i){var n=i(3);MessageModal=function(e,t,i){this.className="MessageModal",this.container=n("#"+e),this.submit=n("#"+e+"-submit-button"),this.submitCallback=t;var o=this;this.submit.on("click",function(){o.hide(),"function"==typeof o.submitCallback&&o.submitCallback(o)}),this.onHide=i},MessageModal.prototype.show=function(e,t){"function"==typeof e&&(this.submitCallback=e),"function"==typeof t&&(this.onHide=t),this.container.show()},MessageModal.prototype.hide=function(){"function"==typeof this.onHide&&this.onHide(),this.container.hide()},(e=e||{}).exports=MessageModal},1294:function(e,t){!function(){var t;function i(e){(t=this).$=e}agoda=agoda||{},agoda.desktop=agoda.desktop||{},agoda.desktop.AjaxService=i,i.prototype._get=function(e,i){t.$.ajax({type:"GET",url:e,dataType:"json",success:function(e){i(e)},error:function(e,t,i){}})},i.prototype._post=function(e,i,n){t.$.ajax({type:"POST",url:e,contentType:"application/json; charset=utf-8",dataType:"json",data:i,success:function(e){n(e)},error:function(e,t,i){}})},i.prototype._post=function(e,i,n,o){t.$.ajax({type:"POST",url:e,contentType:"application/json; charset=utf-8",dataType:"json",data:i,success:function(e){n(e,o)},error:function(e,t,i){}})},void 0!==e&&e.exports&&(e.exports=i)}()},1295:function(e,t){agoda.promoinboxicon=function(){var e=$(".promoInbox-menu-icon, .header-links-promo-inbox"),t=$("#promoinbox-popup-panel");$("#promoinbox-popup-close-icon");function i(){"undefined"!==t&&t.length>0?(t.show(),e.parent().hasClass("selected")||e.parent().addClass("selected"),$("#promoinbox-popup-close-icon").click(function(i){i.stopPropagation(),e.parent().hasClass("selected")&&e.parent().removeClass("selected"),t.hide()}),t.click(function(e){e.stopPropagation();var i=t.attr("data-url");null!=i&&(window.location.href=i)}),$(document).mouseup(function(i){t.is(i.target)||0!==t.has(i.target).length||(e.parent().removeClass("selected"),t.hide())})):e.parent().removeClass("selected")}function n(){i()}return $(document).ready(function(){var e=function(){setTimeout(function(){n()},200)};"uninitialized"==document.readyState||"loading"==document.readyState?$(window).load(e):e()}),{init:n,hasPromoInboxPopup:function(){return"undefined"!==t&&t.length>0}}}(window.jQuery)},1296:function(e,t,i){try{i(85)}catch(e){console.warn("Webpack not supported so backdrops will not show")}FeedbackSource=null,agoda.feedback=function(e){var t=e(".feedback-menu-icon").parent(),i=e(".feedback-panel"),n=e("#feedback-menu"),o=e("#website-feedback-panel");e(".header-feedback");function a(e){e.stopPropagation(),i.toggle(),t.hasClass("selected")?t.removeClass("selected"):t.addClass("selected")}return window.addEventListener?window.addEventListener("neb_OnsiteLoaded",function(e){agoda.feedback.init()},!1):window.attachEvent("neb_OnsiteLoaded",function(e){agoda.feedback.init()}),n.click(a),e(document).on("click","#website-feedback-panel",function(){if(window.KAMPYLE_ONSITE_SDK){var t=e("#website-feedback-panel").attr("data-id");window.KAMPYLE_ONSITE_SDK.showForm(t,{}),e("#nebula_div_btn").click(),FeedbackSource="Footer"}}),e(document).mouseup(function(e){n.is(e.target)||0!==n.has(e.target).length||(t.removeClass("selected"),i.hide())}),{init:function(){"undefined"!=typeof KAMPYLE_REVISION&&o.show(),!0}}}(window.jQuery)},1297:function(e,t,i){(function(t){t.namespace("agoda.redirect.overlaybanner.uIControl"),agoda.redirect.overlaybanner.uIControl=function(){"use strict";var e,t,i,n,o,a,s,r,c,l,p,u,d,h,g,f,m,v,w,S,I,b,C,P,L,y,k,E=function(){C.show()},A=function(){k.on("click",function(){"Chrome"==k.data("browser")&&n.click()}),n.on("click",function(){T()}),f.on("click",function(){T()}),l.on("click",function(){T()}),P.on("click",function(){E(),x()}),L.on("click",function(){E(),x()}),N(t)||_()},_=function(){"false"==i.attr("data-is-android")?r.on("orientationchange",function(){setTimeout(function(){"none"!=i.css("display")&&R()},50)}):r.on("orientationchange",function(){if("none"!=i.css("display")){var e=function(){R(),r.off("resize",e)};r.on("resize",e)}})},O=function(){return N(i)},N=function(e){return null!=e&&void 0!=e&&0!=e.length},T=function(){var e=agoda.redirect.overlaybanner.uIControl.getOpenLink();agoda.redirect.overlaybanner.uIControl.getInstallLink();if(""!=e&&null!=e){var t=i.data("messageid");null!=t&&agoda.redirect.measure.sendMeasurement(t,e),window.open(e)}},x=function(){i.hide(),s.css("overflow-y",""),s.css("position","")},R=function(){s.style("overflow-y","hidden","important"),s.css("position","fixed"),s.css("width","100%");var e=r.width(),t=r.height();c.removeClass("col-xs-2"),c.removeClass("col-xs-3"),c.addClass("col-xs-3"),l.removeClass("col-xs-9"),l.removeClass("col-xs-10"),l.addClass("col-xs-9"),e<t?(p.css("margin-top",""),u.css("text-indent",""),p.css("width","100%"),p.css("height","100%"),u.css("height",.28*t+"px"),d.css("margin",10*t/480+"px "+15*e/320+"px 0px "+15*e/320+"px"),h.css("margin-bottom",20*t/480+"px"),h.css("font-size",22*e/320+"px"),g.css("margin-bottom",20*t/480+"px"),c.css("padding","0px "+13*e/320+"px 0px 0px"),f.css("background-size",60*e/320+"px "+60*e/320+"px"),f.css("width",60*e/320+"px"),f.css("height",60*e/320+"px"),l.css("padding",5*t/480+"px 0px 0px 0px"),m.css("font-size",13*e/320+"px"),v.css("font-size",12*e/320+"px"),w.css("font-size",12*e/320+"px"),S.css("margin-top",12*t/480+"px"),S.css("margin-bottom","0"),I.css("font-size",10*e/320+"px"),P.css("margin-top",8*t/480+"px")):(p.css("margin-top","-340px"),p.css("width","auto"),p.css("height","auto"),u.css("height",.15*t+"px"),d.css("margin",10*t/480+"px "+7.5*e/320+"px 0px "+7.5*e/320+"px"),h.css("margin-bottom",10*t/480+"px"),h.css("font-size",11*e/320+"px"),g.css("margin-bottom",10*t/480+"px"),c.css("padding","0px "+6.5*e/320+"px 0px 0px"),f.css("background-size",30*e/320+"px "+30*e/320+"px"),f.css("width",30*e/320+"px"),f.css("height",30*e/320+"px"),l.css("padding",5*t/480+"px 0px 0px 0px"),m.css("font-size",6.5*e/320+"px"),v.css("font-size",6*e/320+"px"),w.css("font-size",6*e/320+"px"),S.css("margin-top",6*t/480+"px"),S.css("margin-bottom","0"),b.css("font-size",8*e/320+"px"),I.css("font-size",5*e/320+"px"),P.css("margin-top",8*t/480+"px"),c.removeClass("col-xs-3"),c.addClass("col-xs-2"),l.removeClass("col-xs-9"),l.addClass("col-xs-10")),M()},M=function(){if(agoda.bVariants.isB("PER-3572-KILLSWITCH")&&agoda.critical&&agoda.critical.searchbox&&!agoda.critical.searchbox.focus||!agoda.critical||!agoda.critical.searchbox){var e=P.position();i.show(),setTimeout(function(){i.scrollTo(e.top,e.left)},250)}};return{init:function(E){i=E.OVERLAY_BANNER,O()&&(e=E.DEFAULT_OVERLAY,t=E.PROMO_OVERLAY,E.OPEN_SITE_TEXT,n=E.OPEN_APP_BTN,o=E.ATTR_DATA_INSTALL_LINK,a=E.ATTR_DATA_OPEN_LINK,s=E.HTML,E.BODY,r=E.window,c=E.ICON_WRAP,l=E.CONTENT_WRAP,p=E.IMG_OVERLAY,u=E.IMG_OVERLAY_WRAP,d=E.OLAY_ART,h=E.ART_TEXT,g=E.OLAY_CONTENT,f=E.APP_ICON_OLAY,m=E.CONTENT_WRAP_LBL,v=E.CONTENT_WRAP_I,w=E.CONTENT_WRAP_SPAN,S=E.BTN_OPEN,I=E.BTN_OPEN_TXT,b=E.BTN_OPEN_APP,C=E.CONTAINER_AGODA,E.FOOTER,E.OVERLAY_SECTION,P=E.OPEN_SITE,L=E.CLOSE_BANNER,E.OPEN_SITE_I,E.FICON_STAR,k=E.BANNER_NOTIFICATION,y=E.IS_PROMOOVERLAY_SWIPE,A(),N(t)?"True"==y?(s.style("overflow-y","hidden","important"),s.css("position","fixed"),s.css("width","100%"),_showBannerWithSlideDown(r.height())):M():N(e)&&R())},openLink:T,getOpenLink:function(){return null==n||void 0==n||void 0==a?"":a},getInstallLink:function(){return null==n||void 0==n||void 0==o?"":o},isShow:function(){var n=0,o=!0;return N(t)?(n=parseInt(t.css("top")),o=t.is(":visible")):N(e)&&(n=parseInt(i.css("top")),o=i.is(":visible")),!(n==-1*r.height()&&!o)}}}(t.jQuery),void 0!==e&&e.exports&&(e.exports=agoda.redirect.overlaybanner.uIControl)}).call(this,i(5))},1298:function(e,t,i){(function(t){t.namespace("agoda.redirect.overlaybanner"),agoda.redirect.overlaybanner=function(e){"use strict";return{init:function(){var t={};t.DEFAULT_OVERLAY=e(".default-overlay"),t.PROMO_OVERLAY=e(".promo-overlay"),t.OVERLAY_BANNER=e(".redirect-overlay-banner"),t.OPEN_SITE_TEXT=e(".open-site-text"),t.OPEN_APP_BTN=e(".open-app-btn"),t.ATTR_DATA_INSTALL_LINK=e(".open-app-btn").data("install-link"),t.ATTR_DATA_OPEN_LINK=e(".open-app-btn").data("open-link"),t.HTML=e("html"),t.BODY=e("body"),t.window=e(window),t.ICON_WRAP=e(".icon-wrapper"),t.CONTENT_WRAP=e(".content-wrapper"),t.IMG_OVERLAY=e(".image-overlay"),t.IMG_OVERLAY_WRAP=e(".image-overlay-wrapper"),t.OLAY_ART=e(".overlay-article"),t.ART_TEXT=e(".article-text"),t.OLAY_CONTENT=e(".overlay-content"),t.APP_ICON_OLAY=e(".agoda-app-icon-overlay"),t.CONTENT_WRAP_LBL=e(".content-wrapper > label"),t.CONTENT_WRAP_I=e(".content-wrapper > i"),t.CONTENT_WRAP_SPAN=e(".content-wrapper > span"),t.BTN_OPEN=e(".open-app"),t.BTN_OPEN_TXT=e(".open-site-text"),t.BTN_OPEN_APP=e(".open-app-btn"),t.FOOTER=e("footer"),t.CONTAINER_AGODA=e(".container-agoda"),t.OVERLAY_SECTION=e(".overlay-section"),t.OPEN_SITE=e(".open-site"),t.CLOSE_BANNER=e(".banner-close"),t.OPEN_SITE_I=e(".open-site > i"),t.TARGETED_BANNER=e(".redirect-overlay-banner"),t.BANNER_NOTIFICATION=e(".banner-notification"),t.FICON_STAR=e("#overlay-display-star"),t.BANNER_NOTIFICATION_CLOSE=e(".banner-notification > i"),agoda.redirect.overlaybanner.uIControl.init(t)}}}(t.jQuery),void 0!==e&&e.exports&&(e.exports=agoda.redirect.overlaybanner)}).call(this,i(5))},1299:function(e,t){agoda=agoda||{},agoda.UiTracking=function(e){this._options=$.extend({},{name:"",url:""},e)},agoda.UiTracking.prototype={startTracking:function(){this._startTime=new Date,this._isSent=!1},sendTracking:function(){var e=this;if(!e._isSent){var t=e._startTime.getTime(),i=(new Date).getTime()-t,n={name:e._options.name,time:i};$.post(e._options.url,n,function(t){e._isSent=!0})}}},(e=e||{}).exports=agoda.UiTracking},1300:function(e,t){agoda.login.service=function(){var e="https://"+window.location.host+"/api/main/login",t="https://"+window.location.host+"/api/main/signup",i="https://"+window.location.host+"/api/main/ValidateEmailExistence",n="https://"+window.location.host+"/api/Login/SeenFacebookLogin",o="https://"+window.location.host+"/api/Login/ClickFacebookLogin",a="https://"+window.location.host+"/api/Login/SeenLoginPopup";function s(e,t,i,n,o){var a=e+":"+t+":true:"+i;return a+=":"+(void 0!==n?n:0),a+=":",{"":a+=":"+(void 0!==o?o:0)}}function r(e,t,i,n,o,a,s){var r=e+":"+t+":"+i+":"+n+":"+o+":"+a;return void 0!==s&&(r=r+":"+s),{"":r}}return{signIn:function(t,i,n,o,a,r){var c=s(t,i,n,a,r);$.ajax({type:"POST",url:e,data:c,xhrFields:{withCredentials:!0},dataType:"json",success:function(e){void 0!==o&&o(e)}})},signUp:function(e,i,n,o,a,s,c,l){if(window.messageLog.push("FE.SignUpCheck.AgodaService",1),agoda.bVariants.isB("LOGIN-4338")){var p={firstname:e,lastname:i,email:n,password:o,token:s,isSubscribed:a,pageType:l};$.ajax({type:"POST",url:"https://"+window.location.host+"/api/login/signup",data:p,dataType:"json",success:function(e){void 0!==c&&c(e)}})}else{var u=r(e,i,n,o,a,s,l);$.ajax({type:"POST",url:t,data:u,xhrFields:{withCredentials:!0},dataType:"json",success:function(e){void 0!==c&&c(e)}})}},getSignInData:s,getSignUpData:r,isEmailExistence:function(e,t,n){var o=function(e,t){return{"":e+":"+t}}(e,t);$.ajax({type:"POST",url:i,data:o,xhrFields:{withCredentials:!0},dataType:"json",success:function(e){void 0!==n&&n(e)}})},seenFacebookLogin:function(e,t){$.ajax({type:"POST",url:n,data:{"":e},xhrFields:{withCredentials:!0},dataType:"json",success:function(e){void 0!==t&&t(e)}})},clickFacebookLogin:function(e,t){$.ajax({type:"POST",url:o,data:{"":e},xhrFields:{withCredentials:!0},dataType:"json",success:function(e){void 0!==t&&t(e)}})},seenLoginPopup:function(e,t){$.ajax({type:"POST",url:a,data:e,xhrFields:{withCredentials:!0},dataType:"json",success:function(e){void 0!==t&&t(e)}})}}}(window.jQuery)},1301:function(e,t){agoda.login.validity=function(){function e(e){return/^[a-z\-\.\u00aa\u00ba\u00c0-\u00ff\u0100-\u017F\u0180-\u024F\u0292\u0300-\u036f\u1D00-\u1D6A\u1E00-\u1EFF\ua720-\ua7ff\'\’\`\s]+$/i.test(e)}return{isNotEmpty:function(e){return 0==!e.length},isEnglishFormat:e,isEmailFormat:function(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)},onInputChange:function(t){return!!e(String.fromCharCode(t.which))||(alert(agoda.cms.getCmsText(INPUT_ENGLISH_ONLY)),t.preventDefault(),!1)}}}(window.jQuery),void 0!==e&&e.exports&&(e.exports=agoda.login.validity)},1302:function(e,t){agoda.login.signinpanel=function(){var e="#signin-email-input",t="#signin-password-input",n="#signup-action",o="#signin-submit-button",a="#signin-panel",s="#signup-panel",r="#signin-panel-form",c=".close-panel",l="#signin-loading-icon",p="#fb-signin-button",u="fb-signin-tooltip",d="#page-identification",h="page";function g(e){var t=agoda.login.validity,i=[],n=v();return t.isNotEmpty(e)?t.isEmailFormat(e)||i.push(n.emailWrongFormat):i.push(n.emailEmpty),i}function f(e){var t=agoda.login.validity,i=[],n=v();return t.isNotEmpty(e)||i.push(n.passwordEmpty),i}function m(){return{email:$(e),password:$(t),hotelId:$(a).data("hotel-id")}}function v(){return{respondEmailPasswordIncorrect:$("#signin-respond-warning-email-password-incorrect"),emailEmpty:$("#signin-email-blank"),emailWrongFormat:$("#signin-email-wrong-format"),passwordEmpty:$("#signin-password-blank")}}function w(){var e=v();e.respondEmailPasswordIncorrect.hide(),e.emailEmpty.hide(),e.emailWrongFormat.hide(),e.passwordEmpty.hide()}function S(e){for(i=0;i<e.length;i++)e[i].show()}function I(e,t,i){$(o).addClass("hide-text"),$(l).show();agoda.login.service.signIn(e,t,$("input[name='requestVerificationToken']").val(),function(e){e.Success?window.location.reload():(S([v().respondEmailPasswordIncorrect]),$(o).removeClass("hide-text"),$(l).hide())},$(d).data(h),i)}function b(){$(a).hide(),$(s).show()}return{init:function(){window.location.hash.indexOf("contact_host")>0&&$("#sign-in-alert-info-before-contact-host").show(),$(n).on("click",function(e){b()}),$(o).on("click",function(e){e.preventDefault(),w();var t=m(),i=[];0==(i=(i=i.concat(g(t.email.val()))).concat(f(t.password.val()))).length?I(t.email.val(),t.password.val()):S(i)}),$(c).on("click",function(e){agoda.desktop.oldpopup.close(),$("#oldpopup-backdrop").hide(),$("#oldpopup-popup").hide()}),$(r).submit(function(){return!1}),$(p).length>0&&(agoda.login.service.seenFacebookLogin("signin panel"),$(p).tooltip({trigger:"manual",placement:"top"}),$(p).on("click",function(e){e.preventDefault(),$(e.target).hasClass(u)?$(e.target).removeClass(u).tooltip("hide"):($(p+"."+u).removeClass(u).tooltip("hide"),$(e.target).addClass(u).tooltip("show"),setTimeout(function(){$(p+"."+u).removeClass(u).tooltip("hide")},5e3)),agoda.login.service.clickFacebookLogin("signin panel")}))},performSignIn:I,getSignInForm:m,validateEmailInput:g,validatePasswordInput:f,getValidationFeedback:v,resetValidationFeedback:w,displayValidationFeedback:S,showSignUp:b}}(window.jQuery)},1303:function(e,t,i){(function(e){e.namespace("agoda.login.popup"),agoda.login.popup=function(){var e="login_popup_template";function t(e){$(e).on("click",function(e){var t=$(this).data("login-action");t?agoda.login.popup.display(t):agoda.login.popup.display("signin")})}return{init:function(e){t(e)},bindOnClickEvent:t,display:function(t){agoda.login.NewSignInPopup||(agoda.desktop.oldpopup.open({loadingTemplate:e}),agoda.login.signinpanel.init(),agoda.login.signuppanel.init(),t&&"signup"===t&&agoda.login.signinpanel.showSignUp(),agoda.login.banner.seenLoginPopup("signin","banner"))}}}(e.jQuery)}).call(this,i(5))},1304:function(e,t,i){(function(t){t.namespace("agoda.experiment"),agoda.experiment=function(e){"use strict";var t,i=function(e){return!("string"!=typeof e||!t||!t.length||t.length<1)};return{init:function(e){e&&(t=e.experimentList)},isB:function(e){if(!i(e))return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},reset:function(){t=null},isOK:function(){return null!=t}}}(t.jQuery),void 0!==e&&e.exports&&(e.exports=agoda.experiment)}).call(this,i(5))},1310:function(e,t,n){(function(t){t.namespace("agoda.cookie"),agoda.cookie.object=function(){return{get:function(){return document.cookie},set:function(e){return document.cookie=e}}},agoda.cookie.service=function(e,t){var n=1==t&&window.location.host.indexOf(".agoda.com")>=0?".agoda.com":null;function o(t,i,o){var a="";if(o&&0!=o){var s=new Date;s.setTime(s.getTime()+24*o*60*60*1e3),a="; expires="+s.toGMTString()}var r=t+"="+i+a+"; path=/;"+(null!=n?"domain="+n+";":"");e.set(r)}function a(t){var i=t+"=",n=e.get();if(n)for(var o=n.split(";"),a=0;a<o.length;a++){for(var s=o[a];" "==s.charAt(0);)s=s.substring(1,s.length);if(0==s.indexOf(i))return s.substring(i.length,s.length)}return null}function s(e,t){if(""===e||""===t)return"";var n=a(e);if(!n)return"";var o=n.split("&");if(!o)return"";var s=[],r=[];for(i=0;i<o.length;i++)s[i]=o[i].split("=");for(i=0;i<s.length;i++)r[s[i][0]]=s[i][1];return r[t]?r[t]:""}return{update:function(e,t,i,n){var r=a(e),c=t+"="+i;if(r){var l=s(e,t);l?r=r.replace(t+"="+l,c):r+="&"+c}else r=c;o(e,r,n)},create:o,read:a,erase:function(e){o(e,"",-1)},getElement:s}},void 0!==e&&e.exports&&(e.exports=agoda.cookie)}).call(this,n(5))},1311:function(e,t,i){(function(t){var i;t.namespace("agoda.page"),i=window.jQuery,agoda.page=function(){var e,t,n=7;function o(){return t&&t.getIsDataReady()}function a(e,t,i){var n=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=-1!==e.indexOf("?")?"&":"?",a=e.split("#"),s=a[0];return s=s.match(n)?s.replace(n,"$1"+t+"="+i+"$2"):s+o+t+"="+i,a.length>1&&(s+="#"+a[1]),s}return e=new agoda.belowFold,function(){if(window.history&&"undefined"!=typeof History&&History.enabled){var e=window.location.href,t=document.title;if(1===window.history.length&&1===History.storedStates.length&&i("#referrerUrl").length&&i("#referrerUrl").val().length&&i("#pagetrace").length&&"hotel"===i("#pagetrace").val()&&e.indexOf("pagetrace")<0){var n=a(i("#referrerUrl").val(),"pagetrace","hotel"),e=a(e,"pagetrace","search");History.replaceState({url:n,backtrace:!0},null,n),History.pushState({url:e,backtrace:!0},t,e),History.Adapter.bind(window,"statechange",function(){var e=History.getState();e&&e.data&&e.data.backtrace?window.location.href=e.data.url:window.location.reload()})}else e.indexOf("pagetrace=")>=0&&(e.indexOf("pagetrace=hotel")>=0&&History.go(-1),History.Adapter.bind(window,"statechange",function(){var e=History.getState();e&&e.data&&e.data.backtrace?window.location.href=e.data.url:window.location.reload()}))}}(),i("#hotel-photo-slider > div").hover(function(){i(".slider-nav").show()},function(){i(".slider-nav").hide()}),{initCurrency:function(e){var n=i("#currency"),o=new agoda.currencyService(e,!1),a=new agoda.currencyView(n,"#currencies-panel",null,o);a.fetchCurrencies(),a.onCurrencyChanged(function(e){o.updateSelectedCurrency(e.ID,!1,function(){i(agoda.page).trigger("currencyChanged",e),function(){if(agoda.bVariants.isB("LOY-859")){var e=new agoda.memberService,t=new agoda.userMenu.giftCardView(".member-giftcard-balance");e.updateMemberGiftCard("/api/Main/GetGiftCardValue",t)}}(),agoda.eventhelper.fireNotRemove(agoda.eventhelper.name.ON_CURRENCY_CHANGED,e)}),n.attr("title",e.Display),n.attr("data-text",e.Text),n.attr("data-id",e.ID)}),t=a},initPriceViewHeader:function(e){priceViewHeader=new agoda.wysiwypservice.PriceViewHeader(e)},initLanguage:function(e){var t=new agoda.languageView(i("#language"),"#languages-panel");new agoda.languageService(e,!1).fetch(function(e){var i,n;for(i=0;i<e.SuggestedList.length;i++)t.addSuggestedLanguage(e.SuggestedList[i]);var o=e.AllLanguageList.length%3;for(0===o&&(o=3),i=0,n=e.AllLanguageList.length;i<n;i++)e.AllLanguageList[i].BottomRow=i+o>=n,t.addAllLanguage(e.AllLanguageList[i]),e.AllLanguageList[i].isSelected&&t.addSelectedLanguage(e.AllLanguageList[i].LanguageId)}),t.onLanguageChanged(function(e){window.agoda.Language.changeLanguage(e.UiCulture)})},initMainPhoto:function(e,t,i,n,o){new agoda.mainphoto(e,"#main-photo-image","#main-photo-image-fade","#main-photo-previous","#main-photo-next",t,i,document,window,!1,"","#hotel-photo-slider","#hotel-photo-slider .slider-item","#next-slider-nav","#previous-slider-nav",n,o)},initMainPhotoWithSmallPhotoGrid:function(e,t,i,n,o){new agoda.mainphotoWithSmallPhotoGrid(e,"#main-photo-image","#main-photo-image-fade","#main-photo-previous","#main-photo-next",t,i,document,window,"","#hotel-small-photo-grid","#hotel-small-photo-grid .slider-item",n,o)},belowFold:e,initLoginPopup:function(){agoda.login.popup.init("#sign-in")},initCurrencyCrawler:function(e){var t=new agoda.currencyService(e,!1);new agoda.currencyView(i("#currency"),"#currencies-panel",null,t,!0).onCurrencyChanged(function(e){t.updateSelectedCurrency(e.ID,!1)})},initLanguageCrawler:function(e,t){var n,o=JSON.parse(t),a=new agoda.languageView(i("#language"),"#languages-panel");for(new agoda.languageService(e,!1),n=0;n<o.SuggestedList.length;n++)a.addSuggestedLanguage(o.SuggestedList[n]);for(n=0;n<o.AllLanguageList.length;n++)a.addAllLanguage(o.AllLanguageList[n]),o.AllLanguageList[n].isSelected&&a.addSelectedLanguage(o.AllLanguageList[n].LanguageId);a.onLanguageChanged(function(e){i("#languages-panel").find("i[data="+e.LanguageId+"]").attr("UiCulture"),window.location=e.FullUrl})},initPointsMaxMenu:function(){agoda.pointsmax.menu.init(agoda.pageConfig?agoda.pageConfig.pageTypeId:n)},setSelectedCurrency:function(e){o()&&t.updateCurrencyView(e)},buildLanguageUrl:function(e,t){return t.indexOf("?")<0?e:e.split("?")[0]+"?"+t.split("?")[1]},isCurrencyReady:o,initApplyGiftcard:function(){"undefined"!=typeof applyGiftcard&&"function"==typeof applyGiftcard.init&&applyGiftcard.init()},updateCurrencyCodeFromCookie:function(){o()&&t.updateCurrencyCodeFromCookie()}}}(),void 0!==e&&e.exports&&(e.exports=agoda.page)}).call(this,i(5))},1313:function(e,t,i){var n;new Array;try{i(85),n=i(443)}catch(e){console.warn("Webpack not supported so backdrops will not show")}!function(e){"use strict";function t(e,t){t?e.parent().removeClass("selected"):e.parent().addClass("selected"),e.toggle()}function i(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}function o(e){return/^[a-z\-\.\u00aa\u00ba\u00c0-\u00ff\u0100-\u017F\u0180-\u024F\u0292\u0300-\u036f\u1D00-\u1D6A\u1E00-\u1EFF\ua720-\ua7ff\'\’\`\s]+$/i.test(e)}agoda.currencyView=function(i,n,o,a,s){var r,c,l,p,u,d,h={buttonSelector:i,currencyListSelector:n,suggestedCurrecnyListSelector:"#suggested-currency",topCurrencyListSelector:"#top-currencies",allCurrencyListSelector:"#all-currencies",currencyService:a},g="currencies-template",f="currency-item-template",m="",v=null,w="",S=!1,I=!!s,b=!1,C=[],P=[],L=[],y=[],k=[],E=[];function A(){I&&(s&&(l.show().removeClass("hide"),p.show().removeClass("hide"),u.show().removeClass("hide")),t(d,S),S=!S)}function _(){var t=Handlebars.compile(e.getMustache(g,m))();c.append(t),l=e(h.suggestedCurrecnyListSelector,m),p=e(h.topCurrencyListSelector,m),u=e(h.allCurrencyListSelector,m),(d=e(h.currencyListSelector,m)).hide()}function O(t){t.find("ul").on("click","li",function(){if(w=e(this).attr("data-id"),s){var t=e(this).data("code");r.text(t)}else i=jQuery.grep(L,function(e,t){return e.ID==w})[0],v=void 0!==i?i:jQuery.grep(P,function(e,t){return e.ID==w})[0],r.text(v.Display);var i;u.find("li.selected").removeClass("selected"),p.find("li.selected").removeClass("selected"),N(v.ID),e.each(y,function(e,t){t(v)})})}function N(e){var t=function(t){t.find("li.selected").removeClass("selected"),t.find("li[data-id="+e+"]",m).addClass("selected")};t(l),t(p),t(u)}function T(e,t){e.append(t),e.parent().show(),e.parent().removeClass("hide"),I=!0}function x(t){C.push(t);var i=Handlebars.compile(e.getMustache(f,m))({Currencies:[t]});T(l.find("ul",m),i)}function R(t){P.push(t);var i=Handlebars.compile(e.getMustache(f,m))({Currencies:[t]});T(p.find("ul",m),i)}function M(t){L.push(t);var i=Handlebars.compile(e.getMustache(f,m))({Currencies:[t]});T(u.find("ul",m),i),u.find("li[data-id="+v.ID+"]",m).addClass("selected")}function D(){S&&A()}function F(e){var t=h.buttonSelector;t.text=e.Display,t.attr("data-id",e.ID),t.attr("data-text",e.Text),t.attr("title",e.Display)}function B(e){for(var t=0;t<L.length;t++)if(L[t].Code==e)return F(v=L[t]),void(h.currencyService&&h.currencyService.updateSelectedCurrency(v.ID,!1))}function j(e){b=e,"undefined"!==agoda.currencyView.OnReady&&"function"==typeof agoda.currencyView.OnReady&&agoda.currencyView.OnReady()}return(r=e(h.buttonSelector,m)).bind("updateCurrencyCode",function(){B(r.text())}),m=e(o||document),function(){r=e(h.buttonSelector,m);var t=e.trim(r.attr("data-id")),i=e.trim(r.text()),n=e.trim(r.attr("data-text"));v={id:t,code:i,text:n},(c=r.parent()).click(A)}(),_(),O(u),O(l),O(p),e(document).mouseup(function(e){d.is(e.target)||0!==d.has(e.target).length||r.is(e.target)||D()}),{getSelectedCurrency:function(){return v},setSelectedCurrencyByCode:B,getIsDataReady:function(){return b},setIsDataReady:j,isVisible:function(){return S},open:function(){S||A()},close:D,addSuggestedCurrency:x,addTopCurrency:R,addAllCurrency:M,updateCurrencyView:function(e){var t=function(e){var t=jQuery.grep(L,function(t,i){return t.Code==e})[0];return void 0!==t?t:jQuery.grep(P,function(t,i){return t.Code==e})[0]}(e);F(t),r.text(t.Display),u.find("li.selected").removeClass("selected"),u.find("li[data-id="+t.ID+"]").addClass("selected")},onCurrencyChanged:function(e){y.push(e)},onPanelClosed:function(e){k.push(e)},onPanelOpened:function(e){E.push(e)},fetchCurrencies:function(){a.fetch(function(e){var t,i;for(t=0,i=e.SuggestedList.length;t<i;t++)x(e.SuggestedList[t]);for(t=0,i=e.TopCurrencyList.length;t<i;t++)R(e.TopCurrencyList[t]);var n=e.AllCurrencyList.length%3;for(0===n&&(n=3),t=0,i=e.AllCurrencyList.length;t<i;t++)e.AllCurrencyList[t].BottomRow=t+n>=i,M(e.AllCurrencyList[t]);N(v.id),j(!0)})},updateCurrencyCodeFromCookie:function(){var e=new agoda.cookie.service(new agoda.cookie.object).getElement("agoda.version.03","CurLabel");e&&B(e)}}},agoda.currencyOptionsView=function(e){var t,i=e,n=[];return{getSelectedCurrencyCode:function(){return t},setSelectedCurrencyCode:function(e){t!=e&&(t=e,i.val(e),i.trigger("change"))},addChangedCallBackFunc:function(e){n.push(e)}}},agoda.languageView=function(i,n,o,a){var s,r,c,l,p,u,d={buttonSelector:i,languageListSelector:n,suggestedLanguageListSelector:"#suggested-language",allLanguageListSelector:"#all-languages"},h="languages-template",g="language-item-template",f="",m="",v=!1,w=[],S=[],I=[],b=[],C=[];function P(){!0&&(a&&(c.show().removeClass("hide"),l.show().removeClass("hide")),t(p,v),v=!v)}function L(){var t=e.getMustache(h,f),i=Handlebars.compile(t)();r.append(i),c=e(d.suggestedLanguageListSelector,f),l=e(d.allLanguageListSelector,f),(p=e(d.languageListSelector,f)).hide()}function y(e,t){e.append(t),e.parent().show(),e.parent().removeClass("hide"),!0}function k(t){t.find("ul").on("click","li",function(){if(m=e(this).find("i").attr("data"),s.children().attr("data",m),s.children().removeClass(s.children().attr("class")).addClass(e(this).find("i").attr("class")),l.find("li.selected").removeClass("selected"),"all-languages"===e(this).closest("div").attr("id")?e(this).addClass("selected"):l.find("i[data="+m+"]",f).parent().parent().addClass("selected"),e.each(I,function(e,t){t(A())}),agoda.system&&agoda.system.language&&agoda.system.language.redirect){var t=A();t&&t.hasOwnProperty("CultureCode")&&agoda.system.language.set(t.CultureCode)}})}function E(){v&&P()}function A(){return jQuery.grep(S,function(e,t){return e.LanguageId==m})[0]}return f=e(o||document),u=(s=e(d.buttonSelector,f)).children().data("language")||s.children().attr("data"),m=e.trim(u),(r=s.parent()).click(P),L(),k(l),k(c),e(document).mouseup(function(t){0===e(t.target).closest("#language").length&&E()}),{getSelectedLanguage:A,isVisible:function(){return v},open:function(){v||P()},close:E,addSuggestedLanguage:function(t){w.push(t);var i=Handlebars.compile(e.getMustache(g,f))({Language:[t]});y(c.find("ul",f),i),c.find("i[data= "+t.LanguageId+"]").parent().parent().addClass("selected")},addAllLanguage:function(t){S.push(t);var i=Handlebars.compile(e.getMustache(g,f))({Language:[t]});y(l.find("ul",f),i),l.find("i[data="+m+"]",f).parent().parent().addClass("selected")},onLanguageChanged:function(e){I.push(e)},onPanelClosed:function(e){b.push(e)},onPanelOpened:function(e){C.push(e)},addSelectedLanguage:function(e){l.find("i[data= "+e+"]").parent().parent().addClass("selected")}}},agoda.signInSignUpPanel=function(){var t,i,o=!1,a="#link-signout";function s(){e.ajax({url:"/api/main/logout",type:"POST",dataType:"jsonp",cache:!1,success:function(e){agoda.login.FBWrapper.logout(function(){window.location.reload()})},error:function(e){}})}function r(e){o?c():(t.parent().addClass("selected"),i.show(),i.focus(),o=!0)}function c(){t.parent().removeClass("selected"),i.hide(),o=!1}return{init:function(o,l,p){t=e(o),i=e(l),function(e){t.click(e,r)}(p),e(document).mouseup(function(e){i.is(e.target)||0!==i.has(e.target).length||t.is(e.target)||0!==t.has(e.target).length||c()}),e(a).on("click",s),agoda.eventhelper&&agoda.eventhelper.listen(agoda.eventhelper.name.ON_CLICK_POINTSMAX_DROPDOWN,function(){c()}),function(){if(n){var e=n();e.doFacebookInitWhenReady()}}()}}}(),agoda.signInSignUpPanel.tabs=function(){return{init:function(t,i){var n=[],o=e(i);e.each(t,function(t,i){var a=e(i);n.push(a),a.click(function(){!function(t,i,n){e.each(i,function(e,t){t.removeClass("active")}),t.addClass("active"),n.children().hide();var o=t.attr("data-value");e("#"+o).show()}(a,n,o)})})}}}(),agoda.signInSignUpPanel.signInForm=function(){return{init:function(t,n){var o={keepMeLogin:e(t.keepMeLoginSectionSelector),checkboxButton:e(t.checkboxButtonSelector),signInButton:e(t.signInButtonSelector),emailInput:e(t.emailInputSelector),passwordInput:e(t.passwordInputSelector)},a={emailLabel:e(n.emailLabelSelector),passwordLabel:e(n.passwordLabelSelector),emailIncorrectLabel:e(n.emailIncorrectLabelSelector),emailWrongFormat:e(n.emailWrongFormatLabelSelector),passwordBlankLabel:e(n.passwordBlankLabelSelector),emailBlankLabel:e(n.emailBlankLabelSelector),signInButton:e(t.signInButtonSelector)};function s(e,t){var n=!0;return t.emailLabel.removeClass("sign-in-error"),t.emailBlankLabel.hide(),t.emailWrongFormat.hide(),e&&0!=e.length?i(e)||(t.emailWrongFormat.show(),n=!1):(t.emailBlankLabel.show(),n=!1),n}o.keepMeLogin.click(function(){var e;(e=o.checkboxButton).prop("checked",!e.prop("checked"))}),o.emailInput.focusout(function(){s(o.emailInput.val(),a)}),o.signInButton.click(function(){var t=o.emailInput.val(),i=o.passwordInput.val();o.checkboxButton.val(),function(e){e.emailLabel.removeClass("sign-in-error"),e.passwordLabel.removeClass("sign-in-error"),e.emailBlankLabel.hide(),e.emailIncorrectLabel.hide(),e.passwordBlankLabel.hide(),e.emailWrongFormat.hide()}(a),function(e,t,i){var n=s(e,i);return t&&0!=t.length||(i.passwordBlankLabel.show(),n=!1),n}(t,i,a)&&function(t,i,n,o){o.signInButton.addClass("sign-in-loading-icon"),function(t,i,n,o,a){var s="https://"+window.location.host+"/api/main/login",r=function(e,t,i,n){return e+":"+t+":"+i+":"+n}(t,i,n,o);e.ajax({url:s,xhrFields:{withCredentials:!0},data:{"":r},type:"POST",dataType:"json",cache:!1,success:function(e){e.Success?window.location.reload():void 0!==a&&a()},error:function(e){}})}(e("#sign-in-email").val(),e("#sign-in-password").val(),e("#sign-in-keep-log-in").is(":checked"),e("input[name='requestVerificationToken']").val(),function(){!function(e){e.emailIncorrectLabel.show(),e.signInButton.removeClass("sign-in-loading-icon")}(o)})}(0,0,0,a)})}}}(),agoda.signInSignUpPanel.signUpForm=function(){var t=64;return{init:function(n,a){var s={sendMeSpecialOffer:e(n.sendMeSpecialOfferSelector),checkboxButton:e(n.checkboxButtonSelector),signUpButton:e(n.signUpButtonSelector),firstnameInput:e(n.firstnameInputSelector),lastnameInput:e(n.lastnameInputSelector),emailInput:e(n.emailInputSelector),passwordInput:e(n.passwordInputSelector),emailExistingValidationUrl:n.emailExistingValidationUrl,tokenInput:e(n.tokenInputSelector)},r={firstnameLabel:e(a.firstnameLabelSelector),lastnameLabel:e(a.lastnameLabelSelector),emailLabel:e(a.emailLabelSelector),passwordLabel:e(a.passwordLabelSelector),emailWrongFormat:e(a.emailWrongFormatLabelSelector),passwordBlankLabel:e(a.passwordBlankLabelSelector),firstnameBlankLabel:e(a.firstnameBlankLabel),lastnameBlankLabel:e(a.lastnameBlankLabel),emailBlankLabel:e(a.emailBlankLabelSelector),signUpButton:e(n.signUpButtonSelector),emailAlreadyExistLabel:e(a.emailAlreadyExistLabelSelector),technicalDifficultiesIssue:e(a.technicalDifficultiesIssueSelector),emailVerificationLoadingIcon:e(a.emailVerificationLoadingIconSelector),emailExistWarningIcon:e(a.emailExistWarningIconSelector)};function c(t,n,o,a){var s=!0;return a.emailLabel.removeClass("sign-in-error"),a.emailBlankLabel.hide(),a.emailWrongFormat.hide(),a.emailAlreadyExistLabel.hide(),t&&0!=t.length?i(t)?function(t,i,n,o,a){var s=function(e,t){return e+":"+t}(t,n);o.emailVerificationLoadingIcon.show(),e.ajax({url:i,data:{"":s},type:"POST",dataType:"jsonp",cache:!1,success:function(e){a(e.Success),o.emailVerificationLoadingIcon.hide()},error:function(e){o.emailVerificationLoadingIcon.hide()}})}(t,n,o,a,function(e){e?a.emailExistWarningIcon.hide():(a.emailAlreadyExistLabel.show(),a.emailExistWarningIcon.show(),s=!1)}):(a.emailWrongFormat.show(),s=!1):(a.emailBlankLabel.show(),s=!1),s}s.sendMeSpecialOffer.click(function(){var e;(e=s.checkboxButton).prop("checked",!e.prop("checked"))}),s.emailInput.focusout(function(){var e=s.emailInput.val(),t=s.tokenInput.val();c(e,s.emailExistingValidationUrl,t,r)}),r.emailExistWarningIcon.click(function(){var e=s.emailInput.val(),t=s.tokenInput.val();c(e,s.emailExistingValidationUrl,t,r)}),s.signUpButton.click(function(){var t=s.firstnameInput.val().trim(),i=s.lastnameInput.val().trim(),n=s.emailInput.val(),o=s.passwordInput.val(),a=s.emailExistingValidationUrl,l=s.tokenInput.val();(function(e){e.firstnameLabel.removeClass("sign-in-error"),e.lastnameLabel.removeClass("sign-in-error"),e.emailLabel.removeClass("sign-in-error"),e.passwordLabel.removeClass("sign-in-error"),e.firstnameBlankLabel.hide(),e.lastnameBlankLabel.hide(),e.emailBlankLabel.hide(),e.passwordBlankLabel.hide(),e.emailWrongFormat.hide(),e.technicalDifficultiesIssue.hide()})(r),function(e,t,i,n,o,a,s){var r=function(e,t){var i=!0;return 0==e.length&&(t.firstnameBlankLabel.show(),i=!1),i}(e,s),l=function(e,t){var i=!0;return 0==e.length&&(t.lastnameBlankLabel.show(),i=!1),i}(t,s),p=c(i,n,a,s),u=function(e,t){var i=!0;return e&&e.length<8&&(t.passwordLabel.addClass("sign-in-error"),i=!1),i}(o,s);return r&&l&&p&&u}(t,i,n,a,o,l,r)&&function(t,i,n,o,a,s,c,l){var p="https://"+window.location.host+"/api/main/signup",u=function(e,t,i,n,o,a){return e+":"+t+":"+i+":"+n+":"+o+":"+a}(t,i,n,o,a,s);if(r.signUpButton.addClass("sign-in-loading-icon"),window.messageLog.push("FE.SignUpCheck.CoreB",1),agoda.bVariants.isB("LOGIN-4338")){var d={firstname:t,lastname:i,email:n,password:o,token:s,isSubscribed:a};e.ajax({type:"POST",url:"https://"+window.location.host+"/api/login/signup",data:d,dataType:"json",success:function(e){e.Success?window.location.reload():void 0!==c&&c(),r.signUpButton.removeClass("sign-in-loading-icon")},error:function(e){void 0!==l&&l(),r.signUpButton.removeClass("sign-in-loading-icon")}})}else e.ajax({url:p,xhrFields:{withCredentials:!0},data:{"":u},type:"POST",dataType:"json",cache:!1,success:function(e){e.Success?window.location.reload():void 0!==c&&c(),r.signUpButton.removeClass("sign-in-loading-icon")},error:function(e){void 0!==l&&l(),r.signUpButton.removeClass("sign-in-loading-icon")}})}(t,i,n,o,!1,l,function(){!function(t){t.passwordLabel.addClass("sign-in-error"),e("html, body").animate({scrollTop:t.passwordLabel.offset().top-175},500)}(r)},function(){!function(e){e.technicalDifficultiesIssue.show()}(r)})}),s.firstnameInput.prop("maxLength",t),s.lastnameInput.prop("maxLength",t),s.passwordInput.prop("maxLength",t),s.emailInput.prop("maxLength",t),s.firstnameInput.keypress(function(e){return!!o(String.fromCharCode(e.which))||(alert(agoda.cms.getCmsText(INPUT_ENGLISH_ONLY)),e.preventDefault(),!1)}),s.lastnameInput.keypress(function(e){return!!o(String.fromCharCode(e.which))||(alert(agoda.cms.getCmsText(INPUT_ENGLISH_ONLY)),e.preventDefault(),!1)})}}}(),agoda.userMenu=function(){},agoda.userMenu.giftCardView=function(t){var i=t,n=e('[data-toggle="tooltip_gc"]');return n.length>0&&void 0!==n&&n.tooltip(),{updateGiftCardValue:function(t){e(i).length>0&&void 0!==t&&e(i).each(function(){e(this).text(t)})}}}}(window.jQuery)},1314:function(e,t){agoda.desktop.footer=function(){return{init:function(e){$(".ahover",e).toggleAgodaHover(function(e){return e.data("text")},"auto")}}}(window.jQuery),agoda.desktop.copyright=function(){return{init:function(e){$(".ahover",e).toggleAgodaHover(function(e){return e.data("text")},"auto")}}}(window.jQuery),agoda.desktop.pata=function(){return{init:function(e,t){$(e).on("click",function(e){agoda.desktop.oldpopup.open({loadingTemplate:t}),agoda.desktop.oldpopup.setContent({data:{},template:t,callback:function(e){}})})}}}(window.jQuery),agoda.password=function(){function e(e){if(e&&e.length>=8){return/^.*(?=.*[^a-z,A-Z,0-9,\x20])(?=.*[\d]).*$/.test(e)}return!1}function t(t){var i=/[0-9]/.test(t);return e(t)?3:i&&t.length>=8?2:i||t.length>=8?1:0}var i=0,n=0;return{init:function(e){!function(e){$(e).focus(function(){var e=_.words($("#sign-up-password-hint-l"+i+" > .title").html(),/[^,]+/g)[i];$("#sign-up-password-hint-l"+i+" > .title").html(e),$("#sign-up-password-hint-l"+i).show()}).blur(function(){$("#sign-up-password-hint-l"+i).hide()})}(e),function(e){$(e).on("input",function(){if((i=t(this.value))!==n){$(".input-meter > .bar").removeClass("solid"),i>0&&$(".input-meter > .bar:nth-child(n+"+(4-i)+")").addClass("solid"),$("#sign-up-password-hint-l"+n).hide();var e=_.words($("#sign-up-password-hint-l"+i+" > .title").html(),/[^,]+/g)[i];$("#sign-up-password-hint-l"+i+" > .title").html(e),$("#sign-up-password-hint-l"+i).show(),n=i}})}(e)},IsStrength:e,GetLevel:t,IsMismatched:function(e,t){return e===t}}}(window.jQuery),agoda.desktop.subscribe=function(){function e(e){var t="//www.agoda.com/pages/agoda/popup/popup_emailsignup.aspx";return"en-us"!=e.toLowerCase()&&(t="//www.agoda.com/{0}/pages/agoda/popup/popup_emailsignup.aspx".format(e)),t}return{init:function(t,i,n){$(t).on("click",function(t){agoda.desktop.oldpopup.open({loadingTemplate:"subscribe-loading-template"}),agoda.desktop.oldpopup.setContent({data:{URL:e(n)},template:"subscribe-template",callback:function(e){}})})},getUrl:e}}(window.jQuery)},1315:function(e,t){agoda=agoda||{},agoda.desktop=agoda.desktop||{},agoda.desktop.utils=function(){var e,t=!1;jQuery.fn.toggleAgodaHover=function(i,n){(!t||!e||e&&0==e.length)&&(t=!0,(e=$("<div/>",{id:"cxl_hover","data-selenium":"cxl-popup",style:"display:none"}).appendTo($("#sc"))).on("touchstart",function(t){t.preventDefault(),e.hide()})),$(this).on({mouseenter:function(t){"none"===e.css("display")&&function(t,i,n){n=void 0===n?"350px":n,e.html(i(t)),e.css(function(e,t){return{top:"{0}px".format(e.offset().top+e.height()+15),left:"{0}px".format(e.offset().left-100),display:"block",width:t}}(t,n))}($(t.target),i,n)},mouseleave:function(t){"none"!==e.css("display")&&e.css("display","none")}})}}()},1316:function(e,t,i){try{i(85)}catch(e){console.warn("Webpack not supported so backdrops will not show")}agoda.pointsmax.menu=function(){var e=250,t="active",i=!1,n=!1,o=!1,a=$("#pointsmax-menu-list"),s=$("#pointsmax-menubox"),r=s.parent(),c=$("#pointsmax-partner-menubox"),l=!1;function p(){""!=d()&&""==h("PointsMaxSecondLand",agoda.window.location())?agoda.window.search(u()):agoda.window.reload()}function u(){return 0===agoda.window.location().search.length?"?PointsMaxSecondLand=true":"&PointsMaxSecondLand=true"}function d(){return h("pointsmax",agoda.window.location())}function h(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))}function g(){i||($(document).mouseup(function(e){s.is(e.target)||0!==s.has(e.target).length||"pointsmax-menu-title"!=$(e.target).parent().attr("id")&&"pointsmax-learn-more-popup"!=$(e.target).parent().attr("id")&&n&&v(e)}),a.click(v),$(".pointsmax-selection").click(function(){var e=$(this);agoda.pointsmax.service.userChangePointsMaxProgram(function(){var i;i=e,$(".pointsmax-selection").removeClass(t),i.addClass(t),function(e){var t=w(e),i=$("#pointsmax-menu-title");0==t&&i.find("span").text($("#pointsmax-partners-switchoff").attr("title"))}(i),agoda.pointsmax.service.updateSelectedProgram(w(e),p)})}),$("#pointsmax-menu-list").click(function(){o||(agoda.pointsmax.service.userClickPointsMaxMenu(),o=!0)}),i=!0)}function f(e){return c.has($(e.target)).length>0}function m(e){var t=parseInt($(e.target).css("z-index"));return isNaN(t)&&(t=$(e.target).parents().filter(function(){return"auto"!=$(this).css("z-index")}).first().css("z-index")),parseInt(t)>parseInt(c.css("z-index"))}function v(t,i){void 0==i&&(i=!1),l||(n?f(t)||m(t)||r.delay(270).queue(function(){var e=$(this);e.removeClass("selected"),e.dequeue()}):r.addClass("selected"),f(t)||m(t)||(l=!0,s.slideToggle(e,function(){n=!n,l=!1}))),i&&t.stopImmediatePropagation()}function w(e){return e.data("pointsmax-program-id")}function S(){var e=$(".pointsmax-menu img[data-id='pointsmax-partner-program-icon']");if(e.length>0){e.each(function(){var e=$(this),t=e.attr("data-original");e.attr("src",t),e.attr("width",25),e.attr("height",25)})}}return{init:function(e){void 0!==e&&(e,agoda.bVariants.isB("HALO-9285")&&agoda.react&&agoda.react.communication&&509!==e?agoda.react.communication.add(agoda.eventhelper.name.ON_POINTS_MAX_CLICKED,S):agoda.critical?S():$(document).ready(function(){S()}),g())},reloadPage:p,getPointsMaxProperty:d,getParameterByName:h,getPointsMaxSecondLand:u,selectedClass:t}}(window.jQuery)},1317:function(e,t){agoda.pointsmax.service=function(){function e(){var e;if(0!==$("#hidden-routeinfo").length){var t=$("#hidden-routeinfo").data();void 0!=t.culture&&(e=t.culture)}else e=$("html").attr("lang");return void 0!==e&&0!=e.length&&2!=e.length||(e="en-us"),e}return{updateSelectedProgram:function(t,i){var n=0;if($("#hidden-routeinfo")){var o=$("#hidden-routeinfo").attr("data-page-type-id");o&&(n=parseInt(o))}$.ajax({type:"POST",url:"/api/"+e()+"/PointsMax/SavePointsMaxProgramIdAndPageType",data:{programID:t,pageTypeId:n},success:function(){i&&null!=i&&i()},dataType:"json"})},userClickPointsMaxMobileBanner:function(t){$.ajax({type:"POST",url:"/api/"+e()+"/PointsMax/UserClickPointsMaxMobileBanner",success:function(){t&&null!=t&&t()},dataType:"json"})},userClickPointsMaxMenu:function(t){$.ajax({type:"POST",url:"/api/"+e()+"/PointsMax/UserClickPointsMaxMenu",success:function(){t&&null!=t&&t()},dataType:"json"})},userChangePointsMaxProgram:function(t){$.ajax({type:"POST",url:"/api/"+e()+"/PointsMax/UserChangePointsMaxProgram",success:function(){t&&null!=t&&t()},dataType:"json"})},userClickChooseProgramPopup:function(t){$.ajax({type:"POST",url:"/api/"+e()+"/PointsMax/UserClickChooseProgram",success:function(){t&&null!=t&&t()},dataType:"json"})},userCloseBanner:function(t){$.ajax({type:"POST",url:"/api/"+e()+"/PointsMax/ClosePointsMaxBanner",success:function(){t&&null!=t&&t()},dataType:"json"})},getCurrentCulture:e,setup:function(e){e},getProgramId:function(e){return e?$("#pointsmax-selection").data("program-id"):$("#pointsmax-menu-title .my-pointsmax-title-span").data("program-id")}}}(window.jQuery)},1318:function(e,t,i){(function(t){t.namespace("agoda.belowFold"),window.jQuery,agoda.belowFold=function(){var e=[],t=250;function i(o){var a;(a=[0,0],void 0!==window.pageYOffset?a=[window.pageXOffset,window.pageYOffset]:void 0!==document.documentElement.scrollTop&&document.documentElement.scrollTop>0?a=[document.documentElement.scrollLeft,document.documentElement.scrollTop]:void 0!==document.body.scrollTop&&(a=[document.body.scrollLeft,document.body.scrollTop]),a)[1]>0&&e.length>0?n():window.setTimeout(i,t)}function n(){for(var t=0;t<e.length;t++){var i=e[t];!1===i.wasCalled&&(i.func(),i.wasCalled=!0)}}return{registerScrollListener:function(t){var n={func:t,wasCalled:!1};e.push(n),e.length>=1&&i()},tirggerRegisteredEvents:n}},void 0!==e&&e.exports&&(e.exports=agoda.belowFold)}).call(this,i(5))},1319:function(e,t,i){var n=i(9);n.seoBVariants=n.seoBVariants||new function(e){this.options=e;for(var t=this.options&&this.options.expids||[],i=0;i<t.length;i++)t[i]=t[i].toLowerCase();this.getIDs=function(){return t},this.isB=function(e){return-1!==this.getIDs().indexOf(e.toLowerCase())}}(n.bVariantsSeoConfig),delete n.bVariantsSeoConfig,e.exports=n.seoBVariants},1320:function(e,t){agoda.clientMessage=function(){var e="";return{init:function(t){e=t,window.performance&&(window.onload=function(){var t;!function(t){$.ajax({type:"POST",url:e,data:t,success:function(e){},dataType:"json"})}({NetworkLatency:(t=window.performance.timing).responseEnd-t.fetchStart,DomainLookUp:t.domainLookupEnd-t.domainLookupStart,DomComplete:t.domComplete-t.domLoading,LoadTime:t.domComplete-t.fetchStart})})}}}(),agoda.currencyService=function(e,t){var i=t||!1;return{fetch:function(t){$.ajax({type:"GET",url:e.get,data:{isMobile:i},success:function(e){t&&null!=t&&t(e)},dataType:"json"})},updateSelectedCurrency:function(t,i,n){$.ajax({type:"GET",url:e.set,data:{currencyId:t},success:function(e){i&&location.reload(),null!=n&&"function"==typeof n&&n()},dataType:"json"})}}},agoda.memberService=function(){return{updateMemberGiftCard:function(e,t){null!=t&&$.ajax({type:"GET",url:e,success:function(e){t.updateGiftCardValue(e)},dataType:"json"})}}},agoda.languageService=function(e,t){var i=t||!1;return{fetch:function(t){$.ajax({type:"GET",url:e.get,data:{isMobile:i,isForHeader:!0,pageURL:window.location.href,isNewLogic:!0},success:function(e){t&&null!=t&&t(e)},dataType:"json"})},updateSelectedLanguage:function(t,n){$.ajax({type:"GET",url:e.get,data:{isMobile:i,isForHeader:!0},success:function(e){n&&null!=n&&n(e)},dataType:"json"})}}},agoda.event=function(){var e="/api/Main/LogEventMessage";return{log:function(t,i){$.ajax({type:"GET",url:e,data:{eventName:t},success:function(){i&&null!=i&&i()},dataType:"json"})},setup:function(t){e=t}}}(window.jQuery),agoda.template=function(){var e=new Array;function t(t){for(var i=null,n=0;n<e.length;n++)if(e[n].id==t){i=e[n].template;break}return null==i&&($(1=="#{0}".format(t).length)?(i=Handlebars.compile($("#{0}".format(t)).html()),e.push({id:t,template:i})):(i=Handlebars.compile("[Template missing]"),e.push({id:t,template:i}))),i}return{render:function(e,i,n,o,a,s){var r=t(n);void 0!==e&&$.ajax({url:e,type:"GET",dataType:"json",data:i,success:function(e){s?o.append(r(e)):o.html(r(e)),void 0!==a&&a(e,o)}})},renderData:function(e,i,n,o){var a=t(i);n.html(a(e)),void 0!==o&&o(e,n)}}},$.fn.logEvent=function(e){void 0===e&&(e="hotel");var t=$(this);void 0===t.data("logged")&&void 0!==t.data("event")&&(agoda.event.log("{0}.{1}".format(e,t.data("event"))),t.data("logged",!0))},agoda.limitChars=function(e,t,i){var n=e.html();if(n.length>t){var o=n.substring(0,t),a=i,s=n.substring(t);e.html('{0}<span class="dots">...</span><span class="seemore">{1}</span><span class="seemoretext">{2}</span>'.format(o,a,s)),$(".seemore",e).on("click",function(){var e=$(this);e.next(".seemoretext").show().contents().unwrap(),e.prev(".dots").remove(),e.remove()})}}},1321:function(e,t,i){var n;(n=(n=i(9))||{}).apo=n.apo||{},n.apo.coupon=n.apo.coupon||{},n.belowFold=n.belowFold||{},n.bookNowJump=n.bookNowJump||{},n.bypassClickBlock=n.bypassClickBlock||{},n.checkMainPhoto=n.checkMainPhoto||{},n.cookie=n.cookie||{},n.desktop=n.desktop||{},n.desktopDateProvider=n||{},n.event=n.event||{},n.eventhelper=n.eventhelper||{},n.eventListener=n.eventListener||{},n.experiment=n.experiment||{},n.header=n.heaader||{},n.hotel=n.hotel||{},n.hotelPhotoService=n.hotelPhotoService||{},n.login=n.login||{},n.login.banner=n.login.banner||{},n.mainphoto=n.mainphoto||{},n.mainphoto.load=n.mainphoto||{},n.map=n.map||{},n.maps=n.maps||{},n.maps.provider=n.maps.provider||{},n.message=n.message||{},n.mobile=n.mobile||{},n.mobile.ag=n.mobile.ag||{},n.mobile.hotel=n.mobile.hotel||{},n.mobile.hotel.ag=n.mobile.hotel.ag||{},n.mobile.hotel.ag.moneyback=n.mobile.hotel.ag.moneyback||{},n.pricingfe=n.pricingfe||{},n.mobile.red=n.mobile.red||{},n.mobile.red.findredirectelement=n.mobile.red.findredirectelement||{},n.moreButton=n.moreButton||{},n.page=n.page||{},n.page.hotel=n.page.hotel||{},n.pointsmax=n.pointsmax||{},n.pointsmax.aboutdialog=n.pointsmax.aboutdialog||{},n.pointsmax.menu=n.pointsmax.menu||{},n.pointsmax.service=n.pointsmax.service||{},n.popup=n.popup||{},n.redirect=n.redirect||{},n.redirect.overlaybanner=n.redirect.overlaybanner||{},n.roomGrid=n.roomGrid||{},n.search=n.search||{},n.searchcriteria=n.searchcriteria||{},n.searchResult=n.searchResult||{},n.section=n.section||{},n.ssr=n.ssr||{},n.ssr.alternativeHotel=n.ssr.alternativeHotel||{},n.ssr.banner=n.ssr.banner||{},n.ssr.desktop=n.ssr.desktop||{},n.ssr.desktop.ag=n.ssr.desktop.ag||{},n.ssr.desktop.ag.moneyback=n.ssr.desktop.ag.moneyback||{},n.ssr.desktop.ag.slider=n.ssr.desktop.ag.slider||{},n.ssr.filter=n.ssr.filter||{},n.ssr.filter.filtertag=n.ssr.filter.filtertag||{},n.ssr.genericmessage=n.ssr.genericmessage||{},n.ssr.loginbanner=n.ssr.loginbanner||{},n.ssr.map=n.ssr.map||{},n.ssr.mobile=n.ssr.mobile||{},n.ssr.mobile.ag=n.ssr.mobile.ag||{},n.ssr.mobile.ag.moneyback=n.ssr.mobile.ag.moneyback||{},n.ssr.pageBinding=n.ssr.pageBinding||{},n.ssr.sorting=n.ssr.sorting||{},n.ssr.main=n.ssr.main||{},n.hotel=n.hotel||{},n.experiment=n.experiment||{},n.maps=n.maps||{},n.map=n.map||{},n.maps.provider=n.maps.provider||{},n.maps.widget=n.maps.widget||{},n.eventListener=n.eventListener||{},n.urgencyMessage=n.urgencyMessage||{},n.cookie=n.cookie||{},n.mobile.ag=n.mobile.ag||{},n.ssr.mobile.mse=n.ssr.mobile.mse||{},n.sessionStorageManager=n.sessionStorageManager||{},n.analytics=n.analytics||{},void 0!==e&&e.exports&&(e.exports=n)},1322:function(e,t,i){(function(t){e.exports=t.signals=i(4309)}).call(this,i(5))},1323:function(e,t){var i=["-webkit-","-moz-","-ms-",""];ImagePreloader=function(){},ImagePreloader.prototype.initImages=function(e){function t(){return"complete"===document.readyState&&(e.forEach(function(e){var t=["background-image: url("+e.imageUri+")"];e.highResImageUri&&i.forEach(function(i){t.push("background-image: "+i+"image-set(url("+e.imageUri+") 1x, url("+e.highResImageUri+") 2x)")});var n=document.createElement("div");n.style.cssText=t.join(";"),document.getElementById("preloadedImages").appendChild(n)}),!0)}t()||document.addEventListener("readystatechange",t)},(e=e||{}).exports=ImagePreloader},1324:function(e,t,i){var n=i(4315);i(3);agoda.viewModel&&n.initHome(agoda.viewModel)},1330:function(e,t){(function(){
/*!
 * Detectizr v2.1.0
 * http://barisaydinoglu.github.com/Detectizr/
 *
 * Written by Baris Aydinoglu (http://baris.aydinoglu.info) - Copyright 2012
 * Released under the MIT license
 *
 * Date: 2015-01-03
 */
window.Detectizr=function(e,t,i,n){var o,a,s={},r=e.Modernizr,c=["tv","tablet","mobile","desktop"],l={addAllFeaturesAsClass:!1,detectDevice:!0,detectDeviceModel:!0,detectScreen:!0,detectOS:!0,detectBrowser:!0,detectPlugins:!0},p=[{name:"adobereader",substrs:["Adobe","Acrobat"],progIds:["AcroPDF.PDF","PDF.PDFCtrl.5"]},{name:"flash",substrs:["Shockwave Flash"],progIds:["ShockwaveFlash.ShockwaveFlash.1"]},{name:"wmplayer",substrs:["Windows Media"],progIds:["wmplayer.ocx"]},{name:"silverlight",substrs:["Silverlight"],progIds:["AgControl.AgControl"]},{name:"quicktime",substrs:["QuickTime"],progIds:["QuickTime.QuickTime"]}],u=/[\t\r\n]/g,d=i.documentElement;function h(e){return s.browser.userAgent.indexOf(e)>-1}function g(e){return e.test(s.browser.userAgent)}function f(e){return e.exec(s.browser.userAgent)}function m(e){return null===e||e===n?"":String(e).replace(/((\s|\-|\.)+[a-z0-9])/g,function(e){return e.toUpperCase().replace(/(\s|\-|\.)/g,"")})}function v(e,t,i){e&&(e=m(e),t&&(w(e+(t=m(t)),!0),i&&w(e+t+"_"+i,!0)))}function w(e,t){e&&r&&(l.addAllFeaturesAsClass?r.addTest(e,t):(t="function"==typeof t?t():t)?r.addTest(e,!0):(delete r[e],function(e,t){var i=t||"",n=1===e.nodeType&&(e.className?(" "+e.className+" ").replace(u," "):"");if(n){for(;n.indexOf(" "+i+" ")>=0;)n=n.replace(" "+i+" "," ");e.className=t?function(e){return e.replace(/^\s+|\s+$/g,"")}(n):""}}(d,e)))}function S(e,t){e.version=t;var i=t.split(".");i.length>0?(i=i.reverse(),e.major=i.pop(),i.length>0?(e.minor=i.pop(),i.length>0?(i=i.reverse(),e.patch=i.join(".")):e.patch="0"):e.minor="0"):e.major="0"}function I(){e.clearTimeout(o),o=e.setTimeout(function(){a=s.device.orientation,e.innerHeight>e.innerWidth?s.device.orientation="portrait":s.device.orientation="landscape",w(s.device.orientation,!0),a!==s.device.orientation&&w(a,!1)},10)}function b(e){var i,n,o,a,s,r=t.plugins;for(a=r.length-1;a>=0;a--){for(n=(i=r[a]).name+i.description,o=0,s=e.length;s>=0;s--)-1!==n.indexOf(e[s])&&(o+=1);if(o===e.length)return!0}return!1}function C(e){var t;for(t=e.length-1;t>=0;t--)try{new ActiveXObject(e[t])}catch(e){}return!1}function P(n){var o,a,u,d,P,L,y;if((l=function e(t,i){var n,o,a;if(arguments.length>2)for(n=1,o=arguments.length;n<o;n+=1)e(t,arguments[n]);else for(a in i)i.hasOwnProperty(a)&&(t[a]=i[a]);return t}({},l,n||{})).detectDevice){for(s.device={type:"",model:"",orientation:""},u=s.device,g(/googletv|smarttv|smart-tv|internet.tv|netcast|nettv|appletv|boxee|kylo|roku|dlnadoc|roku|pov_tv|hbbtv|ce\-html/)?(u.type=c[0],u.model="smartTv"):g(/xbox|playstation.3|wii/)?(u.type=c[0],u.model="gameConsole"):g(/ip(a|ro)d/)?(u.type=c[1],u.model="ipad"):g(/tablet/)&&!g(/rx-34/)||g(/folio/)?(u.type=c[1],u.model=String(f(/playbook/)||"")):g(/linux/)&&g(/android/)&&!g(/fennec|mobi|htc.magic|htcX06ht|nexus.one|sc-02b|fone.945/)?(u.type=c[1],u.model="android"):g(/kindle/)||g(/mac.os/)&&g(/silk/)?(u.type=c[1],u.model="kindle"):g(/gt-p10|sc-01c|shw-m180s|sgh-t849|sch-i800|shw-m180l|sph-p100|sgh-i987|zt180|htc(.flyer|\_flyer)|sprint.atp51|viewpad7|pandigital(sprnova|nova)|ideos.s7|dell.streak.7|advent.vega|a101it|a70bht|mid7015|next2|nook/)||g(/mb511/)&&g(/rutem/)?(u.type=c[1],u.model="android"):g(/bb10/)?(u.type=c[1],u.model="blackberry"):(u.model=f(/iphone|ipod|android|blackberry|opera mini|opera mobi|skyfire|maemo|windows phone|palm|iemobile|symbian|symbianos|fennec|j2me/),null!==u.model?(u.type=c[2],u.model=String(u.model)):(u.model="",g(/bolt|fennec|iris|maemo|minimo|mobi|mowser|netfront|novarra|prism|rx-34|skyfire|tear|xv6875|xv6975|google.wireless.transcoder/)?u.type=c[2]:g(/opera/)&&g(/windows.nt.5/)&&g(/htc|xda|mini|vario|samsung\-gt\-i8000|samsung\-sgh\-i9/)?u.type=c[2]:g(/windows.(nt|xp|me|9)/)&&!g(/phone/)||g(/win(9|.9|nt)/)||g(/\(windows 8\)/)?u.type=c[3]:g(/macintosh|powerpc/)&&!g(/silk/)?(u.type=c[3],u.model="mac"):g(/linux/)&&g(/x11/)?u.type=c[3]:g(/solaris|sunos|bsd/)?u.type=c[3]:g(/cros/)?u.type=c[3]:g(/bot|crawler|spider|yahoo|ia_archiver|covario-ids|findlinks|dataparksearch|larbin|mediapartners-google|ng-search|snappy|teoma|jeeves|tineye/)&&!g(/mobile/)?(u.type=c[3],u.model="crawler"):u.type=c[2])),o=0,a=c.length;o<a;o+=1)w(c[o],u.type===c[o]);l.detectDeviceModel&&w(m(u.model),!0)}if(l.detectScreen&&(u.screen={},r&&r.mq&&(r.mq("only screen and (max-width: 240px)")?(u.screen.size="veryVerySmall",w("veryVerySmallScreen",!0)):r.mq("only screen and (max-width: 320px)")?(u.screen.size="verySmall",w("verySmallScreen",!0)):r.mq("only screen and (max-width: 480px)")&&(u.screen.size="small",w("smallScreen",!0)),u.type!==c[1]&&u.type!==c[2]||r.mq("only screen and (-moz-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)")&&(u.screen.resolution="high",w("highresolution",!0))),u.type===c[1]||u.type===c[2]?(e.onresize=function(e){I()},I()):(u.orientation="landscape",w(u.orientation,!0))),l.detectOS&&(s.os={},d=s.os,""!==u.model&&("ipad"===u.model||"iphone"===u.model||"ipod"===u.model?(d.name="ios",S(d,(g(/os\s([\d_]+)/)?RegExp.$1:"").replace(/_/g,"."))):"android"===u.model?(d.name="android",S(d,g(/android\s([\d\.]+)/)?RegExp.$1:"")):"blackberry"===u.model?(d.name="blackberry",S(d,g(/version\/([^\s]+)/)?RegExp.$1:"")):"playbook"===u.model&&(d.name="blackberry",S(d,g(/os ([^\s]+)/)?RegExp.$1.replace(";",""):""))),d.name||(h("win")||h("16bit")?(d.name="windows",h("windows nt 6.3")?S(d,"8.1"):h("windows nt 6.2")||g(/\(windows 8\)/)?S(d,"8"):h("windows nt 6.1")?S(d,"7"):h("windows nt 6.0")?S(d,"vista"):h("windows nt 5.2")||h("windows nt 5.1")||h("windows xp")?S(d,"xp"):h("windows nt 5.0")||h("windows 2000")?S(d,"2k"):h("winnt")||h("windows nt")?S(d,"nt"):h("win98")||h("windows 98")?S(d,"98"):(h("win95")||h("windows 95"))&&S(d,"95")):h("mac")||h("darwin")?(d.name="mac os",h("68k")||h("68000")?S(d,"68k"):h("ppc")||h("powerpc")?S(d,"ppc"):h("os x")&&S(d,(g(/os\sx\s([\d_]+)/)?RegExp.$1:"os x").replace(/_/g,"."))):h("webtv")?d.name="webtv":h("x11")||h("inux")?d.name="linux":h("sunos")?d.name="sun":h("irix")?d.name="irix":h("freebsd")?d.name="freebsd":h("bsd")&&(d.name="bsd")),d.name&&(w(d.name,!0),d.major&&(v(d.name,d.major),d.minor&&v(d.name,d.major,d.minor))),g(/\sx64|\sx86|\swin64|\swow64|\samd64/)?d.addressRegisterSize="64bit":d.addressRegisterSize="32bit",w(d.addressRegisterSize,!0)),l.detectBrowser&&(P=s.browser,g(/opera|webtv/)||!g(/msie\s([\d\w\.]+)/)&&!h("trident")?h("firefox")?(P.engine="gecko",P.name="firefox",S(P,g(/firefox\/([\d\w\.]+)/)?RegExp.$1:"")):h("gecko/")?P.engine="gecko":h("opera")?(P.name="opera",P.engine="presto",S(P,g(/version\/([\d\.]+)/)?RegExp.$1:g(/opera(\s|\/)([\d\.]+)/)?RegExp.$2:"")):h("konqueror")?P.name="konqueror":h("edge")?(P.engine="webkit",P.name="edge",S(P,g(/edge\/([\d\.]+)/)?RegExp.$1:"")):h("chrome")?(P.engine="webkit",P.name="chrome",S(P,g(/chrome\/([\d\.]+)/)?RegExp.$1:"")):h("iron")?(P.engine="webkit",P.name="iron"):h("crios")?(P.name="chrome",P.engine="webkit",S(P,g(/crios\/([\d\.]+)/)?RegExp.$1:"")):h("applewebkit/")?(P.name="safari",P.engine="webkit",S(P,g(/version\/([\d\.]+)/)?RegExp.$1:"")):h("mozilla/")&&(P.engine="gecko"):(P.engine="trident",P.name="ie",!e.addEventListener&&i.documentMode&&7===i.documentMode?S(P,"8.compat"):g(/trident.*rv[ :](\d+)\./)?S(P,RegExp.$1):S(P,g(/trident\/4\.0/)?"8":RegExp.$1)),P.name&&(w(P.name,!0),P.major&&(v(P.name,P.major),P.minor&&v(P.name,P.major,P.minor))),w(P.engine,!0),P.language=t.userLanguage||t.language,w(P.language,!0)),l.detectPlugins){for(P.plugins=[],o=p.length-1;o>=0;o--)L=p[o],y=!1,e.ActiveXObject?y=C(L.progIds):t.plugins&&(y=b(L.substrs)),y&&(P.plugins.push(L.name),w(L.name,!0));t.javaEnabled()&&(P.plugins.push("java"),w("java",!0))}}return s.detect=function(e){return P(e)},s.init=function(){s!==n&&(s.browser={userAgent:(t.userAgent||t.vendor||e.opera).toLowerCase()},s.detect())},s.init(),s}(window,window.navigator,window.document)}).call(window)},147:function(e,t){LoginHelpers=function(){},LoginHelpers.Cooldown=function(e,t){void 0!==e&&(e.attr("disabled","disabled"),setTimeout(function(){e.removeAttr("disabled")},t))},LoginHelpers.RemoveUrlParam=function(e,t){var i=t.split("?")[0],n=[],o=-1!==t.indexOf("?")?t.split("?")[1]:"";if(""!==o){for(var a=(n=o.split("&")).length-1;a>=0;a-=1)n[a].split("=")[0]===e&&n.splice(a,1);i=i+"?"+n.join("&")}return i},LoginHelpers.GetCidInHardLoginCookie=function(e){if(e.indexOf("__hl=")>-1){var t=e.split(";");for(i=0;i<t.length;i++)if(0===t[i].trim().indexOf("__hl=")){var n=t[i].slice(t[i].indexOf("=")+1);if(n.indexOf("&")>-1&&(cid=n.split("&")[1],cid))return parseInt(cid)}}return""},LoginHelpers.InjectCidIntoQuerystring=function(e,t){if(!new RegExp("[&,?](cid|siteid)=").test(e))return 0===e.indexOf("?")?e+"&cid="+t:"?cid="+t;var i=e.slice(1).split("&"),n="?";for(x=0;x<i.length;x++)0===i[x].indexOf("cid=")&&(i[x]="cid="+t),0===i[x].indexOf("siteid=")&&(i[x]="siteid="+t),n+=i[x],x!=i.length-1&&(n+="&");return n},(e=e||{}).exports=LoginHelpers},148:function(e,t,i){(function(e){e.namespace("agoda.eventhelper.name"),agoda.eventhelper.name=function(e){"use strict";return{ON_DOCUMENT_READY:"onDocumentReady",ON_WINDOW_RESIZE:"onWindowResize",ON_ORIENTATION_CHANGE:"onOrientationChange",UPDATE_PRICE_VIEW:"updatePriceView",GET_CURRENT_PRICE_VIEW:"getCurrentPriceView",ON_PRICE_VIEW_CHANGED:"wysiwypChanged",ON_PRICE_VIEW_CHANGED_FROM_REACT:"wysiwypChangedFromReact",ON_CURRENCY_CHANGED:"currencyChanged",ON_LEAVE_MAP:"onUserLeaveMap",ON_MAP_READY:"onMapReady",ON_MAP_WIDGET_READY:"onMapWidgetReady",ON_PIN_READY:"onPinReady",ON_RANKINGMESSAGE_SENT:"onRankingMessage",ON_LAUNCH_MAP_READY:"onLaunchMapReady",ON_MAP_TOUCH_END:"onSlideChanged",ON_MAP_PIN_SELECTED:"onPinSelected",ON_MAP_POPUP_CLOSED:"onMapPopupClosed",ON_MAP_PROPERTY_CARD_SELECTED:"onMapPropertyCardSelected",ON_MAP_PIN_MOUSE_OVER:"onPinMouseOver",ON_MAP_MOUSE_ENTER_HOTEL:"onMapMouseOver",ON_MAP_MOUSE_LEAVE_HOTEL:"onMapMouseOut",ON_UPDATE_SEARCH:"onUpdateSearchEvent",ON_DRAG:"onDrag",ON_ZOOM:"onZoom",ON_MAP_DRAG_START:"onMapDragStart",ON_MAP_ZOOM_START:"onMapZoomStart",ON_MAP_MOVE_START:"onMapMoveStart",ON_DRAG_END:"onDragEnd",ON_ZOOM_END:"onZoomEnd",ON_MAP_MOVE_END:"onMapMoveEnd",ON_POLL_DMC_READY:"onPollDmcReady",ON_POLL_DMC_READY_REACT:"onPollDmcReadyReact",ON_POLL_DMC_NOT_READY:"onPollDmcNotReady",ON_POLL_DMC_FINISHED_INIT:"onPollDMCFinishedInit",ON_POLL_DMC_SHOW_SOLD_OUT:"onPollDmcShowSoldOut",ON_MAP_PAGINATION_CLICKED:"onMapPaginationClicked",ON_SET_MAP_CENTER:"onSetMapCenter",ON_MAP_START_FETCH:"onMapStartFetch",ON_TOGGLE_SWIPER:"onToggleSwiper",ON_MANUAL_CAL_COMPLETE:"onManualCalComplete",ON_PREFETCH_HOTEL_COMPLETE:"onPrefetchHotelComplete",ON_FILTER_COMPLETED:"onFilterCompleted",ON_FILTER_CHANGED:"onFilterChanged",ON_FILTER_CLEARED:"onFilterCleared",ON_STAR_RATING_UI_UPDATED:"onStarRatingUIUpdated",ON_STAR_RATING_UI_UPDATES_NOW:"onStarRatingUIUpdatesNow",ON_STAR_RATING_UI_RENDERED:"onStarRatingUIRendered",ON_STAR_RATING_MODEL_UPDATED:"onStarRatingModelUpdate",ON_STAR_RATING_RESET:"onStarRatingReset",ON_SET_PRICE_SLIDER_MODEL:"onPriceSetSliderModel",ON_SET_PRICE_SLIDER_TEXT:"onPriceSetSliderText",ON_SET_PRICE_MIN_MAX:"onPriceSetSliderMinMax",ON_SET_PRICE_SLIDER_RESET:"onPriceSliderReset",ON_SET_REVIEW_SCORE_MODEL:"onReviewScoreModel",ON_SET_REVIEW_SCORE_TAG:"onSetReviewScoreTag",ON_CLEAR_ALL_FILTER_BUTTON_CLICKED:"onClearAllFilterButtonClick",ON_CLOSE_FILTER_PANEL_BUTTON_CLICKED:"onCloseFilterPanelButtonClicked",ON_RENDER_FILTER:"onRenderFilterTemplate",ON_UPDATE_TEMP_SELECTED_FILTER_OBJECT_AFTER_PAGE_REFRESHED:"onUpdateTempSelectedFilterObjectAfterPageRefreshed",ON_FILTER_CHECKBOX_SELECTED:"onFilterCheckBoxSelected",ON_FILTER_CHECKBOX_UNSELECTED:"onFilterCheckBoxUnSelected",ON_FILTER_CHECKBOX_UNSELECTED_REMOVE_UI:"onFilterCheckBoxUnSelectedRemoveUI",ON_CLICK_X_BUTTON:"onClickXButton",EXPAND_TOGGLE_ON_MODEL_UPDATE:"expandToggleOnModelUpdate",EXPAND_TOGGLE_ON_TOGGLE:"expandToggleOn",EXPAND_TOGGLE_OFF_TOGGLE:"expandToggleOff",EXPAND_TOGGLE_UI_EVENT:"expandToggleUi",EXPAND_TOGGLE_ON_ADD_ITEM:"expandToggleAddItem",ON_CHECKBOX_MODEL_UPDATE:"onCheckboxModelUpdate",ON_CHECKBOX_CLICK:"onCheckboxClick",ON_CHECKBOX_COMPLETE:"onCheckboxComplete",ON_CLEAR_UI_CHECKBOX:"onClearUICheckbox",ON_CHECKBOX_CLEAR_SINGLE:"onCheckboxClearSingle",ON_CHECKBOX_CLEAR_ALL:"onCheckboxClearAll",ON_GET_FILTER_TAG_OBJECT:"onGetFilterTagObject",ON_FINISH_GET_FILTER_TAG_OBJECT:"onFinishGetFilterTagObject",DO_RECTANGLE_SEARCH:"doRectangleSearch",ON_MAP_LOADED:"onMapLoaded",ON_SIGNIN_BUTTON_CLICK:"onSignInButtonClick",ON_SIGNOUT_LINK_CLICK:"onSignOutLinkClick",ON_PROPERTYCARD_LOADING:"onPropertyCardLoading",ON_NAMECHANGE_SAVE_CLICK:"onNameChangeSaveClick",ON_NAMECHANGE_EDIT_CLICK:"onNameChangeEditClick",ON_NAMECHANGE_ERROR_CLOSE_CLICK:"onNameChangeErrorCloseClick",ON_NAMECHANGE_CANCEL_CLICK:"onNameChangeCancelClick",ON_PHONECHANGE_EDIT_CLICK:"onPhoneChangeEditClick",ON_PHONECHANGE_SAVE_CLICK:"onPhoneChangeSaveClick",ON_PHONECHANGE_CANCEL_CLICK:"onPhoneChangeCancelClick",ON_PHONECHANGE_ERROR_CLOSE_CLICK:"onPhoneChangeErrorCloseClick",ON_PHONECHANGE_OTP_ERROR_CLOSE_CLICK:"onPhoneChangeOtpErrorCloseClick",ON_PHONECHANGE_OTPSAVE_CLICK:"OnPhoneChangeOtpSaveClick",ON_PHONECHANGE_OTPCANCEL_CLICK:"OnPhoneChangeOtpCancelClick",ON_PHONECHANGE_OTPRESEND_CLICK:"OnPhoneChangeOtpResendClick",ON_PHONECHANGE_OTP_NOOTP_BUTTON_CLICK:"OnPhoneChangeOtpNootpButtonClick",ON_PHONECHANGE_NOOTP_SAVE_CLICK:"OnPhoneChangeNootpSaveClick",ON_PHONECHANGE_NOOTP_CANCEL_CLICK:"OnPhoneChangeNootpCancelClick",ON_PASSWORDCHANGE_EDIT_CLICK:"onPasswordChangeEditClick",ON_PASSWORDCHANGE_SAVE_CLICK:"onPasswordChangeSaveClick",ON_PASSWORDCHANGE_CANCEL_CLICK:"onPasswordChangeCancelClick",ON_PASSWORDCHANGE_ERROR_CLOSE_CLICK:"onPasswordChangeErrorCloseClick",ON_SSR_FIRST_INIT:"onSSRFirstInit",ON_MMB_SOCIAL_ALERT_CLOSE_CLICK:"onMmbSocialFacebookAlertCloseClick",ON_MMB_SOCIAL_FACEBOOK_UNLINK:"onMmbSocialFacebookUnlink",ON_MMB_SOCIAL_FACEBOOK_ALERT_CLOSE_CLICK:"onMmbSocialFacebookAlertCloseClick",ON_MMB_SOCIAL_WECHAT_LINK:"onMmbSocialWeChatLink",ON_MMB_SOCIAL_WECHAT_UNLINK:"onMmbSocialWeChatUnlink",ON_MMB_SOCIAL_WECHAT_ALERT_CLOSE_CLICK:"onMmbSocialWeChatAlertCloseClick",ON_MMB_REMINDERS_CHANGED:"onMmbRemindersChanged",ON_MMB_PROMOTIONS_CHANGED:"onMmbPromotionsChanged",ON_CCOF_OPTION_CHANGED:"onCcofOptionChanged",ON_MMB_NEWSLETTER_CHANGED:"onMmbNewsletterChanged",ON_MMB_CSC_SHOW_MORE:"onMmbCustomerServiceShowMore",ON_MMB_CSC_SHOW_LESS:"onMmbCustomerServiceShowLess",ON_MMB_FACEBOOK_LOGIN_BUTTON_CLICK:"onMmbFacebookLoginBtnClick",ON_MMB_WECHAT_LOGIN_BUTTON_CLICK:"onMmbWeChatLoginBtnClick",ON_PROPERTYLIST_RENDERED:"onPropertyListRendered",ON_HOTEL_RENDER_COMPLETED:"onHotelRenderComplete",ON_POPULAR_FILTER_CHECKBOX:"onPopularCheckboxSelected",ON_TEMPLATE_LOADER_READY:"onTemplateLoaderReady",ON_REVIEW_SCORE_SLIDED:"onReviewScoreSlided",ON_FILTER_CHECKBOX:"onCheckboxSelected",ON_MAP_MORE_DETAIL_CLICK:"mapMoreDetailClick",ON_SCROLL_TO_TOP_ON_MAPS_PROPERTY_LIST:"onScrollToTopOnMapsPropertyList",ON_LAUNCH_MAP_READY_WITH_EXTRA_INFO:"onLaunchMapReadyWithExtraInfo",ON_RECOMMENDED_HOTEL_RENDERED:"recommendedHotelRendered",ON_PRICE_DROPDOWN_CHANGE:"onPriceDropdownChange",ON_OLSB_CLICK_SEARCH:"OLSBclickSearch",ON_CHECKOUT_CALENDAR_CLICK_BACKDROP:"CheckoutCalendarBackdrop",ON_CHECKIN_CHECKOUT_CLICK:"CheckinOrCheckoutPanelClicked",ON_CALENDAR_FOCUS:"onCalendarFocus",ON_CALENDAR_CLOSE:"CalendarClosed",ON_SELECT_DATE_CALLOUT_CLICKED:"SelectDateCalloutClicked",ON_FORCE_FOCUS_SEARCHBOX:"OnForceFocusSearchbox",ON_DATEPICKER_CANCEL_CLICK:"onDatepickerCancelClick",ON_BACKDROP_CLOSED:"onBackdropClosed",ON_FORECAST_RESPONSE_SUCCESS:"OnForecastResponseSuccess",ON_BACKDROP_OPEN:"onBackdropOpen",ON_SEARCHBOX_SELECTED_SUGGESTION:"OnSelectedSuggestion",ON_SEARCHBOX_SUGGESTION_CHANGED:"OnSuggestionChanged",ON_PROMOTION_GROUP_CLICKED:"onPromotionGroupClick",ON_SSR_RETAIL_PEEK_LOADED:"onSSRRetailPeekLoaded",ON_MMB_TELL_FRIENDS_CHANGED:"onMmbTellFriendsChanged",ON_HOTEL_RETAIL_PEEK_LOADED:"onHotelRetailPeekLoaded",ON_MMB_BIC_CLICKED:"onMmbBicClicked",ON_WYSIWYP_CLICK_WITH_MSE:"onWYSIWYPclickWithMse",ON_CLICK_POINTSMAX_DROPDOWN:"onClickPointsMaxDropdown",ON_POINTS_MAX_CLICKED:"OnPointsMaxClicked",ON_HOTEL_PARTIAL_LOADED:"onHotelPartialLoaded",ON_HOTEL_POLLING_LOADED:"onHotelPollingLoaded",ON_TEXT_EDITOR_UPDATED:"onTextEditorUpdated",ON_SEARCH_LOCATION_INFO_UPDATE:"onSearchLocationInfoUpdate",ON_CHANGE_TAB:"onChangeTab",ON_MAP_HOTEL_CONTAINER_CLICK:"onMapHotelContainerClick",ON_BACKDROP_MODAL_CHANGED:"OnBackdropModalChanged",ON_OPEN_OCCUPANCY_PANEL_MOBILE:"onOpenOccupancyPanelMobile",ON_CHECKIN_CHECKOUT_OK_CLICKED_MOBILE:"onCheckinCheckoutOkClickedMobile",ON_USER_APPLY_GIFTCARD:"userApplyGiftcard",ON_APPLY_GIFTCARD_CHANGED:"applyGiftcardChanged",OPEN_POINTSMAX_POPUP:"openPointsMaxPopup"}}(e.jQuery)}).call(this,i(5))},149:function(e,t,i){(function(t){t.namespace("agoda.eventhelper"),agoda.eventhelper=function(e){"use strict";var t=[],i=[],n=function(e,t){if(r(e)){for(var n=!1,a=0;a<i.length;a++)i[a].eventName==e&&(n=!0,i[a].object=t);n||(i[i.length]={eventName:e,object:t}),o(e,t)}},o=function(e,i){if(null!=e)for(var n=0;n<t.length;n++)t[n].eventName==e&&t[n].callback(i)},a=function(e){if(null!=e)for(var i=t.length-1;i>=0;i--)t[i].eventName==e&&t.splice(i,1)},s=function(e,t){return r(e)&&c(t)},r=function(e){return null!=e&&"string"==typeof e},c=function(e){return null!=e&&"function"==typeof e},l=function(e,i){for(var n=0;n<t.length;n++)if(t[n].eventName==e&&t[n].callback==i)return;t[t.length]={eventName:e,callback:i}};return{init:function(){},listen:function(e,t){if(s(e,t)){l(e,t);for(var n=0;n<i.length;n++)i[n].eventName==e&&t(i[n].object)}},fire:function(e,t){r(e)&&(n(e,t),a(e))},fireNotRemove:n,remove:a,reset:function(){t=[],i=[]},unsubscribe:function(e,t){s(e,t)&&a(e)}}}(t.jQuery),void 0!==e&&e.exports&&(e.exports=agoda.eventhelper)}).call(this,i(5))},281:function(e,t,i){var n=i(3),o=i(4238),a=i(750);LoginMetricService=function(e){new o,this.injector=e,this.Url={GenericMetric:"https://"+this.injector().location.host+"/api/Login/GenericMetric",GenericLog:"https://"+this.injector().location.host+"/api/Login/GenericLog"},this.localStorage=new a(this.injector),this.timeoutTime=2e3,this.withLS=function(e){if(void 0!==this.localStorage){var t=[],i="";try{if(i=this.localStorage.getItem(LoginMetricService.LogItemId),"function"!=typeof(t=JSON.parse(i)).push)throw"corrupted"}catch(e){this.IsMockData(),this.localStorage.setItem(LoginMetricService.LogItemId,JSON.stringify([]))}if(void 0===t&&(t=[],this.SetLogs([])),"function"==typeof e){var n=e(this,t);void 0!==n&&this.SetLogs(n)}}},this.registeredCallbacks={},this.OnLog=function(e,t,i){void 0===this.registeredCallbacks[e]&&(this.registeredCallbacks[e]={}),this.registeredCallbacks[e][t]=i}.bind(this),this.IsMockData=function(){return"True"==n("#mockDataEnabled").val()}},LoginMetricService.Configs={HARD_ITEM_LIMIT:200,HISTORY_MIN_BUFFER:20},LoginMetricService.Actions={LANDING:"l",SIGNIN_OPENED:"si_o",SIGNUP_OPENED:"su_o",SIGNIN_SUBMIT:"si_s",SIGNUP_SUBMIT:"su_s",SIGNIN_SUBMIT_ERROR:"si_se",SIGNUP_SUBMIT_ERROR:"su_se",SIGNIN_CALLBACK:"si_c",SIGNUP_CALLBACK:"su_c",SIGNIN_CALLBACK_ERR:"si_ce",SIGNUP_CALLBACK_ERR:"su_ce",SIGNIN_CLOSE:"si_x",SIGNUP_CLOSE:"su_x",LOGIN_OPEN:"o",LOGIN_CLOSE:"x",LOGIN_SWITCH:"s",FB_CLICK:"fb",FB_CLICK_SIGNUP:"fb_su",WECHAT_CLICK:"wechat",WECHAT_CLICK_SIGNUP:"wechat_su",SIGNIN_PANEL_EMAIL_ENTER:"sip_e_13",SIGNIN_PANEL_PASSWORD_ENTER:"sip_p_13",SIGNUP_PANEL_EMAIL_ENTER:"sup_e_13",SIGNUP_PANEL_PASSWORD_ENTER:"sup_p_13",VALIDATE_EMAIL_ERROR_EMPTY:"v_e_e",VALIDATE_EMAIL_ERROR_FORMAT:"v_e_f",VALIDATE_PASSWORD_ERROR:"v_p",VALIDATE_FIRST_NAME_EMPTY:"v_fn_e",VALIDATE_FIRST_NAME_ENG:"v_fn_en",VALIDATE_LAST_NAME_EMPTY:"v_ln_e",VALIDATE_LAST_NAME_ENG:"v_ln_en",VALIDATE_EMAIL_EXISTS:"v_e_ex",VALIDATE_PASSWORD_EMPTY:"v_p_e",VALIDATE_PASSWORD_SHORT:"v_p_s",CAPTCHA_START_SHOW:"c_s_s",CAPTCHA_CALLBACK:"c_c",SEND_OFFER_UNCHECK:"so_o",ONECLICK_CALLBACK:"ocb_cb",ONECLICK_ERR:"ocb_e",ONECLICK_ERR500:"ocb_500",ONECLICK_SUCCESS:"ocb_s",FBV2_LOGIN_CLICK:"fbv2_lc",FBV2_LOGIN_CALLBACK:"fbv2_lcb",FBV2_SDK_CALLBACK:"fbv2_scb"},LoginMetricService.LogItemId="Login.ActionLog",LoginMetricService.LogStash="Login.LogStash",LoginMetricService.LogIds={HADOOP_FLUSH_HISTORY:"FE.Delphi.HistoryFlush",DL_SIGNUP_NONCONV:"FE.Delphi.SignupNonConv",DL_SIGNUP_CONV:"FE.Delphi.SignupConv",DL_SIGNIN_NONCONV:"FE.Delphi.SignInNonConv",DL_SIGNIN_CONV:"FE.Delphi.SignInConv",DL_ONECLICK_CONV:"FE.Delphi.OneClickConv",DL_ONECLICK_NON_CONV:"FE.Delphi.OneClickNonConv",DL_FB_COMP:"FE.Delphi.FBComparision"},LoginMetricService.prototype.FindSubsetInOrder=function(e,t){var i={};for(var n in void 0===t&&(t=this.GetLogs()),t)for(var o in e)e[o][0]===t[n].id&&(e[o]=e[o].splice(1),void 0===i[o]?i[o]=[t[n]]:i[o].push(t[n]));for(var a in i)e[a].length>0&&delete i[a];return i},LoginMetricService.prototype.EventsSinceLastOccuranceOf=function(e,t){void 0===t&&(t=this.GetLogs());for(var i=t.length-1;i>=0&&t[i].id!==e;i--)0===i&&(i=-1);return i>-1?t.splice(i):[]},LoginMetricService.prototype.FindLatestOccurance=function(e,t){void 0===t&&(t=this.GetLogs());for(var i=t.length-1;i>=0;i--)if(e===(t[i].id||""))return t[i]},LoginMetricService.prototype.AppendToResultSets=function(e,t){if(void 0!==t){if(void 0!==e){for(var i in e)void 0!==t&&e[i].unshift(t);return e}return{}}return void 0!==e?e:{}},LoginMetricService.prototype.SignUpNonConversion=function(){var e=this.FindSubsetInOrder({signupx:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SIGNUP_OPENED],signupx_fn_eng:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SIGNUP_OPENED,LoginMetricService.Actions.VALIDATE_FIRST_NAME_ENG],signupx_fn_e:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.VALIDATE_FIRST_NAME_EMPTY],signupx_ln_eng:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SIGNUP_OPENED,LoginMetricService.Actions.VALIDATE_LAST_NAME_ENG],signupx_ln_e:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.VALIDATE_LAST_NAME_EMPTY],signupx_p_short:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.VALIDATE_PASSWORD_SHORT],signupx_p_empty:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.VALIDATE_PASSWORD_EMPTY],signupx_sw:[LoginMetricService.Actions.LOGIN_SWITCH],signupx_e13:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SIGNUP_PANEL_EMAIL_ENTER],signupx_p13:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SIGNUP_PANEL_PASSWORD_ENTER],signupx_td:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SIGNUP_CALLBACK_ERR]},this.EventsSinceLastOccuranceOf(LoginMetricService.Actions.LOGIN_OPEN)),t=this.FindLatestOccurance(LoginMetricService.Actions.LANDING),i=this.AppendToResultSets(e,t),n=Object.keys(i||{});i&&n.length>0&&(this.SendHadoop(LoginMetricService.LogIds.DL_SIGNUP_NONCONV,i),this.SendWhiteFalconAndLogstash(LoginMetricService.LogIds.DL_SIGNUP_NONCONV,1,1,{measurement:{page:t.optional.page||agoda.PageType||agoda.rumpagetype,loginId:(i[n[0]][1]||{optional:{loginId:404}}).optional.loginId,harass:n.some(function(e){return["signupx_fn_eng","signupx_fn_e","signupx_ln_eng","signupx_ln_e","signupx_p_short","signupx_p_empty"].indexOf(e)>0}),empty:n.includes("signupx_fn_e")||n.includes("signupx_ln_e"),hfor:n.includes("signupx_fn_eng")||n.includes("signupx_ln_eng"),plen:n.includes("signupx_p_short"),sw:n.includes("signupx_sw"),pass13:n.includes("signupx_p13"),email13:n.includes("signupx_e13"),errcb:n.includes("signupx_td")}}))},LoginMetricService.prototype.SignUpConversion=function(e){var t=this.FindSubsetInOrder({signupx:[LoginMetricService.Actions.LOGIN_OPEN],signupx_fn_eng:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.VALIDATE_FIRST_NAME_ENG],signupx_fn_e:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.VALIDATE_FIRST_NAME_EMPTY],signupx_ln_eng:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.VALIDATE_LAST_NAME_ENG],signupx_ln_e:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.VALIDATE_LAST_NAME_EMPTY],signupx_p_short:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.VALIDATE_PASSWORD_SHORT],signupx_p_empty:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.VALIDATE_PASSWORD_EMPTY],signupx_sw:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.LOGIN_SWITCH],signupx_e13:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SIGNUP_PANEL_EMAIL_ENTER],signupx_p13:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SIGNUP_PANEL_PASSWORD_ENTER],signupx_ocu:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SEND_OFFER_UNCHECK,LoginMetricService.Actions.SEND_OFFER_CHECK]},this.EventsSinceLastOccuranceOf(LoginMetricService.Actions.LOGIN_OPEN)),i=this.FindLatestOccurance(LoginMetricService.Actions.LANDING),n=this.AppendToResultSets(t,i),o=Object.keys(n||{});if(n&&o.length>0){this.SendHadoop(LoginMetricService.LogIds.DL_SIGNUP_CONV,n,!0),this.SendWhiteFalconAndLogstash(LoginMetricService.LogIds.DL_SIGNUP_CONV,1,1,{measurement:{page:i.optional.page||this.injector().agoda.PageType||this.injector().agoda.rumpagetype,loginId:(n[o[0]][1]||{optional:{loginId:404}}).optional.loginId,harass:o.some(function(e){return["signupx_fn_eng","signupx_fn_e","signupx_ln_eng","signupx_ln_e","signupx_p_short","signupx_p_empty"].indexOf(e)>0}),empty:o.includes("signupx_fn_e")||o.includes("signupx_ln_e"),hfor:o.includes("signupx_fn_eng")||o.includes("signupx_ln_eng"),plen:o.includes("signupx_p_short"),sw:o.includes("signupx_sw"),pass13:o.includes("signupx_p13"),email13:o.includes("signupx_e13"),ocu:o.includes("signupx_ocu")}},!0)}"function"==typeof e&&e()},LoginMetricService.prototype.LoginNonConversion=function(){var e=this.EventsSinceLastOccuranceOf(LoginMetricService.Actions.LOGIN_OPEN),t=this.FindSubsetInOrder({six:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SIGNIN_OPENED],six_e_e:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SIGNIN_OPENED,LoginMetricService.Actions.VALIDATE_EMAIL_ERROR_EMPTY],six_e_f:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SIGNIN_OPENED,LoginMetricService.Actions.VALIDATE_EMAIL_ERROR_FORMAT],six_p_e:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SIGNIN_OPENED,LoginMetricService.Actions.VALIDATE_PASSWORD_EMPTY],sux_s:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.LOGIN_SWITCH],six_p_13:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SIGNIN_OPENED,LoginMetricService.Actions.SIGNIN_PANEL_PASSWORD_ENTER],six_e_13:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SIGNIN_OPENED,LoginMetricService.Actions.SIGNIN_PANEL_EMAIL_ENTER]},e);t.sux_s&&"signup"!==t.sux_s[1].optional.action&&delete t.sux_s;var i=this.FindLatestOccurance(LoginMetricService.Actions.LANDING),n=this.AppendToResultSets(t,i),o=Object.keys(n||{});n&&o.length>0&&(this.SendHadoop(LoginMetricService.LogIds.DL_SIGNIN_NONCONV,n),this.SendWhiteFalconAndLogstash(LoginMetricService.LogIds.DL_SIGNIN_NONCONV,1,1,{measurement:{page:i.optional.page||agoda.PageType||agoda.rumpagetype,loginId:(n[o[0]][1]||{optional:{loginId:404}}).optional.loginId,harass:o.some(function(e){return["six_e_e","six_e_f","six_p_e"].indexOf(e)>0}),empty:o.includes("six_e_e"),format:o.includes("six_e_f"),passe:o.includes("six_p_e"),pass13:o.includes("six_p_13"),email13:o.includes("six_e_13")}}))},LoginMetricService.prototype.LoginConversion=function(e){var t=this.FindSubsetInOrder({six:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SIGNIN_OPENED],six_e_e:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SIGNIN_OPENED,LoginMetricService.Actions.VALIDATE_EMAIL_ERROR_EMPTY],six_e_f:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SIGNIN_OPENED,LoginMetricService.Actions.VALIDATE_EMAIL_ERROR_FORMAT],six_p_e:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SIGNIN_OPENED,LoginMetricService.Actions.VALIDATE_PASSWORD_EMPTY],six_p_13:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SIGNIN_OPENED,LoginMetricService.Actions.SIGNIN_PANEL_PASSWORD_ENTER],six_e_13:[LoginMetricService.Actions.LOGIN_OPEN,LoginMetricService.Actions.SIGNIN_OPENED,LoginMetricService.Actions.SIGNIN_PANEL_EMAIL_ENTER]},this.EventsSinceLastOccuranceOf(LoginMetricService.Actions.LOGIN_OPEN)),i=this.FindLatestOccurance(LoginMetricService.Actions.LANDING),n=this.AppendToResultSets(t,i),o=Object.keys(n||{});if(n&&o.length>0){this.SendHadoop(LoginMetricService.LogIds.DL_SIGNIN_CONV,n,!0),this.SendWhiteFalconAndLogstash(LoginMetricService.LogIds.DL_SIGNIN_CONV,1,1,{measurement:{page:i.optional.page||this.injector().agoda.PageType||this.injector().agoda.rumpagetype,loginId:(n[o[0]][1]||{optional:{loginId:404}}).optional.loginId,harass:o.some(function(e){return["six_e_e","six_e_f","six_p_e"].indexOf(e)>0}),empty:o.includes("six_e_e"),format:o.includes("six_e_f"),passe:o.includes("six_p_e"),pass13:o.includes("six_p_13"),email13:o.includes("six_e_13")}},!0)}"function"==typeof e&&e()},LoginMetricService.prototype.OneClickConversion=function(){var e=this.FindSubsetInOrder({main:[LoginMetricService.Actions.LANDING,LoginMetricService.Actions.ONECLICK_CALLBACK],err:[LoginMetricService.Actions.LANDING,LoginMetricService.Actions.ONECLICK_ERR],e500:[LoginMetricService.Actions.LANDING,LoginMetricService.Actions.ONECLICK_ERR500]},this.EventsSinceLastOccuranceOf(LoginMetricService.Actions.LANDING)),t=Object.keys(e||{});if(e&&t){this.SendHadoop(LoginMetricService.LogIds.DL_ONECLICK_CONV,e,!0),this.SendWhiteFalconAndLogstash(LoginMetricService.LogIds.DL_ONECLICK_CONV,1,1,{measurement:{page:this.injector().agoda.PageType||this.injector().agoda.rumpagetype,harass:t.some(function(e){return["err","e500"].indexOf(e)>0})}},!0)}},LoginMetricService.prototype.LogAction=function(e,t){"string"==typeof e&&this.withLS(function(i,n){if(i.IsMockData(),(n=n||[]).length+1>LoginMetricService.Configs.HARD_ITEM_LIMIT&&(n=n.splice(n.length+1-LoginMetricService.Configs.HARD_ITEM_LIMIT)),n.push({timestamp:Date.now(),id:e,optional:t||{}}),i.registeredCallbacks[e])for(var o in i.registeredCallbacks[e])i.registeredCallbacks[e][o](i,i.GetLogs());return n})},LoginMetricService.prototype.GetLogs=function(){var e="";return this.withLS(function(t,i){e=i}),e},LoginMetricService.prototype.SetLogs=function(e){this.localStorage.setItem(LoginMetricService.LogItemId,JSON.stringify(e))},LoginMetricService.prototype.LogHistoryAndMark=function(e){e="boolean"==typeof e&&e;var t=[],i=[],n=this.GetLogs();for(var o in n){var a=n[o];void 0===a.x?(t.push({timestamp:a.timestamp,id:a.id,optional:a.optional,x:1}),i.push({timestamp:a.timestamp,id:a.id,optional:a.optional,x:1})):i.push({timestamp:a.timestamp,id:a.id,optional:a.optional,x:a.x})}(t.length>LoginMetricService.Configs.HISTORY_MIN_BUFFER||e)&&(this.SetLogs(i),this.SendHadoop(LoginMetricService.LogIds.HADOOP_FLUSH_HISTORY,{history:t}))},LoginMetricService.GetEmpty=function(e){return{Data:{},Meta:{metric_name:e}}},LoginMetricService.AddName=function(e,t){return t.Meta.metric_name=e,t},LoginMetricService.AddLogStashLevel=function(e,t){return e="number"==typeof e&&e<6&&e>0?e:1,t.Meta.logstash_level=e,t.MessageType=2,t},LoginMetricService.AddWhitefalconValue=function(e,t){return e="number"==typeof e?e:1,t.Meta.whitefalcon_metric_value=e,t.MessageType=1,t},LoginMetricService.prototype.SendHadoop=function(e,t,i,n,o){var a=LoginMetricService.GetEmpty(e);a.Data=t,a.MessageType=0,i?this.StashMessage(a,!0):this.SendDelphiRequest(a,!0,n,o)},LoginMetricService.prototype.SendWhiteFalcon=function(e,t,i,n,o,a){var s=LoginMetricService.GetEmpty(e);s.Data=i,(s=LoginMetricService.AddWhitefalconValue(t,s)).MessageType=1,n?this.StashMessage(s,!1):this.SendDelphiRequest(s,!1,o,a)},LoginMetricService.prototype.SendLogstash=function(e,t,i,n,o,a,s){var r=LoginMetricService.GetEmpty(e);r.Data=i,(r=LoginMetricService.AddLogStashLevel(t,r)).MessageType=2,n?this.StashMessage(r,o):this.SendDelphiRequest(r,o,a,s)},LoginMetricService.prototype.SendHadoopAndLogstash=function(e,t,i,n,o,a,s){var r=LoginMetricService.GetEmpty(e);r.Data=i,(r=LoginMetricService.AddLogStashLevel(t,r)).MessageType=3,n?this.StashMessage(r,o):this.SendDelphiRequest(r,o,a,s)},LoginMetricService.prototype.SendWhiteFalconAndLogstash=function(e,t,i,n,o,a,s,r){var c=LoginMetricService.GetEmpty(e);c.Data=n,c=LoginMetricService.AddLogStashLevel(t,c),(c=LoginMetricService.AddWhitefalconValue(i,c)).MessageType=4,o?this.StashMessage(c,a):this.SendDelphiRequest(c,a,s,r)},LoginMetricService.prototype.SendToAll=function(e,t,i,n,o,a,s,r){var c=LoginMetricService.GetEmpty(e);c.Data=n,c=LoginMetricService.AddLogStashLevel(t,c),(c=LoginMetricService.AddWhitefalconValue(i,c)).MessageType=5,o?this.StashMessage(c,a):this.SendDelphiRequest(c,a,s,r)},LoginMetricService.prototype.StashMessage=function(e,t){var i=this.localStorage.getItem(LoginMetricService.LogStash),n=void 0===i?[]:JSON.parse(i),o={Data:e,IsDump:t};n&&n.constructor===Array?n.push(o):n=[o],this.localStorage.setItem(LoginMetricService.LogStash,JSON.stringify(n))},LoginMetricService.prototype.SendStashedMessages=function(){var e=this.localStorage.getItem(LoginMetricService.LogStash),t=JSON.parse(e);if(t&&t.constructor===Array)for(var i=0;i<t.length;i++)this.SendDelphiRequest(t[i].Data,t[i].IsDump);this.localStorage.setItem(LoginMetricService.LogStash,JSON.stringify([]))},LoginMetricService.prototype.SendDelphiRequest=function(e,t,i,o){t="boolean"==typeof t&&t,this.IsMockData(),e.Validation=n("input[name='requestVerificationToken']").val(),n.ajax({url:t?this.Url.GenericLog:this.Url.GenericMetric,data:{"":JSON.stringify(e)},dataType:"json",method:"post",success:function(e,t){"function"==typeof i&&i(e,t)},error:function(e,t,i){"function"==typeof o&&o(t,i,e)},timeout:this.timeoutTime})},(e=e||{}).exports=LoginMetricService},345:function(e,t,i){i(3);LoginValidity=function(){this.basket=[]},LoginValidity.prototype.Reset=function(){this.basket=[]},LoginValidity.prototype.isEmpty=function(e){return 0==e.length},LoginValidity.prototype.isEnglishFormat=function(e){return/^[a-z\-\.\u00aa\u00ba\u00c0-\u00ff\u0100-\u017F\u0180-\u024F\u0292\u0300-\u036f\u1D00-\u1D6A\u1E00-\u1EFF\ua720-\ua7ff\'\’\`\s]+$/i.test(e)},LoginValidity.prototype.isEmailFormat=function(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)},LoginValidity.prototype.isTooShort=function(e){return e.length<8},LoginValidity.prototype.IsEmpty=function(e,t){return!("string"!=typeof e||!this.isEmpty(e))&&(this.basket.push(t),!0)},LoginValidity.prototype.IsEnglishFormat=function(e,t){return"string"==typeof e&&!this.isEnglishFormat(e)&&(this.basket.push(t),!0)},LoginValidity.prototype.IsEmailFormat=function(e,t){return"string"==typeof e&&!this.isEmailFormat(e)&&(this.basket.push(t),!0)},LoginValidity.prototype.IsTooShort=function(e,t){return!("string"!=typeof e||!this.isTooShort(e))&&(this.basket.push(t),!0)},LoginValidity.prototype.IsInvalid=function(e,t){return!!e()&&(this.basket.push(t),!0)},LoginValidity.prototype.Consume=function(e){for(;this.basket.length;)e(this.basket.pop())},LoginValidity.prototype.ConsumeQueue=function(e){for(var t=0;t<this.basket.length;t++)e(this.basket[t]);this.basket=[]},LoginValidity.prototype.trimSpec=function(e){return e.replace(/^\s+|\s+$/gm,"").replace(/\s+/gm," ")},LoginValidity.prototype.TrimSpec=function(e){return e.val(this.trimSpec(e.val()))},(e=e||{}).exports=LoginValidity},4221:function(e,t,i){var n=i(3),o=i(748);GeetestCaptcha=function(e){this.isMobilePage=function(){var e=n("*[data-selenium='device-type']");return e.length>0&&"mobile"===e.val()},this.opts=n.extend({selector:null,displayType:"embed",bindOn:"",lang:"zh-cn",captchaFinishCallback:function(){},captchaShowCallback:function(){}},e||{}),this.captchaObj=null,this.isValidated=!1,this.logService=new o;var t=this,i=this.opts.selector,a={"zh-cn":"zh-cn","zh-tw":"zh-tw","en-us":"en","ja-jp":"ja","ko-kr":"ko"};if(void 0==a[this.opts.lang]?this.opts.lang="zh-cn":this.opts.lang=a[this.opts.lang],null!=i&&n(i).length>0)try{var s=function(e){if(e.appendTo(t.opts.selector),agoda.IsMobile&&agoda.mobileMenuWidth&&agoda.mobileMenuWidth<326){var i=n("div.captcha-container"),o=agoda.mobileMenuWidth/326,a=((agoda.mobileMenuWidth*o).toFixed(2),(188*o+10).toFixed(2));i.css("max-width",agoda.mobileMenuWidth+"px"),i.css("max-height",a+"px");var s=window.setInterval(function(){var e=n(".gt_holder.gt_embed");if(e.length>0){var t=o.toFixed(2);e.css("transform","scale("+t+")"),e.css("-webkit-transform","scale("+t+")"),e.css("transform-origin","0 0"),e.css("-webkit-transform-origin","0 0"),window.clearInterval(s)}},200)}t.captchaObj=e,e.onError(function(){t.isValidated=!1,t.opts.captchaFinishCallback()}),e.onSuccess(function(){t.isValidated=!0,t.opts.captchaFinishCallback()}),"popup"==t.opts.displayType&&e.bindOn(t.opts.bindOn),t.logService.logShowCatpcha(t.opts.selector.substring(1),"geetest"),t.opts.captchaShowCallback()};n.ajax({url:"/api/captcha/GetCaptchaData?type=geetest",type:"get",dataType:"json",success:function(e){if(1==e.IsSuccess){var i=JSON.parse(e.DataString);t.isMobilePage()?initGeetest({gt:i.gt,challenge:i.challenge,product:t.opts.displayType,offline:!i.success,lang:t.opts.lang,width:"200px",new_captcha:i.new_captcha},s):initGeetest({gt:i.gt,challenge:i.challenge,product:t.opts.displayType,offline:!i.success,lang:t.opts.lang,new_captcha:i.new_captcha},s)}}})}catch(e){this.logService.logLoadFailed(elementId,"geetest",e.message)}},GeetestCaptcha.init=function(e){if(!window.GeetestLoaded){var t=window.location.protocol+"//static.geetest.com/static/tools/gt.js";n.getScript(t,function(t,i,n){window.GeetestLoaded=!0,e()})}},GeetestCaptcha.prototype.isInit=function(){return window.GeetestLoaded},GeetestCaptcha.prototype.reset=function(){this.isValidated=!1,null!=this.captchaObj&&this.captchaObj.reset()},GeetestCaptcha.prototype.getResponse=function(){if(null!=this.captchaObj&&this.isValidated){var e=this.captchaObj.getValidate();if(e){var t="geetest:"+e.geetest_challenge+"|"+e.geetest_validate+"|"+e.geetest_seccode;return n.base64.encode(t)}}return""},(e=e||{}).exports=GeetestCaptcha},4222:function(e,t,i){var n=i(3),o=i(748);Recaptcha=function(e,t,i,a){if(this.widget=null,this.response="",this.captchaFinishedCallback=t,this.logService=new o,this.elementId=e,this.size=this.validateSize(a)?a:"normal",this.isInvisible="invisible"===this.size,n("#"+e).length){var s=this;try{this.widget=grecaptcha.render(e,{sitekey:this.isInvisible?"6Lce8jIUAAAAADTR-1OrO7P6Kce33EWaQm39QzBB":"6LdCwikTAAAAAN1uG5Edghnae8-Q3QBZkH8vwlzQ",size:this.size,callback:function(e){s.responseCallback(e)},"expired-callback":function(){s.reset()}}),this.isInvisible&&grecaptcha.execute(this.widget)}catch(t){console.log(t),this.logService.logLoadFailed(e,"recaptcha",t.message)}this.logService.logShowCatpcha(e,"recaptcha"),i()}},Recaptcha.prototype.validateSize=function(e){return"invisible"===e||"compact"===e||"normal"===e},Recaptcha.init=function(e){window.grecaptcha&&window.agoda.captcha.asyncInitCallback(),window.recaptchaInitCallback=function(){delete window.recaptchaInitCallback,window.agoda.captcha.asyncInitCallback()};var t=function(e){var t={"en-us":"en","fr-fr":"fr","de-de":"de","it-it":"it","es-es":"es","ja-jp":"ja","zh-hk":"zh-HK","zh-cn":"zh-CN","ko-kr":"ko","el-gr":"el","ru-ru":"ru","pt-pt":"pt","nl-nl":"nl","en-gb":"en-GB","zh-tw":"zh-TW","th-th":"th","ms-my":"ms","vi-vn":"vi","sv-se":"sv","id-id":"id","pl-pl":"pl","nb-no":"no","da-dk":"da","fi-fi":"fi","cs-cz":"cs","tr-tr":"tr","ca-es":"ca","hu-hu":"hu","hi-in":"hi","bg-bg":"bg","ro-ro":"ro","sl-si":"sl","he-il":"iw","ar-ae":"ar","pt-br":"pt-BR","es-ar":"es-419","lt-lt":"lt","lv-lv":"lv","hr-hr":"hr","et-ee":"et","uk-ua":"uk"};return void 0===t[e]?"en":t[e]}(e);url="https://www.google.com/recaptcha/api.js?onload=recaptchaInitCallback&render=explicit&hl="+t,n.getScript(url)},Recaptcha.prototype.responseCallback=function(e){this.response=n.base64.encode("recaptcha:"+e),null!==this.captchaFinishedCallback&&this.captchaFinishedCallback()},Recaptcha.prototype.reset=function(){null!==this.widget&&(this.response="",grecaptcha.reset(this.widget),this.isInvisible&&grecaptcha.execute(this.widget))},Recaptcha.prototype.getResponse=function(){return this.response},Recaptcha.prototype.executeInvisibleCaptcha=function(){grecaptcha.execute(this.widget)},(e=e||{}).exports=Recaptcha},4223:function(e,t,i){var n=i(3),o=i(345),a=i(1173),s=i(1172),r=i(1171);i(147);ResetPasswordSetPasswordPanel=function(e,t,i){this.injector=i,this.popup=e,this.name="reset-password-set-password",this.panel=n("#"+this.name+"-panel"),this.closeIcon=n("#reset-password-set-password-close-icon"),this.message=n("#reset-password-set-password-message"),this.message.hide(),this.password1=new a(this.name+"-new-password"),this.password2=new a(this.name+"-confirm-password"),this.submitButton=new s(this.name,i),this.technicalDifficulties=new r(this.name),this.validity=new o,this.service=t,this.isMock="True"===n("#mockDataEnabled").val(),this.options={cooldown:1e3,loadingTimeout:5e3},this.timeoutRef="",this.setup()},ResetPasswordSetPasswordPanel.prototype.setup=function(){var e=this;this.submitButton.onSubmit(function(t){e.submit(t)}),this.closeIcon.on("click",function(){e.popup.hide(),e.popup.invalidateTokenInQuery()})},ResetPasswordSetPasswordPanel.prototype.reset=function(){this.technicalDifficulties.hide(),this.password1.resetErrors(),this.password2.resetErrors(),this.password1.val(""),this.password2.val(""),this.submitButton.reset()},ResetPasswordSetPasswordPanel.prototype.submit=function(e){var t=this;this.technicalDifficulties.hide(),this.password1.resetErrors(),this.password2.resetErrors(),this.submitButton.reset();var i=this.password1.val(),n=this.password2.val();this.validity.IsEmpty(i,"password-empty:1"),this.validity.IsEmpty(n,"password-empty:2"),this.validity.IsTooShort(i,"password-short:1"),this.validity.IsTooShort(n,"password-short:2"),this.validity.IsInvalid(function(){return i!=n},"password-non-match"),0===this.validity.basket.length&&(this.isMock||"string"==typeof e.captchaResponse&&""!==e.captchaResponse)?(this.service.SendResetPasswordRequest(n,function(i,n){1==i?(t.hide(),t.injector().agoda.login.ResetPasswordAutoLogin?t.injector().location.reload():(t.popup.showMessageModalWithCallback("ResetPassword.RetreivePassword",function(){e.reference.reset(),t.popup.hide()},function(){t.popup.invalidateTokenInQuery()}),t.password1.val(""),t.password2.val(""))):2==i?(t.technicalDifficulties.show(t.injector().agoda.PasswordCannotBeReused),t.password1.val(""),t.password2.val("")):5==i?t.technicalDifficulties.show(t.injector().agoda.login.cms.CannotReusePassword):t.technicalDifficulties.show(),t.clearInSeconds(5),t.submitButton.reset()},function(e,i,n){t.technicalDifficulties.show(),t.clearInSeconds(3),t.submitButton.reset()},e.captchaResponse),this.submitButton.setLoading(!0)):this.validity.ConsumeQueue(function(e){var i=e.split(":");1==i.length?(t.password1.showError(e,!0),t.password2.showError(e,!0)):("1"==i[1]&&t.password1.showError(i[0],!0),"2"==i[1]&&t.password2.showError(i[0],!0))})},ResetPasswordSetPasswordPanel.prototype.show=function(){this.submitButton.prepare(),this.password1.inputElement.val(""),this.password1.resetErrors(),this.password2.inputElement.val(""),this.password2.resetErrors(),this.password2.inputElement.prop("disabled",!1),this.submitButton.buttonElement.prop("disabled",!1);var e=this;n(".modal-backdrop").on("click",function(){e.popup.invalidateTokenInQuery()}),this.panel.show()},ResetPasswordSetPasswordPanel.prototype.hide=function(){this.panel.hide()},ResetPasswordSetPasswordPanel.prototype.showMessage=function(e){this.message.html(e),this.message.show()},ResetPasswordSetPasswordPanel.prototype.clearTimeout=function(){"number"==typeof this.timeoutRef&&(this.injector().clearTimeout(this.timeoutRef),this.timeoutRef="")},ResetPasswordSetPasswordPanel.prototype.clearInSeconds=function(e){var t=this;this.clearTimeout(),this.timeoutRef=this.injector().setTimeout(function(){t.technicalDifficulties.hide()},1e3*e)},(e=e||{}).exports=ResetPasswordSetPasswordPanel},4224:function(e,t,i){var n=i(3);WeChatEmailLinkedErrorPanel=function(e){this.popup=e,this.options={modal:"#wechat-email-linked-error-panel"},this.modal=n(this.options.modal),this.show=function(){this.modal.show()},this.hide=function(){this.modal.hide()},agoda.IsBLTPageFix&&(this.modal.css("pointer-events","all"),this.modal.click(function(e){e.preventDefault(),this.popup.hide()}.bind(this)))},(e=e||{}).exports=WeChatEmailLinkedErrorPanel},4225:function(e,t,i){var n=i(3),o=i(84).SocialLoginStatus,a=i(84).Panels;WeChatAskNamePanel=function(e){this.popup=e,this.modal=n(WeChatAskNamePanel.options.modal),this.firstname=n(WeChatAskNamePanel.options.firstname),this.lastname=n(WeChatAskNamePanel.options.lastname),this.validations={firstnameEnglish:n(WeChatAskNamePanel.options.firstnameEnglish),lastnameEnglish:n(WeChatAskNamePanel.options.lastnameEnglish),firstnameEmpty:n(WeChatAskNamePanel.options.firstnameEmpty),lastnameEmpty:n(WeChatAskNamePanel.options.lastnameEmpty)},this.emailField=n(WeChatAskNamePanel.options.emailField),this.submit=n(WeChatAskNamePanel.options.submit),this.switchAccount=n(WeChatAskNamePanel.options.switchAccount),this.technicalDifficulties=n(WeChatAskNamePanel.options.technicalDifficulties),this.technicalDifficulties.hide(),this.validity=e.validity,this.service=e.linkAccountService,this.eventBinding(),agoda.IsBLTPageFix&&(this.modal.css("pointer-events","all"),this.modal.click(function(e){e.preventDefault(),this.popup.hide()}.bind(this)))},WeChatAskNamePanel.options={modal:"#wechat-ask-name-panel",firstname:"#wechat-ask-name-firstname-input",lastname:"#wechat-ask-name-lastname-input",firstnameEmpty:"#wechat-ask-name-firstname-blank",lastnameEmpty:"#wechat-ask-name-lastname-blank",firstnameEnglish:"#wechat-ask-name-firstname-in-english",lastnameEnglish:"#wechat-ask-name-lastname-in-english",submit:"#wechat-ask-name-submit-button",emailField:"#wechat-ask-name-email",switchAccount:"#wechat-ask-name-signin",technicalDifficulties:"#wechat-ask-name-techincal-difficulties"},WeChatAskNamePanel.prototype.eventBinding=function(){var e=this;this.submit.click(function(t){t.preventDefault(),e.submitNames()}),this.lastname.keyup(function(t){t.preventDefault(),13==t.which&&e.submitNames()})},WeChatAskNamePanel.prototype.show=function(){this.emailField.text(this.popup.LinkAccount.association.Email);var e=this.popup.LinkAccount.association.FirstName,t=this.popup.LinkAccount.association.LastName;this.firstname.val(this.validity.isEnglishFormat(e)?e:""),this.lastname.val(this.validity.isEnglishFormat(t)?t:""),this.modal.show()},WeChatAskNamePanel.prototype.hide=function(){this.modal.hide()},WeChatAskNamePanel.prototype.showLoading=function(){this.submit.addClass("hide-text"),this.submit.addClass("btn-loading"),this.submit.prop("disabled",!0)},WeChatAskNamePanel.prototype.hideLoading=function(){this.submit.removeClass("hide-text"),this.submit.removeClass("btn-loading"),this.submit.prop("disabled",!1)},WeChatAskNamePanel.prototype.submitNames=function(){for(var e in this.firstname.removeClass("warning-input-field"),this.lastname.removeClass("warning-input-field"),this.validations)this.validations[e].hide();var t=this.firstname.val(),i=this.lastname.val();if(this.validity.IsEmpty(t,WeChatAskNamePanel.options.firstnameEmpty)||this.validity.IsEnglishFormat(t,WeChatAskNamePanel.options.firstnameEnglish),this.validity.IsEmpty(i,WeChatAskNamePanel.options.lastnameEmpty)||this.validity.IsEnglishFormat(i,WeChatAskNamePanel.options.lastnameEnglish),0==this.validity.basket.length){this.popup.LinkAccount.association.FirstName=t,this.popup.LinkAccount.association.LastName=i;var s=function(){this.popup.LinkAccount.RefreshAfterSuccess()}.bind(this),r=function(e){switch(Number(e.Status)){case o.AssociateSuccess:return void s();case o.AssociatedToAnotherAccount:this.popup.select(a.CANNOT_LINK);break;default:this.technicalDifficulties.show()}}.bind(this),c=function(e){this.technicalDifficulties.show()}.bind(this);this.showLoading(),this.service.linkWeChatOnSignUp(this.popup.LinkAccount.association.Email,this.firstname.val(),this.lastname.val(),"",r,c,this.popup.LinkAccount.association.FavoritePropertyId)}else this.validity.Consume(function(e){switch(n(e).show(),e){case WeChatAskNamePanel.options.firstnameEmpty:case WeChatAskNamePanel.options.firstnameEnglish:this.firstname.addClass("warning-input-field");break;case WeChatAskNamePanel.options.lastnameEmpty:case WeChatAskNamePanel.options.lastnameEnglish:this.lastname.addClass("warning-input-field")}}.bind(this))},(e=e||{}).exports=WeChatAskNamePanel},4226:function(e,t,i){var n=i(3),o=i(84).Panels,a=i(84).SocialLoginStatus;WeChatAskPassword=function(e){this.elements={linkEmail:"#wechat-email",askPasswordPanel:"#wechat-ask-password-panel",SubmitButton:"#wechat-ask-password-submit-button",passwordInput:"#wechat-ask-password-input",respondTechnicalIssue:"#wechat-respond-technical-issue",respondPasswordIssue:"#wechat-respond-password-issue",switchAccount:"#wechat-switch-account-action",feedbacks:{passwordEmpty:"#wechat-ask-password-submit-blank",passwordRule:"#wechat-ask-password-submit-break-rule"}},this.popup=e,this.linkEmail=n(this.elements.linkEmail),this.askPasswordPanel=n(this.elements.askPasswordPanel),this.SubmitButton=n(this.elements.SubmitButton),this.respondTechnicalIssue=n(this.elements.respondTechnicalIssue),this.respondPasswordIssue=n(this.elements.respondPasswordIssue),this.passwordInput=n(this.elements.passwordInput),this.passwordInput.val(""),this.feedbacks={passwordEmpty:n(this.elements.feedbacks.passwordEmpty),passwordRule:n(this.elements.feedbacks.passwordRule)},this.validity=e.validity,this.service=e.linkAccountService,this.linkAccount=e.LinkAccount,this.eventBinding(),agoda.IsBLTPageFix&&(this.askPasswordPanel.css("pointer-events","all"),this.askPasswordPanel.click(function(e){e.preventDefault(),this.popup.hide()}.bind(this)))},WeChatAskPassword.prototype.show=function(){this.setEmail(),this.askPasswordPanel.show()},WeChatAskPassword.prototype.hide=function(){this.askPasswordPanel.hide(),this.resetErrorMessages()},WeChatAskPassword.prototype.setEmail=function(){this.linkEmail.html(this.linkAccount.association.Email)},WeChatAskPassword.prototype.eventBinding=function(){var e=this;this.SubmitButton.click(function(t){t.preventDefault(),e.submitPassword(t)}),this.passwordInput.keyup(function(t){t.preventDefault(),13===t.which&&e.submitPassword()})},WeChatAskPassword.prototype.validatePasswordInput=function(e){return this.validity.isEmpty(e)?[this.feedbacks.passwordEmpty]:this.validity.IsTooShort(e)?[this.feedbacks.passwordRule]:[]},WeChatAskPassword.prototype.showLoading=function(){this.SubmitButton.addClass("hide-text"),this.SubmitButton.addClass("btn-loading")},WeChatAskPassword.prototype.hideLoading=function(){this.SubmitButton.removeClass("hide-text"),this.SubmitButton.removeClass("btn-loading")},WeChatAskPassword.prototype.displayFeedbacks=function(e){var t=this;n.each(e,function(e,i){i.show(),i!==t.feedbacks.passwordEmpty&&i!==t.feedbacks.passwordRule||t.passwordInput.addClass("warning-input-field")})},WeChatAskPassword.prototype.resetErrorMessages=function(){for(key in this.respondTechnicalIssue.hide(),this.respondPasswordIssue.hide(),this.passwordInput.removeClass("warning-input-field"),this.feedbacks)this.feedbacks[key].hide(),this.feedbacks[key].css("display","none")},WeChatAskPassword.prototype.submitPassword=function(e){this.resetErrorMessages();var t=[],i=this.passwordInput.val(),n=this.linkEmail.html();if(0!==(t=t.concat(this.validatePasswordInput(i))).length)this.displayFeedbacks(t);else{var s=function(){this.popup.LinkAccount.RefreshAfterSuccess()}.bind(this),r=function(e){switch(Number(e.Status)){case a.AssociateSuccess:return void s();case a.RequirePasswordToLoginOnAgoda:this.respondPasswordIssue.show(),this.passwordInput.addClass("warning-input-field");break;case a.AssociatedToAnotherAccount:this.popup.select(o.WECHAT_EMAIL_LINKED_ERROR);break;default:this.respondTechnicalIssue.show()}this.hideLoading()}.bind(this),c=function(){this.hideLoading(),this.respondTechnicalIssue.show()}.bind(this);this.showLoading(),this.service.linkWeChatOnLogin(n,i,r,c,this.linkAccount.association.FavoritePropertyId)}},(e=e||{}).exports=WeChatAskPassword},4227:function(e,t,i){var n=i(3),o=i(84).SocialLoginStatus,a=i(84).Panels;WeChatAskEmailPanel=function(e){this.popup=e,this.modal=n(WeChatAskEmailPanel.options.modal),this.emailInput=n(WeChatAskEmailPanel.options.emailInput),this.emailSubmit=n(WeChatAskEmailPanel.options.emailSubmit),this.emailBlank=n(WeChatAskEmailPanel.options.emailBlank),this.emailFormatIncorrect=n(WeChatAskEmailPanel.options.emailFormatIncorrect),this.switchAccount=n(WeChatAskEmailPanel.options.switchAccount),this.technicalDifficulties=n(WeChatAskEmailPanel.options.technicalDifficulties),this.technicalDifficulties.hide(),this.validity=e.validity,this.service=e.linkAccountService,this.eventBinding(),agoda.IsBLTPageFix&&(this.modal.css("pointer-events","all"),this.modal.click(function(e){e.preventDefault(),this.popup.hide()}.bind(this)))},WeChatAskEmailPanel.options={modal:"#wechat-ask-email-panel",emailInput:"#wechat-ask-email-input",emailSubmit:"#wechat-ask-email-submit-button",emailBlank:"#wechat-ask-email-submit-blank",emailFormatIncorrect:"#wechat-ask-email-submit-format",technicalDifficulties:"#wechat-ask-email-technical-difficulties-issue"},WeChatAskEmailPanel.prototype.eventBinding=function(){var e=this;this.emailSubmit.click(function(t){t.preventDefault(),e.submitEmail()}),this.emailInput.keyup(function(t){t.preventDefault(),13===t.which&&e.submitEmail()})},WeChatAskEmailPanel.prototype.show=function(){this.emailInput.val(this.popup.LinkAccount.association.Email),this.modal.show()},WeChatAskEmailPanel.prototype.hide=function(){this.modal.hide()},WeChatAskEmailPanel.prototype.showLoading=function(){this.emailSubmit.addClass("hide-text"),this.emailSubmit.addClass("btn-loading")},WeChatAskEmailPanel.prototype.hideLoading=function(){this.emailSubmit.removeClass("hide-text"),this.emailSubmit.removeClass("btn-loading")},WeChatAskEmailPanel.prototype.submitEmail=function(){if(this.emailBlank.hide(),this.emailFormatIncorrect.hide(),this.emailInput.removeClass("warning-input-field"),this.validity.IsEmpty(this.emailInput.val(),this.emailBlank)||this.validity.IsEmailFormat(this.emailInput.val(),this.emailFormatIncorrect),0===this.validity.basket.length){var e=function(e){switch(Number(e.Status)){case o.RequirePasswordToLoginOnAgoda:this.popup.LinkAccount.association.Email=this.emailInput.val(),this.popup.select(a.WECHAT_ASK_FOR_PASSWORD);break;case o.CreateNewAgodaAccount:this.popup.LinkAccount.association.Email=this.emailInput.val(),this.popup.select(a.WECHAT_ASK_FOR_NAME);break;default:this.technicalDifficulties.show()}this.hideLoading()}.bind(this),t=function(){this.hideLoading(),this.technicalDifficulties.show()}.bind(this);this.showLoading(),this.service.validateEmailToLinkWeChat(this.emailInput.val(),e,t)}else this.validity.Consume(function(e){e.show(),this.emailInput.addClass("warning-input-field")}.bind(this))},(e=e||{}).exports=WeChatAskEmailPanel},4228:function(e,t,i){var n=i(3);EmailVerificationSent=function(e){this.options={modal:"#link-account-email-sent-panel",body:"#link-account-email-sent-body"},this.modal=n(this.options.modal),this.popup=e,agoda.IsBLTPageFix&&n(this.modal).css("pointer-events","all");var t=this.modal.find(".close");t&&t.bind("click",function(t){e.hide()})},EmailVerificationSent.prototype.show=function(){this.modal.show()},EmailVerificationSent.prototype.hide=function(){"function"==typeof this.callbackOnClose&&(this.callbackOnClose(),delete this.callbackOnClose),this.modal.hide()},EmailVerificationSent.prototype.setEmail=function(e){var t=n(this.options.body).data("cms");n(this.options.body).html(t.replace("{0}",'<span class="email-text">'+e+"</span>"))},EmailVerificationSent.prototype.callbackOnCloseOnce=function(e){this.callbackOnClose=e},(e=e||{}).exports=EmailVerificationSent},4229:function(e,t,i){var n=i(3);i(84).Panels;RequireEmailPanel=function(e){this.popup=e,this.options={modal:"#link-account-require-email-panel",backButton:"#link-account-require-email-continue-button"},this.modal=n(this.options.modal),this.show=function(){this.modal.show()},this.hide=function(){this.modal.hide()},agoda.IsBLTPageFix&&(this.modal.css("pointer-events","all"),this.modal.click(function(e){e.preventDefault(),this.popup.hide()}.bind(this))),this.eventBinding()},RequireEmailPanel.prototype.eventBinding=function(){var e=this.popup;n(this.options.backButton).click(function(t){t.preventDefault(),e.select(SignInPopup.ACTIONS.SIGN_IN)})},(e=e||{}).exports=RequireEmailPanel},4230:function(e,t,i){var n=i(3);CannotLinkPanel=function(e){this.popup=e,this.options={modal:"#link-account-cannot-link-panel"},this.modal=n(this.options.modal),this.show=function(){this.modal.show()},this.hide=function(){this.modal.hide()},agoda.IsBLTPageFix&&(this.modal.css("pointer-events","all"),this.modal.click(function(e){e.preventDefault(),this.popup.hide()}.bind(this)))},(e=e||{}).exports=CannotLinkPanel},4231:function(e,t,i){var n=i(3),o=(i(84).SocialLoginStatus,i(84).FacebookAssociationStatus),a=i(84).Panels,s=i(147);AskNamePanel=function(e){this.popup=e,this.modal=n(AskNamePanel.options.modal),this.firstname=n(AskNamePanel.options.firstname),this.lastname=n(AskNamePanel.options.lastname),this.validations={firstnameEnglish:n(AskNamePanel.options.firstnameEnglish),lastnameEnglish:n(AskNamePanel.options.lastnameEnglish),firstnameEmpty:n(AskNamePanel.options.firstnameEmpty),lastnameEmpty:n(AskNamePanel.options.lastnameEmpty)},this.emailField=n(AskNamePanel.options.emailField),this.submit=n(AskNamePanel.options.submit),this.switchAccount=n(AskNamePanel.options.switchAccount),this.technicalDifficulties=n(AskNamePanel.options.technicalDifficulties),this.technicalDifficulties.hide(),this.validity=e.validity,this.service=e.linkAccountService,this.eventBinding(),agoda.IsBLTPageFix&&(this.modal.css("pointer-events","all"),this.modal.click(function(e){e.preventDefault(),this.popup.hide()}.bind(this)))},AskNamePanel.options={modal:"#link-account-ask-name-panel",firstname:"#link-account-ask-name-firstname-input",lastname:"#link-account-ask-name-lastname-input",firstnameEmpty:"#link-account-ask-name-firstname-blank",lastnameEmpty:"#link-account-ask-name-lastname-blank",firstnameEnglish:"#link-account-ask-name-firstname-in-english",lastnameEnglish:"#link-account-ask-name-lastname-in-english",submit:"#link-account-ask-name-submit-button",emailField:"#link-account-ask-name-email",switchAccount:"#link-account-ask-name-signin",technicalDifficulties:"#link-account-ask-name-techincal-difficulties"},AskNamePanel.prototype.eventBinding=function(){var e=function(e){s.Cooldown(e,1e3)},t=this;this.submit.click(function(i){i.preventDefault(),t.submitNames(),e(this.submit)}),this.lastname.keyup(function(i){i.preventDefault(),13==i.which&&(t.submitNames(),e(this.lastname))}),this.switchAccount.click(function(){t.popup.select(a.ASK_SIGN_IN)})},AskNamePanel.prototype.show=function(){this.emailField.text(this.popup.LinkAccount.association.Email);var e=this.popup.LinkAccount.association.FirstName,t=this.popup.LinkAccount.association.LastName;this.firstname.val(this.validity.isEnglishFormat(e)?e:""),this.lastname.val(this.validity.isEnglishFormat(t)?t:""),this.modal.show()},AskNamePanel.prototype.hide=function(){this.modal.hide()},AskNamePanel.prototype.ShowLoading=function(){this.submit.addClass("hide-text"),this.submit.addClass("btn-loading")},AskNamePanel.prototype.HideLoading=function(){this.submit.removeClass("hide-text"),this.submit.removeClass("btn-loading")},AskNamePanel.prototype.submitNames=function(){for(var e in this.firstname.removeClass("warning-input-field"),this.lastname.removeClass("warning-input-field"),this.validations)this.validations[e].hide();var t=this.firstname.val(),i=this.lastname.val();if(this.ShowLoading(),this.validity.IsEmpty(t,AskNamePanel.options.firstnameEmpty)||this.validity.IsEnglishFormat(t,AskNamePanel.options.firstnameEnglish),this.validity.IsEmpty(i,AskNamePanel.options.lastnameEmpty)||this.validity.IsEnglishFormat(i,AskNamePanel.options.lastnameEnglish),0===this.validity.basket.length){this.popup.LinkAccount.association.FirstName=t,this.popup.LinkAccount.association.LastName=i;var s=function(){this.popup.LinkAccount.RefreshAfterSuccess()}.bind(this),r=function(e){switch(Number(e)){case o.AssociateSuccess:s();break;case o.NotUniqueEmail:this.popup.select(a.CANNOT_LINK),this.HideLoading();break;case o.NeedVerify:this.popup.linkAccountEmailVerificationSentPanel.callbackOnCloseOnce(s),this.popup.linkAccountEmailVerificationSentPanel.setEmail(this.popup.LinkAccount.association.Email),this.popup.select(a.EMAIL_VERI_SENT),this.HideLoading();break;default:this.technicalDifficulties.show(),this.HideLoading()}}.bind(this),c=function(e){this.HideLoading(),this.technicalDifficulties.show()}.bind(this);this.service.registerAndFacebookAssociate(this.popup.LinkAccount.association.Email,this.firstname.val(),this.lastname.val(),"",r,c,this.popup.LinkAccount.association.FavoritePropertyId)}else this.validity.Consume(function(e){switch(n(e).show(),e){case AskNamePanel.options.firstnameEmpty:case AskNamePanel.options.firstnameEnglish:this.firstname.addClass("warning-input-field");break;case AskNamePanel.options.lastnameEmpty:case AskNamePanel.options.lastnameEnglish:this.lastname.addClass("warning-input-field")}}.bind(this)),this.HideLoading()},(e=e||{}).exports=AskNamePanel},4232:function(e,t,i){var n=i(3),o=i(84).SocialLoginStatus,a=i(84).Panels,s=i(147);AskForEmailPanel=function(e){this.popup=e,this.modal=n(AskForEmailPanel.options.modal),this.emailInput=n(AskForEmailPanel.options.emailInput),this.emailSubmit=n(AskForEmailPanel.options.emailSubmit),this.emailBlank=n(AskForEmailPanel.options.emailBlank),this.emailFormatIncorrect=n(AskForEmailPanel.options.emailFormatIncorrect),this.switchAccount=n(AskForEmailPanel.options.switchAccount),this.technicalDifficulties=n(AskForEmailPanel.options.technicalDifficulties),this.technicalDifficulties.hide(),this.validity=e.validity,this.service=e.linkAccountService,this.eventBinding(),agoda.IsBLTPageFix&&(this.modal.css("pointer-events","all"),this.modal.click(function(e){e.preventDefault(),this.popup.hide()}.bind(this)))},AskForEmailPanel.options={modal:"#link-account-ask-email-panel",emailInput:"#link-account-ask-email-input",emailSubmit:"#link-account-ask-email-submit-button",emailBlank:"#link-account-ask-email-submit-blank",emailFormatIncorrect:"#link-account-ask-email-submit-format",technicalDifficulties:"#link-account-ask-email-technical-difficulties-issue"},AskForEmailPanel.prototype.eventBinding=function(){var e=function(e){s.Cooldown(e,1e3)},t=this;this.emailSubmit.click(function(i){i.preventDefault(),t.submitEmail(),e(this.emailSubmit)}),this.emailInput.keyup(function(i){i.preventDefault(),13==i.which&&(t.submitEmail(),e(this.emailSubmit))})},AskForEmailPanel.prototype.show=function(){this.emailInput.val(this.popup.LinkAccount.association.Email),this.modal.show()},AskForEmailPanel.prototype.hide=function(){this.modal.hide()},AskForEmailPanel.prototype.ShowLoading=function(){this.emailSubmit.addClass("hide-text"),this.emailSubmit.addClass("btn-loading")},AskForEmailPanel.prototype.HideLoading=function(){this.emailSubmit.removeClass("hide-text"),this.emailSubmit.removeClass("btn-loading")},AskForEmailPanel.prototype.submitEmail=function(){if(this.ShowLoading(),this.emailInput.val(this.emailInput.val().trim()),this.emailBlank.hide(),this.emailFormatIncorrect.hide(),this.emailInput.removeClass("warning-input-field"),this.validity.IsEmpty(this.emailInput.val(),this.emailBlank)||this.validity.IsEmailFormat(this.emailInput.val(),this.emailFormatIncorrect),0===this.validity.basket.length){var e=function(e){switch(Number(e)){case o.RequirePasswordToLoginOnAgoda:this.popup.LinkAccount.association.Email=this.emailInput.val(),this.popup.select(a.ASK_FOR_PASSWORD),this.HideLoading();break;case o.CreateNewAgodaAccount:this.popup.LinkAccount.association.Email=this.emailInput.val(),this.popup.select(a.ASK_FOR_NAME),this.HideLoading();break;default:this.technicalDifficulties.show(),this.HideLoading()}}.bind(this),t=function(){this.HideLoading(),this.technicalDifficulties.show()}.bind(this);this.service.sendEmailAddress(this.emailInput.val(),e,t)}else this.HideLoading(),this.validity.Consume(function(e){e.show(),this.emailInput.addClass("warning-input-field")}.bind(this))},(e=e||{}).exports=AskForEmailPanel},4233:function(e,t,i){var n=i(3),o=i(84).Panels,a=(i(84).SocialLoginStatus,i(84).FacebookAssociationStatus),s=i(147);LinkAccountAskPassword=function(e){this.elements={linkEmail:"#link-account-email",askPasswordPanel:"#link-account-ask-password-panel",linkAccountSubmitButton:"#link-account-ask-password-submit-button",password:"#link-account-ask-password-input",respondTechnicalIssue:"#respond-technical-issue",respondPasswordIssue:"#respond-password-issue",switchAccount:"#switch-account-action",feedbacks:{passwordEmpty:"#link-account-ask-password-submit-blank",passwordRule:"#link-account-ask-password-submit-break-rule"}},this.popup=e,this.linkEmail=n(this.elements.linkEmail),this.askPasswordPanel=n(this.elements.askPasswordPanel),this.linkAccountSubmitButton=n(this.elements.linkAccountSubmitButton),this.respondTechnicalIssue=n(this.elements.respondTechnicalIssue),this.respondPasswordIssue=n(this.elements.respondPasswordIssue),this.password=n(this.elements.password),this.password.val(""),this.switchAccount=n(this.elements.switchAccount),this.feedbacks={passwordEmpty:n(this.elements.feedbacks.passwordEmpty),passwordRule:n(this.elements.feedbacks.passwordRule)},this.validity=e.validity,this.service=e.linkAccountService,this.linkAccount=e.LinkAccount,this.eventBinding(),agoda.IsBLTPageFix&&(this.askPasswordPanel.css("pointer-events","all"),this.askPasswordPanel.click(function(e){e.preventDefault(),this.popup.hide()}.bind(this)))},LinkAccountAskPassword.prototype.show=function(){this.setEmail(),this.askPasswordPanel.show()},LinkAccountAskPassword.prototype.hide=function(){this.askPasswordPanel.hide(),this.resetErrorMessages()},LinkAccountAskPassword.prototype.setEmail=function(){this.linkEmail.html(this.linkAccount.association.Email)},LinkAccountAskPassword.prototype.eventBinding=function(){var e=function(e){s.Cooldown(e,1e3)},t=this;this.linkAccountSubmitButton.click(function(i){t.submitLinkAccount(i),e(this.password),e(this.linkAccountSubmitButton)}),this.password.off("keyup").on("keyup",function(i){return i.preventDefault(),13==i.which&&(t.submitLinkAccount(i),e(this.password),i.stopPropagation()),!1}),this.password.off("keypress"),this.password.off("keydown"),this.switchAccount.click(function(){t.popup.select(o.ASK_SIGN_IN)}),n("#link-account-forget-password-link").on("click",function(e){e.preventDefault(),t.hide(),agoda.login.ResetPasswordPopup.show("ResetPassword.GetNew")})},LinkAccountAskPassword.prototype.validatePasswordInput=function(e){return this.validity.isEmpty(e)?[this.feedbacks.passwordEmpty]:this.validity.IsTooShort(e)?[this.feedbacks.passwordRule]:[]},LinkAccountAskPassword.prototype.showLoading=function(){this.linkAccountSubmitButton.addClass("hide-text"),this.linkAccountSubmitButton.addClass("btn-loading")},LinkAccountAskPassword.prototype.hideLoading=function(){this.linkAccountSubmitButton.removeClass("hide-text"),this.linkAccountSubmitButton.removeClass("btn-loading")},LinkAccountAskPassword.prototype.displayFeedbacks=function(e){var t=this;n.each(e,function(e,i){i.show(),i!==t.feedbacks.passwordEmpty&&i!==t.feedbacks.passwordRule||t.password.addClass("warning-input-field")})},LinkAccountAskPassword.prototype.resetErrorMessages=function(){for(var e in this.respondTechnicalIssue.hide(),this.respondPasswordIssue.hide(),this.password.removeClass("warning-input-field"),this.feedbacks)this.feedbacks[e].hide(),this.feedbacks[e].css("display","none")},LinkAccountAskPassword.prototype.submitLinkAccount=function(e){this.resetErrorMessages(),this.showLoading();var t=[],i=this.password.val(),n=this.linkEmail.html();if(0!==(t=t.concat(this.validatePasswordInput(i))).length)this.displayFeedbacks(t);else{var s=function(){this.popup.LinkAccount.RefreshAfterSuccess()}.bind(this),r=function(e){switch(Number(e)){case a.AssociateSuccess:s();break;case a.IncorrectPassword:this.respondTechnicalIssue.hide(),this.respondPasswordIssue.show(),this.password.addClass("warning-input-field"),this.hideLoading();break;case a.NotUniqueEmail:this.respondTechnicalIssue.hide(),this.popup.select(o.CANNOT_LINK),this.hideLoading();break;case a.NeedVerify:this.popup.linkAccountEmailVerificationSentPanel.callbackOnCloseOnce(s),this.popup.LinkAccount.association.Email=n,this.popup.linkAccountEmailVerificationSentPanel.setEmail(n),this.popup.select(o.EMAIL_VERI_SENT),this.hideLoading();break;default:this.hideLoading(),this.respondPasswordIssue.hide(),this.respondTechnicalIssue.show(),this.hideLoading()}}.bind(this),c=function(){this.hideLoading(),this.respondPasswordIssue.hide(),this.respondTechnicalIssue.show()}.bind(this);this.service.associateAccount(n,i,r,c,this.linkAccount.association.FavoritePropertyId)}this.hideLoading()},(e=e||{}).exports=LinkAccountAskPassword},4234:function(e,t,n){var o=n(3),a=(n(436),n(84).Panels),s=(n(84).SocialLoginStatus,n(84).FacebookAssociationStatus),r=n(147);AskSignInPanel=function(e){this.modal=o(AskSignInPanel.options.modal),this.email=o(AskSignInPanel.options.email),this.email.val(""),this.password=o(AskSignInPanel.options.password),this.password.val(""),this.signupAction=o(AskSignInPanel.options.signupAction),this.signInAction=o(AskSignInPanel.options.signInAction),this.AskSignInPanel=o(AskSignInPanel.options.AskSignInPanel),this.signInLoadingIcon=o(AskSignInPanel.options.signInLoadingIcon),this.pageIndication=o(AskSignInPanel.options.pageIndication),this.pageType=o(AskSignInPanel.options.pageType),this.service=e.linkAccountService,this.validity=e.validity,this.LinkAccount=e.LinkAccount,this.technicalDifficulties=o(AskSignInPanel.options.technicalDifficulties),this.feedbacks={emailPasswordIncorrect:o(AskSignInPanel.options.feedbacks.emailPasswordIncorrect),emailEmpty:o(AskSignInPanel.options.feedbacks.emailEmpty),emailWrongFormat:o(AskSignInPanel.options.feedbacks.emailWrongFormat),passwordEmpty:o(AskSignInPanel.options.feedbacks.passwordEmpty)},this.popup=e,this.eventBinding(),this.signInActionValue=this.signInAction.val(),agoda.IsBLTPageFix&&(this.AskSignInPanel.css("pointer-events","all"),this.AskSignInPanel.click(function(e){e.preventDefault(),this.popup.hide()}.bind(this)))},AskSignInPanel.options={buttonCooldown:1e3,modal:"#ask-signin-panel",email:"#ask-signin-email-input",password:"#ask-signin-password-input",signupAction:"#signup-action",signInAction:"#ask-signin-submit-button",AskSignInPanel:"#ask-signin-panel",signInLoadingIcon:"#ask-signin-loading-icon",pageIndication:"#page-identification",pageType:"page",technicalDifficulties:"#ask-signin-respond-technical-difficulties-issue",feedbacks:{emailPasswordIncorrect:"#ask-signin-respond-warning-email-password-incorrect",emailEmpty:"#ask-signin-email-blank",emailWrongFormat:"#ask-signin-email-wrong-format",passwordEmpty:"#ask-signin-password-blank"}},AskSignInPanel.prototype.eventBinding=function(){var e=function(e){r.Cooldown(e,AskSignInPanel.options.buttonCooldown)},t=this;t.signInAction.click(function(i){i.preventDefault(),t.submitSignIn(),e(t.signInAction)}),t.signupAction.click(function(e){e.preventDefault(),t.popup.select("signup")}),t.signInAction.off("keyup").on("keyup",function(i){i.preventDefault(),13==i.which&&(t.popup.select("signup"),e(t.signInAction))}),t.email.keyup(function(i){i.preventDefault(),13==i.which&&(t.submitSignIn(),e(t.signInAction))}),t.password.keyup(function(i){i.preventDefault(),13==i.which&&(t.submitSignIn(),e(t.signInAction))}),o("#ask-signin-forget-password-link").click(function(e){e.preventDefault(),t.hide(),o(".modal-backdrop").hide(),agoda.login.ResetPasswordPopup.show("ResetPassword.GetNew")})},AskSignInPanel.prototype.getCloseIcon=function(){return this.closeIcon},AskSignInPanel.prototype.ShowLoading=function(){this.signInAction.addClass("hide-text"),this.signInAction.addClass("btn-loading")},AskSignInPanel.prototype.HideLoading=function(){this.signInAction.removeClass("hide-text"),this.signInAction.removeClass("btn-loading")},AskSignInPanel.prototype.submitSignIn=function(){this.validity.TrimSpec(this.email),this.ShowLoading(),this.ResetMessages();var e=[];0===(e=(e=e.concat(this.validateEmailInput(this.email.val()))).concat(this.validatePasswordInput(this.password.val()))).length?this.signIn(this.email.val(),this.password.val()):(this.displayFeedbacks(e),this.HideLoading())},AskSignInPanel.prototype.signIn=function(e,t){var i=function(){this.popup.LinkAccount.RefreshAfterSuccess()}.bind(this),n=function(t){switch(Number(t)){case s.AssociateSuccess:i();break;case s.IncorrectPassword:this.feedbacks.emailPasswordIncorrect.show(),this.HideLoading();break;case s.NotUniqueEmail:this.popup.select(SignInPopup.ACTIONS.ALREADY_LINKED),this.HideLoading();break;case s.NeedVerify:this.popup.linkAccountEmailVerificationSentPanel.callbackOnCloseOnce(i),this.popup.LinkAccount.association.Email=e,this.popup.linkAccountEmailVerificationSentPanel.setEmail(e),this.popup.select(a.EMAIL_VERI_SENT),this.HideLoading();break;default:this.technicalDifficulties.show(),this.HideLoading()}}.bind(this),o=function(){this.HideLoading(),this.technicalDifficulties.show()}.bind(this);this.service.associateAccount(e,t,n,o,this.LinkAccount.association.FavoritePropertyId)},AskSignInPanel.prototype.validateEmailInput=function(e){var t=[];return this.validity.isEmpty(e)?t.push(this.feedbacks.emailEmpty):this.validity.isEmailFormat(e)||t.push(this.feedbacks.emailWrongFormat),t},AskSignInPanel.prototype.validatePasswordInput=function(e){var t=[];return this.validity.isEmpty(e)&&t.push(this.feedbacks.passwordEmpty),t},AskSignInPanel.prototype.ResetMessages=function(){for(var e in this.email.removeClass("warning-input-field"),this.password.removeClass("warning-input-field"),this.feedbacks)this.feedbacks[e].hide(),this.feedbacks[e].css("display","none");this.technicalDifficulties.hide()},AskSignInPanel.prototype.displayFeedbacks=function(e){for(i=0;i<e.length;i++)e[i].show(),e[i]!=this.feedbacks.emailEmpty&&e[i]!=this.feedbacks.emailWrongFormat&&e[i]!=this.feedbacks.emailPasswordIncorrect||this.email.addClass("warning-input-field"),e[i]!=this.feedbacks.passwordEmpty&&e[i]!=this.feedbacks.emailPasswordIncorrect||this.password.addClass("warning-input-field")},AskSignInPanel.prototype.displayAlert=function(e){e.preventDefault(),window.location.hash.indexOf("contact_host")>0&&o("#sign-in-alert-info-before-contact-host").show()},AskSignInPanel.prototype.show=function(){this.modal.show()},AskSignInPanel.prototype.hide=function(){this.modal.hide()},(e=e||{}).exports=AskSignInPanel},4235:function(e,t,i){var n=i(3);LinkAccountService=function(){},LinkAccountService.prototype=function(){var e="#page-identification",t="page";return{getPageType:function(){return n(e).data(t)}}}(),LinkAccountService.prototype.facebookGetLoginStatusCallback=function(e){n.ajax({type:"POST",url:window.linkAccountService.loginWithFacebook,dataType:"json",data:JSON.stringify(e),success:success,error:function(e,t,i){}})},LinkAccountService.prototype.buildUrl=function(e){if("favorite"===e){var t=agoda.pageConfig.htmlLanguage;t="en-us"==t?"":"/"+t;var i=window.location;return i.protocol+"//"+i.hostname+t+"/favorite.html"+i.search}return null},LinkAccountService.prototype.getFacebookConnectUrl=function(e){e=e||{};var t=this.buildUrl(e.landingPage)||window.location.toString(),i=window.linkAccountService.facebookConnectUrl+"?refurl="+encodeURIComponent(t)+"&page="+this.getPageType()+"&pageTypeId="+agoda.pageConfig.pageTypeId;return e.hotelId&&(i+="&favpropid="+e.hotelId),i},LinkAccountService.prototype.getWeChatConnectUrl=function(e){e=e||{};var t=this.buildUrl(e.landingPage)||window.location.toString(),i=window.linkAccountService.wechatAuthUrl+"?refurl="+encodeURIComponent(t)+"&page="+this.getPageType();return e.hotelId&&(i+="&favpropid="+e.hotelId),i},LinkAccountService.prototype.associateAccount=function(e,t,i,o,a){n.ajax({type:"POST",url:window.linkAccountService.associateAccountUrl+"?page="+this.getPageType(),data:{email:e,password:t,favPropId:a,pageTypeId:agoda.pageConfig.pageTypeId,languageId:(agoda.pageConfig||{languageId:0}).languageId||0},dataType:"json",xhrFields:{withCredentials:!0},success:function(e){void 0!==i&&i(e)},error:function(e){void 0!==o&&o(e)}})},LinkAccountService.prototype.sendEmailAddress=function(e,t,i){n.ajax({type:"POST",url:window.linkAccountService.sendEmailToSignUp+"?page="+this.getPageType(),data:{email:e},dataType:"json",xhrFields:{withCredentials:!0},success:function(e){void 0!==t&&t(e)},error:function(e){void 0!==i&&i(e)}})},LinkAccountService.prototype.registerAndFacebookAssociate=function(e,t,i,o,a,s,r){var c={email:e,firstname:t,lastname:i,finalurl:o,favPropId:r,pageTypeId:agoda.pageConfig.pageTypeId,languageId:(agoda.pageConfig||{languageId:0}).languageId||0};n.ajax({type:"POST",url:window.linkAccountService.registerAndFacebookAssociate+"?page="+this.getPageType(),data:c,dataType:"json",xhrFields:{withCredentials:!0},success:function(e){void 0!==a&&a(e)},error:function(e){void 0!==s&&s(e)}})},LinkAccountService.prototype.validateEmailToLinkWeChat=function(e,t,i){n.ajax({type:"POST",url:window.linkAccountService.validateEmailToLinkWeChat+"?page="+this.getPageType(),data:{email:e},dataType:"json",xhrFields:{withCredentials:!0},success:function(e){void 0!==t&&t(e)},error:function(e){void 0!==i&&i(e)}})},LinkAccountService.prototype.linkWeChatOnLogin=function(e,t,i,o,a){n.ajax({type:"POST",url:window.linkAccountService.linkWeChatOnLogin+"?page="+this.getPageType(),data:{email:e,password:t,favPropId:a},dataType:"json",xhrFields:{withCredentials:!0},success:function(e){void 0!==i&&i(e)},error:function(e){void 0!==o&&o(e)}})},LinkAccountService.prototype.linkWeChatOnSignUp=function(e,t,i,o,a,s,r){n.ajax({type:"POST",url:window.linkAccountService.linkWeChatOnSignUp+"?page="+this.getPageType(),data:{email:e,firstname:t,lastname:i,finalurl:o,favPropId:r},dataType:"json",xhrFields:{withCredentials:!0},success:function(e){void 0!==a&&a(e)},error:function(e){void 0!==s&&s(e)}})},(e=e||{}).exports=LinkAccountService},4236:function(e,t,i){var n=i(3),o=i(84).SocialLoginStatus;i(147),i(281);LinkAccount=function(e){this.selector=n("div[data-link=linkaccount-facebook]"),this.popup=e,this.association={};var t,i,o,a=(t=400,i=600,o="number"!=typeof window.screenLeft?screenX:screenLeft,{left:n(window).width()/2-t/2+o,top:n(window).height()/2-i/2});this.options={popupOptions:"height=600,width=400,menubar=0,status=0,top="+a.top+",left="+a.left}},LinkAccount.prototype.WeChatConnectOnClick=function(e){return window.name="wwwagodacom",window.opener=window.open(this.popup.linkAccountService.getWeChatConnectUrl(e),"_blank",this.options.popupOptions),window.opener},LinkAccount.prototype.RefreshAfterSuccess=function(){window.location.reload(!0)},LinkAccount.prototype.FacebookCallbackV2=function(e,t,i){"null"!=e&&e?(this.association="object"==typeof e?e:JSON.parse(e),this.popup.LinkAccount.association=this.association,this.association.Status==o.AssociateSuccess?(t(!0),this.RefreshAfterSuccess()):(t(!1),this.association.Status==o.RequirePasswordToLoginOnAgoda?this.popup.show(SignInPopup.ACTIONS.ASK_FOR_PASSWORD):this.association.Status==o.RequireEmailOfAgodaAccount?this.popup.show(SignInPopup.ACTIONS.ASK_FOR_EMAIL):this.association.Status==o.CreateNewAgodaAccount?this.popup.show(SignInPopup.ACTIONS.ASK_FOR_NAME):this.association.Status==o.SentEmailVerification?(this.popup.linkAccountEmailVerificationSentPanel.setEmail(this.association.Email),this.popup.show(SignInPopup.ACTIONS.EMAIL_VERI_SENT)):void 0===i&&this.popup.currentPanel?this.popup.currentPanel.technicalDifficulties.show():"function"==typeof i&&i(this.association.Status))):this.popup.currentPanel.technicalDifficulties.show()},LinkAccount.prototype.FacebookAutoLogin=function(e,t,i){"null"!=e&&e?(this.association="object"==typeof e?e:JSON.parse(e),this.popup.LinkAccount.association=this.association,this.association.Status==o.AssociateSuccess&&(t(!0),this.RefreshAfterSuccess())):this.popup.currentPanel.technicalDifficulties.show()},LinkAccount.prototype.WeChatCallback=function(e){if("null"!=e&&e)switch(this.association=JSON.parse(e),this.popup.LinkAccount.association=this.association,this.association.Status){case o.AssociateSuccess:this.RefreshAfterSuccess();break;case o.RequireEmailOfAgodaAccount:this.popup.show(SignInPopup.ACTIONS.WECHAT_ASK_FOR_EMAIL);break;default:this.popup.currentPanel.technicalDifficulties.show()}else this.popup.toggleTechnicalDifficulties(!0)},(e=e||{}).exports=LinkAccount},4237:function(e,t,i){var n=i(3),o=i(436),a=i(147),s=i(281),r=i(1175),c=i(237);SignUpPanel=function(e,t,i){this.windowObject=void 0!==i?i:window,this.agodaObject=void 0!==t?t:agoda,this.signUpPanel=n(SignUpPanel.options.signUpPanel),this.signInAction=n(SignUpPanel.options.signInAction),this.signUpButton=n(SignUpPanel.options.signUpButton),this.firstNameInput=n(SignUpPanel.options.firstNameInput),this.lastNameInput=n(SignUpPanel.options.lastNameInput),this.emailInput=n(SignUpPanel.options.emailInput),this.passwordInput=n(SignUpPanel.options.passwordInput),this.checkEmailExists=0,this.sendOffer=n(SignUpPanel.options.sendOffer),this.signUpSubmit=n(SignUpPanel.options.signUpSubmit),this.signUpSubmitValue=this.signUpSubmit.val(),this.technicalDifficulties=n(SignUpPanel.options.technicalDifficulties),this.pageIndication=n(SignUpPanel.options.pageIndication),this.pageType=n(SignUpPanel.options.pageType),this.mobileFeatureNotAvailable=n(SignUpPanel.options.mobileFeatureNotAvailable),this.fbButton=n(SignUpPanel.options.fbButton),this.fbLoadingIcon=n(SignUpPanel.options.fbLoadingIcon),this.fbIcon=n(SignUpPanel.options.fbIcon),this.fbText=n(SignUpPanel.options.fbText),this.fbLink=n(SignUpPanel.options.fbLink),this.wechatButton=n(SignUpPanel.options.wechatButton),this.wechatLoadingIcon=n(SignUpPanel.options.wechatLoadingIcon),this.wechatLink=n(SignUpPanel.options.wechatLink),this.emailExists=n(SignUpPanel.options.validations.emailExists),this.captchaError=n(SignUpPanel.options.validations.captchaError),this.InitializeValidations(),this.emailSwitcher=n(SignUpPanel.options.switcher.email),this.mobileSwitcher=n(SignUpPanel.options.switcher.mobile),this.swipeSwitcherContents=n(SignUpPanel.options.swipeSwitcherContents),this.mobileInput=n(SignUpPanel.options.mobileInput),this.popup=e,this.eventBinding(),this.popup.validity=e.validity,this.loginService=new o(this.windowObject.location.host,this.windowObject),this.LinkAccount=e.LinkAccount,this.apsSelectedPropertyId=0;var a=[SignUpPanel.options.emailInput,SignUpPanel.options.passwordInput,SignUpPanel.options.firstNameInput,SignUpPanel.options.lastNameInput,SignUpPanel.options.sendOffer,SignUpPanel.options.signUpSubmit,SignUpPanel.options.signInAction,SignUpPanel.options.fbButton,SignUpPanel.options.wechatButton];this.tabHelper=new r(a,this.agodaObject,this.windowObject);this.agodaObject.IsBLTPageFix&&n(this.signUpPanel).css("pointer-events","all"),this.windowWatcher=void 0,this.facebookWindow=void 0,n("#signup-benefit-img-container").show()},SignUpPanel.options={buttonCooldown:1e3,signUpPanel:"#signup-panel",signInAction:"#signin-action",signUpButton:"#sign-up-btn",firstNameInput:"#signup-firstname-input",lastNameInput:"#signup-lastname-input",emailInput:"#signup-email-input",passwordInput:"#signup-password-input",sendOffer:"#send-me-special-offer-input",technicalDifficulties:"#signup-respond-technical-difficulties-issue",signUpSubmit:"#signup-submit-button",fbButton:"#fb-signup-button",fbLoadingIcon:"#fb-su-loading-icon",fbIcon:"#fb-su-icon",fbText:"#fb-signup-text",fbLink:"#fb-signup-link",wechatButton:"#wechat-signup-button",wechatLoadingIcon:"#wechat-su-loading-icon",wechatLink:"#wechat-signup-link",signUpCaptchaPanel:"#signup-captcha-panel",pageIndication:"#page-identification",pageType:"page",switcher:{email:"#switcher-tab-email",mobile:"#switcher-tab-mobile"},swipeSwitcherContents:".swipe-switcher-contents",mobileFeatureNotAvailable:"#signup-respond-mobile-not-avaliable",mobileInput:"#mobile-input",validations:{firstNameBlank:"#signup-firstname-blank",firstNameEnglish:"#signup-firstname-in-english",lastNameBlank:"#signup-lastname-blank",lastNameEnglish:"#signup-lastname-in-english",emailBlank:"#signup-email-blank",emailExists:"#signup-email-exist",emailFormat:"#signup-email-wrong-format",passwordBlank:"#signup-password-blank",passwordShort:"#signup-password-short",captchaError:"#signup-captcha-validator-error"}},SignUpPanel.prototype.updateApsSelectedHotel=function(e){this.apsSelectedPropertyId=e},SignUpPanel.prototype.InitializeValidations=function(){for(var e in SignUpPanel.options.validations)n(SignUpPanel.options.validations[e]).hide();this.technicalDifficulties.hide(),this.mobileFeatureNotAvailable.hide()},SignUpPanel.prototype.eventBinding=function(){var e=function(e){a.Cooldown(e,SignUpPanel.options.buttonCooldown)},t=function(e){e.preventDefault(),o.popup.logEvent(s.Actions.LOGIN_SWITCH,{action:"signin"}),o.popup.select("signin"),o.popup.switchLoginBenefit(o.popup.loginBenefit.signup,SignInPopup.ACTIONS.SIGN_UP)},i=function(t){t.preventDefault(),o.popup.logEvent(s.Actions.FB_CLICK_SIGNUP),o.fbLinkClicked(),e(o.fbButton)},n=function(t){t.preventDefault(),o.popup.logEvent(s.Actions.WECHAT_CLICK_SIGNUP),o.wechatLinkClicked(),e(o.wechatButton)},o=this;o.signInAction.click(function(e){t(e)}),o.signInAction.keyup(function(e){13==e.which&&t(e)}),o.signUpSubmit.click(function(t){t.preventDefault(),o.popup.logEvent(s.Actions.SIGNUP_SUBMIT),o.submitSignUp(t),e(o.signUpSubmit)}),this.agodaObject.IsDoubleClickCooldown&&o.signUpSubmit.off("keyup").on("keyup",function(t){t.preventDefault(),13==t.which&&e(o.signUpSubmit)}),o.fbButton.click(function(e){i(e)}),o.fbButton.keyup(function(e){13==e.which&&i(e)}),o.wechatButton.click(function(e){n(e)}),o.wechatButton.keyup(function(e){13==e.which&&n(e)}),o.emailInput.keyup(function(t){t.preventDefault(),13==t.which&&(o.popup.logEvent(s.Actions.SIGNUP_PANEL_EMAIL_ENTER),o.submitSignUp(),o.agodaObject.IsDoubleClickCooldown&&e(o.emailInput))}),o.passwordInput.keyup(function(t){t.preventDefault(),13==t.which&&(o.popup.logEvent(s.Actions.SIGNUP_PANEL_PASSWORD_ENTER),o.submitSignUp(),o.agodaObject.IsDoubleClickCooldown&&e(o.passwordInput))}),o.sendOffer.change(function(){o.sendOffer.checked?o.popup.logEvent(s.Actions.SEND_OFFER_UNCHECK):o.popup.logEvent(s.Actions.SEND_OFFER_CHECK)}),o.emailSwitcher.click(function(){o.emailSwitcher.addClass("active"),o.mobileSwitcher.removeClass("active"),o.swipeSwitcherContents.attr("data-tab",0),o.windowObject.messageLog.push("FE.MobileSignup.ClickEmailtab",1)}),o.mobileSwitcher.click(function(){setTimeout(function(){o.mobileInput.focus()},100),o.emailSwitcher.removeClass("active"),o.mobileSwitcher.addClass("active"),o.swipeSwitcherContents.attr("data-tab",1),o.windowObject.messageLog.push("FE.MobileSignup.ClickMobiletab",1)})},SignUpPanel.prototype.ResetMessages=function(){this.InitializeValidations(),this.firstNameInput.removeClass("warning-input-field"),this.lastNameInput.removeClass("warning-input-field"),this.emailInput.removeClass("warning-input-field"),this.passwordInput.removeClass("warning-input-field"),this.popup.validity.Reset()},SignUpPanel.prototype.TrimAll=function(){this.popup.validity.TrimSpec(this.firstNameInput),this.popup.validity.TrimSpec(this.lastNameInput),this.popup.validity.TrimSpec(this.emailInput)},SignUpPanel.prototype.submitSignUp=function(){this.ResetMessages(),this.TrimAll(),this.ShowLoading();var e=this.emailInput.val(),t=this.passwordInput.val(),i=this.firstNameInput.val(),n=this.lastNameInput.val(),o=this.sendOffer.is(":checked");this.validateFirstNameInput(i),this.validateLastNameInput(n),this.validateEmailInput(e),this.validatePasswordInput(t),this.agodaObject.IsCaptcha&&this.validateCaptchaResponse();this.consumeValidationFeedback()?this.HideLoading():this.signUp(i,n,e,t,o)},SignUpPanel.prototype.fbLinkClicked=function(){this.showFBLoading(),this.ResetMessages(),this.facebookWindow&&this.facebookWindow.close(),this.facebookWindow=this.popup.LinkAccount.FacebookConnectOnClick(),clearInterval(this.windowWatcher),this.windowWatcher=this.windowObject.setInterval(function(){this.facebookWindow.closed&&(clearInterval(this.windowWatcher),this.hideFBLoading())}.bind(this),2e3)},SignUpPanel.prototype.wechatLinkClicked=function(){this.showWeChatLoading(),this.ResetMessages(),this.wechatWindow&&this.wechatWindow.close(),this.wechatWindow=this.popup.LinkAccount.WeChatConnectOnClick(),clearInterval(this.windowWatcher),this.windowWatcher=this.windowObject.setInterval(function(){this.wechatWindow.closed&&(clearInterval(this.windowWatcher),this.hideWeChatLoading())}.bind(this),2e3)},SignUpPanel.prototype.ShowLoading=function(){this.signUpSubmit.addClass("hide-text"),this.signUpSubmit.addClass("btn-loading")},SignUpPanel.prototype.HideLoading=function(){this.signUpSubmit.removeClass("hide-text"),this.signUpSubmit.removeClass("btn-loading")},SignUpPanel.prototype.showFBLoading=function(){this.fbLink.hide(),this.fbLoadingIcon.css("display","block")},SignUpPanel.prototype.hideFBLoading=function(){this.fbLink.show(),this.fbLoadingIcon.hide()},SignUpPanel.prototype.showWeChatLoading=function(){this.wechatLink.hide(),this.wechatLoadingIcon.css("display","block")},SignUpPanel.prototype.hideWeChatLoading=function(){this.wechatLink.show(),this.wechatLoadingIcon.hide()},SignUpPanel.prototype.signUp=function(e,t,i,n,o){var a={firstname:e,lastname:t,email:i,password:n,isSubscribed:o,token:this.loginService.token,pagetype:this.pageIndication.data(this.pageType.val())},r=SignUpPanel.options.signUpCaptchaPanel.substr(1);this.agodaObject.IsCaptcha&&(a.captchaResponse=agoda.captcha.getResponse(r));var l=this;this.loginService.signUp(a,function(e){e.Success?(l.popup.logEvent(s.Actions.SIGNUP_CALLBACK),l.agodaObject.UseLocalStorageForMeasurement&&l.popup.metrics.SignUpConversion(),l.apsSelectedPropertyId&&l.apsSelectedPropertyId>0&&(c.updateApsSelectedHotelIntoQueryString(l.apsSelectedPropertyId),c.scrollToApsSelectedHotel()),l.windowObject.location.reload()):(l.popup.logEvent(s.Actions.SIGNUP_CALLBACK_ERR,e),l.agodaObject.IsCaptcha&&l.agodaObject.captcha.reset(r),"emailexists"==e.Info?l.emailExists.show():l.agodaObject.IsCaptcha&&"captcharesponseerror"==e.Info?l.captchaError.show():(l.technicalDifficulties.show(),l.mobileFeatureNotAvailable.hide()),l.HideLoading())},function(e,t){l.HideLoading(),l.technicalDifficulties.show(),l.mobileFeatureNotAvailable.hide()})},SignUpPanel.prototype.validateFirstNameInput=function(e){var t=e||this.firstNameInput.val();this.popup.validity.IsEmpty(t,SignUpPanel.options.validations.firstNameBlank)?this.popup.logEvent(s.Actions.VALIDATE_FIRST_NAME_EMPTY):this.popup.validity.IsEnglishFormat(t,SignUpPanel.options.validations.firstNameEnglish)&&this.popup.logEvent(s.Actions.VALIDATE_FIRST_NAME_ENG)},SignUpPanel.prototype.validateLastNameInput=function(e){var t=e||this.lastNameInput.val();this.popup.validity.IsEmpty(t,SignUpPanel.options.validations.lastNameBlank)?this.popup.logEvent(s.Actions.VALIDATE_LAST_NAME_EMPTY):this.popup.validity.IsEnglishFormat(t,SignUpPanel.options.validations.lastNameEnglish)&&this.popup.logEvent(s.Actions.VALIDATE_LAST_NAME_ENG)},SignUpPanel.prototype.validateEmailInput=function(e){var t=e||this.emailInput.val();this.popup.validity.IsEmpty(t,SignUpPanel.options.validations.emailBlank)?this.popup.logEvent(s.Actions.VALIDATE_EMAIL_ERROR_EMPTY):this.popup.validity.IsEmailFormat(t,SignUpPanel.options.validations.emailFormat)&&this.popup.logEvent(s.Actions.VALIDATE_EMAIL_ERROR_FORMAT)},SignUpPanel.prototype.validateEmailExistance=function(e,t){var i=this;i.checkEmailExists=0,i.emailExists.hide(),i.loginService.isEmailExistence({email:i.emailInput.val(),token:i.loginService.token},function(n){i.checkEmailExists=!0===n.Success?1:2,1==i.checkEmailExists?(i.popup.logEvent(s.Actions.VALIDATE_EMAIL_EXISTS),t()):2==i.checkEmailExists&&e()})},SignUpPanel.prototype.validatePasswordInput=function(e){var t=e||this.passwordInput.val();this.popup.validity.IsEmpty(t,SignUpPanel.options.validations.passwordBlank)?this.popup.logEvent(s.Actions.VALIDATE_PASSWORD_EMPTY):this.popup.validity.IsTooShort(t,SignUpPanel.options.validations.passwordShort)&&this.popup.logEvent(s.Actions.VALIDATE_PASSWORD_SHORT)},SignUpPanel.prototype.validateCaptchaResponse=function(){var e=SignUpPanel.options.signUpCaptchaPanel.substr(1);if(!this.agodaObject.captcha.isShow(e))return!1;this.popup.validity.IsEmpty(this.agodaObject.captcha.getResponse(e),SignUpPanel.options.validations.captchaError)&&this.agodaObject.bVariants.isB("LOGIN-4043")&&"recaptcha"===this.agodaObject.captcha.getCaptchaType()&&this.agodaObject.captcha.reset(e)},SignUpPanel.prototype.consumeValidationFeedback=function(e){var t=this,i=this.popup.validity.basket&&this.popup.validity.basket.length>0;return this.popup.validity.Consume(function(e){switch(n(e).show(),e){case SignUpPanel.options.validations.firstNameBlank:case SignUpPanel.options.validations.firstNameEnglish:t.firstNameInput.addClass("warning-input-field");break;case SignUpPanel.options.validations.lastNameBlank:case SignUpPanel.options.validations.lastNameEnglish:t.lastNameInput.addClass("warning-input-field");break;case SignUpPanel.options.validations.emailBlank:case SignUpPanel.options.validations.emailExists:case SignUpPanel.options.validations.emailFormat:t.emailInput.addClass("warning-input-field");break;case SignUpPanel.options.validations.passwordBlank:t.passwordInput.addClass("warning-input-field")}}),i},SignUpPanel.prototype.show=function(){this.popup.logEvent(s.Actions.SIGNUP_OPENED),this.signUpPanel.show(),agoda.login.isReact&&agoda.react.communication.call("onLoginPopupOpen","signup"),this.signUpButton&&this.signUpButton.addClass("blue-background"),1==this.swipeSwitcherContents.attr("data-tab")?setTimeout(function(){n("#mobile-input").focus()},100):this.emailInput.focus(),!this.agodaObject.login.isReact&&this.agodaObject.IsLoginAkamaiCaptcha&&(this.popup.logEvent(s.Actions.CAPTCHA_START_SHOW),this.agodaObject.captcha.show(SignUpPanel.options.signUpCaptchaPanel.substr(1),this.captchaFinishedCallback())),this.tabHelper.init()},SignUpPanel.prototype.hide=function(){this.hideWeChatLoading(),this.wechatWindow&&this.wechatWindow.close(),this.signUpPanel.hide(),this.signUpButton&&this.signUpButton.removeClass("blue-background"),this.tabHelper.dispose()},SignUpPanel.prototype.captchaFinishedCallback=function(){var e=this;return function(){this.popup.logEvent(s.Actions.CAPTCHA_CALLBACK),e.captchaError.hide()}},(e=e||{}).exports=SignUpPanel},4238:function(e,t){LoadPolyfills=function(){Date.now||(Date.now=function(){return+new Date}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var i;if(null===this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return-1;if(i=+t||0,1/0===Math.abs(i)&&(i=0),i>=o)return-1;for(i=Math.max(0<=i?i:o-Math.abs(i),0);i<o;){if(i in n&&n[i]===e)return i;i++}return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var t,i,n=Object(this),o=n.length>>>0;if(0===o)return-1;for(t=o-1,arguments.length>1&&((t=Number(arguments[1]))!=t?t=0:0!=t&&t!=1/0&&t!=-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t)))),i=t>=0?Math.min(t,o-1):o-Math.abs(t);i>=0;i--)if(i in n&&n[i]===e)return i;return-1}),Array.prototype.map||(Array.prototype.map=function(e){var t,i,n;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),a=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=arguments[1]),i=new Array(a),n=0;n<a;){var s,r;n in o&&(s=o[n],r=e.call(t,s,n,o),i[n]=r),n++}return i}),Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=[],o=arguments.length>=2?arguments[1]:void 0,a=0;a<i;a++)if(a in t){var s=t[a];e.call(o,s,a,t)&&n.push(s)}return n}),Array.prototype.some||(Array.prototype.some=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof e)throw new TypeError;for(var t=Object(this),i=t.length>>>0,n=arguments.length>=2?arguments[1]:void 0,o=0;o<i;o++)if(o in t&&e.call(n,t[o],o,t))return!0;return!1}),Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=i.length;return function(o){if("function"!=typeof o&&("object"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var a,s,r=[];for(a in o)e.call(o,a)&&r.push(a);if(t)for(s=0;s<n;s++)e.call(o,i[s])&&r.push(i[s]);return r}}()),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0===n)return!1;for(var o=0|t,a=Math.max(o>=0?o:n-Math.abs(o),0);a<n;){if(i[a]===e)return!0;a++}return!1}}),Array.prototype.forEach||(Array.prototype.forEach=function(e){var t,i;if(null==this)throw new TypeError("this is null or not defined");var n=Object(this),o=n.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=arguments[1]),i=0;i<o;){var a;i in n&&(a=n[i],e.call(t,a,i,n)),i++}})},(e=e||{}).exports=LoadPolyfills},4239:function(e,t,n){var o=n(3),a=n(436),s=n(147),r=n(281),c=n(1175),l=n(237);SignInPanel=function(e,t,i){this.windowObject=void 0!==i?i:window,this.agodaObject=void 0!==t?t:agoda,this.email=o(SignInPanel.options.email),this.email.val(""),this.password=o(SignInPanel.options.password),this.password.val(""),this.signupAction=o(SignInPanel.options.signupAction),this.signInAction=o(SignInPanel.options.signInAction),this.signInPanel=o(SignInPanel.options.signInPanel),this.signInLoadingIcon=o(SignInPanel.options.signInLoadingIcon),this.pageIndication=o(SignInPanel.options.pageIndication),this.pageType=o(SignInPanel.options.pageType),this.forgotPasswordLink=o(SignInPanel.options.forgotPasswordLink),this.forgotPasswordLink.attr("href",this.windowObject.agoda.ForgotPasswordLink),this.service=new a(this.windowObject.location.host,this.windowObject),this.validity=e.validity,this.fbIcon=o(SignInPanel.options.fbIcon),this.fbLoadingIcon=o(SignInPanel.options.fbLoadingIcon),this.fbLoadingIcon.hide(),this.fbLink=o(SignInPanel.options.fbSignInText),this.fbSignInLink=o(SignInPanel.options.fbSignInLink),this.fbButton=o(SignInPanel.options.fbSignInButton),this.LinkAccount=e.LinkAccount,this.wechatLoadingIcon=o(SignInPanel.options.wechatLoadingIcon),this.wechatLoadingIcon.hide(),this.wechatSignInLink=o(SignInPanel.options.wechatSignInLink),this.wechatButton=o(SignInPanel.options.wechatSignInButton),this.technicalDifficulties=o(SignInPanel.options.technicalDifficulties),this.ocbEmailExists=o(SignInPanel.options.ocbEmailExists),this.feedbacks={emailPasswordIncorrect:o(SignInPanel.options.feedbacks.emailPasswordIncorrect),emailEmpty:o(SignInPanel.options.feedbacks.emailEmpty),emailWrongFormat:o(SignInPanel.options.feedbacks.emailWrongFormat),passwordEmpty:o(SignInPanel.options.feedbacks.passwordEmpty),captchaError:o(SignInPanel.options.feedbacks.captchaError),captchaNeeded:o(SignInPanel.options.feedbacks.captchaNeeded)},this.popup=e,this.eventBinding(),this.signInActionValue=this.signInAction.val(),this.agodaObject.IsBLTPageFix&&o(this.signInPanel).css("pointer-events","all"),this.tabHelper=new c([SignInPanel.options.email,SignInPanel.options.password,SignInPanel.options.forgotPasswordLink,SignInPanel.options.signInAction,SignInPanel.options.signupAction,SignInPanel.options.fbSignInButton,SignInPanel.options.wechatSignInButton],this.agodaObject,this.windowObject),this.windowWatcher=void 0,this.facebookWindow=void 0},SignInPanel.options={buttonCooldown:1e3,email:"#signin-email-input",password:"#signin-password-input",signupAction:"#signup-action",signInAction:"#signin-submit-button",signInPanel:"#signin-panel",signInLoadingIcon:"#signin-loading-icon",pageIndication:"#page-identification",forgotPasswordLink:"#signin-forgot-password-container",pageType:"page",fbLoadingIcon:"#fb-loading-icon",fbIcon:"#fb-icon",fbSignInText:"#fb-signin-text",fbSignInLink:"#fb-signin-link",fbSignInButton:"#fb-signin-button",wechatSignInLink:"#wechat-signin-link",wechatLoadingIcon:"#wechat-loading-icon",wechatSignInButton:"#wechat-signin-button",technicalDifficulties:"#signin-respond-technical-difficulties-issue",signinCaptchaPanel:"#signin-captcha-panel",ocbEmailExists:"#signin-respond-ocb-signin",feedbacks:{emailPasswordIncorrect:"#signin-respond-warning-email-password-incorrect",emailEmpty:"#signin-email-blank",emailWrongFormat:"#signin-email-wrong-format",passwordEmpty:"#signin-password-blank",captchaError:"#signin-captcha-validator-error",captchaNeeded:"#signin-respond-confirm-login"}},SignInPanel.prototype.eventBinding=function(){var e=this,t=function(e){s.Cooldown(e,SignInPanel.options.buttonCooldown)},i=function(t){t.preventDefault(),e.popup.logEvent(r.Actions.LOGIN_SWITCH,{action:"signup"}),e.popup.select("signup"),e.popup.switchLoginBenefit(e.popup.loginBenefit.signup,SignInPopup.ACTIONS.SIGN_UP)},n=function(i){i.preventDefault(),e.popup.logEvent(r.Actions.WECHAT_CLICK),e.wechatLinkClicked(),t(e.wechatButton)};e.signInAction.click(function(t){t.preventDefault(),e.submitSignIn()}),this.agodaObject.IsDoubleClickCooldown&&e.signInAction.off("keyup").on("keyup",function(i){i.preventDefault(),13==i.which&&t(e.signInAction)}),e.signupAction.click(function(e){i(e)}),e.signupAction.keyup(function(e){13==e.which&&i(e)}),e.wechatButton.click(function(e){n(e)}),e.wechatButton.keyup(function(e){13==e.which&&n(e)}),e.email.keyup(function(i){i.preventDefault(),13==i.which&&(e.popup.logEvent(r.Actions.SIGNIN_PANEL_EMAIL_ENTER),e.submitSignIn(),e.agodaObject.IsDoubleClickCooldown&&t(e.email))}),e.password.keyup(function(i){i.preventDefault(),13==i.which&&(e.popup.logEvent(r.Actions.SIGNIN_PANEL_PASSWORD_ENTER),e.submitSignIn(),e.agodaObject.IsDoubleClickCooldown&&t(e.password))})},SignInPanel.prototype.getCloseIcon=function(){return this.closeIcon},SignInPanel.prototype.ShowLoading=function(){this.signInAction.addClass("hide-text"),this.signInAction.addClass("btn-loading")},SignInPanel.prototype.HideLoading=function(){this.signInAction.removeClass("hide-text"),this.signInAction.removeClass("btn-loading")},SignInPanel.prototype.wechatLinkClicked=function(){this.showWeChatLoading(),this.wechatWindow&&this.wechatWindow.close();var e=this.signInPanel.data("extra")||{};this.wechatWindow=this.popup.LinkAccount.WeChatConnectOnClick(e),clearInterval(this.windowWatcher),this.windowWatcher=this.windowObject.setInterval(function(){this.wechatWindow.closed&&(clearInterval(this.windowWatcher),this.hideWeChatLoading())}.bind(this),2e3)},SignInPanel.prototype.showFBLoading=function(){this.fbSignInLink.hide(),this.fbLoadingIcon.css("display","inline-block")},SignInPanel.prototype.hideFBLoading=function(){this.fbSignInLink.show(),this.fbLoadingIcon.hide()},SignInPanel.prototype.showWeChatLoading=function(){this.wechatSignInLink.hide(),this.wechatLoadingIcon.css("display","inline-block")},SignInPanel.prototype.hideWeChatLoading=function(){this.wechatSignInLink.show(),this.wechatLoadingIcon.hide()},SignInPanel.prototype.submitSignIn=function(){this.popup.logEvent(r.Actions.SIGNIN_SUBMIT),this.popup.validity.TrimSpec(this.email),this.ShowLoading(),this.ResetMessages();var e=[];if(e=(e=e.concat(this.validateEmailInput(this.email.val()))).concat(this.validatePasswordInput(this.password.val())),(this.agodaObject.IsCaptcha||this.agodaObject.IsDesktopSignInCaptcha)&&(e=e.concat(this.validateCaptchaResponse())),0==e.length){var t=this.signInPanel.data("extra")||{},i=this.signInPanel.data("propertyId")||0;this.signIn(this.email.val(),this.password.val(),t.hotelId,t.landingPage,i)}else this.popup.logEvent(r.Actions.SIGNIN_SUBMIT_ERROR,{f:""+e.length}),this.displayFeedbacks(e),this.HideLoading()},SignInPanel.prototype.signIn=function(e,t,i,n,a){var s=this,c=SignInPanel.options.signinCaptchaPanel.substr(1);agoda&&this.agodaObject.protocol&&this.agodaObject.protocol.polling&&(void 0!==n?this.agodaObject.protocol.polling.httpsModule.markAsRedirect():this.agodaObject.protocol.polling.httpsModule.markAsReload());var p={email:e,password:t,token:o("input[name='requestVerificationToken']").val(),pagetype:this.pageIndication.data(this.pageType.val()),hotelId:i};(this.agodaObject.IsCaptcha||this.agodaObject.IsDesktopSignInCaptcha)&&(p.captchaResponse=this.agodaObject.captcha.getResponse(c)),a&&a>0&&l.updateApsSelectedHotelIntoQueryString(a),this.service.signIn(p,function(e){if(e.Success)s.popup.logEvent(r.Actions.SIGNIN_CALLBACK),s.agodaObject.UseLocalStorageForMeasurement&&s.popup.metrics.LoginConversion(),"favorite"===n?s.windowObject.location.href="/favorite.html":(i&&(s.windowObject.onunload=function(){s.windowObject.scrollTo(0,0)}),a&&a>0&&l.scrollToApsSelectedHotel(),s.windowObject.location.reload());else{s.popup.logEvent(r.Actions.SIGNIN_CALLBACK_ERR);var t=[s.feedbacks.emailPasswordIncorrect];(s.agodaObject.IsCaptcha||s.agodaObject.IsDesktopSignInCaptcha)&&(s.agodaObject.captcha.reset(c),"captcharesponseerror"==e.Info?(t=[s.feedbacks.captchaError],s.agodaObject.IsDesktopSignInCaptcha=!0,s.agodaObject.captcha.show(SignInPanel.options.signinCaptchaPanel.substr(1),s.captchaFinishedCallback())):"needcaptcha"==e.Info||"confirmLogin"==e.Info?(t=s.agodaObject.captcha.isShow(c)?[s.feedbacks.emailPasswordIncorrect]:[s.feedbacks.captchaNeeded],s.agodaObject.IsDesktopSignInCaptcha=!0,s.agodaObject.captcha.show(SignInPanel.options.signinCaptchaPanel.substr(1),s.captchaFinishedCallback()),"confirmLogin"==e.Info&&s.password.val("")):"technical"==e.Info&&(t=[],s.technicalDifficulties.show())),s.displayFeedbacks(t),s.HideLoading()}},function(e,t,i){var n=s.agodaObject;if(s.HideLoading(),s.technicalDifficulties.show(),n.IsDesktopSignInCaptcha&&n.captcha.reset(c),n.bVariants.isB("LOGIN-4272")){var a=i||"";o.ajax({url:"/api/login/SendLoginFailureMessage",type:"POST",dataType:"json",data:{message:t+", "+a}})}if(n.bVariants.isB("LOGIN-4324")){var r=i?", "+i:"";r="Login failure message: "+t+r+".",n.IsWhiteList&&console.error(r);var l=n.feMessaging.create("log",{level:"warn",message:r,applicationName:"Agoda.2013.Website",sessionId:n.pageConfig?n.pageConfig.sessionId:"unknown",loggerName:"Fe.Messaging.Logger",stringTags:{UserId:n.pageConfig?n.pageConfig.userId:"unknown"}});n.feMessaging.send(l)}})},SignInPanel.prototype.validateEmailInput=function(e){var t=[];return this.popup.validity.isEmpty(e)?(this.popup.logEvent(r.Actions.VALIDATE_EMAIL_ERROR_EMPTY),t.push(this.feedbacks.emailEmpty)):this.popup.validity.isEmailFormat(e)||(this.popup.logEvent(r.Actions.VALIDATE_EMAIL_ERROR_FORMAT),t.push(this.feedbacks.emailWrongFormat)),t},SignInPanel.prototype.validatePasswordInput=function(e){var t=[];return this.popup.validity.isEmpty(e)&&(this.popup.logEvent(r.Actions.VALIDATE_PASSWORD_EMPTY),t.push(this.feedbacks.passwordEmpty)),t},SignInPanel.prototype.validateCaptchaResponse=function(){var e=[],t=SignInPanel.options.signinCaptchaPanel.substr(1);return this.agodaObject.captcha.isShow(t)&&!this.agodaObject.IsWhiteList&&this.validity.isEmpty(this.agodaObject.captcha.getResponse(t))&&(e.push(this.feedbacks.captchaError),agoda.bVariants.isB("LOGIN-4043")&&"recaptcha"===this.agodaObject.captcha.getCaptchaType()&&this.agodaObject.captcha.reset(t)),e},SignInPanel.prototype.ResetMessages=function(){for(var e in this.email.removeClass("warning-input-field"),this.password.removeClass("warning-input-field"),this.feedbacks)this.feedbacks[e].hide(),this.feedbacks[e].css("display","none");this.technicalDifficulties.hide(),this.ocbEmailExists.hide()},SignInPanel.prototype.displayFeedbacks=function(e){for(i=0;i<e.length;i++)e[i].show(),e[i]!=this.feedbacks.emailEmpty&&e[i]!=this.feedbacks.emailWrongFormat&&e[i]!=this.feedbacks.emailPasswordIncorrect||this.email.addClass("warning-input-field"),e[i]!=this.feedbacks.passwordEmpty&&e[i]!=this.feedbacks.emailPasswordIncorrect||this.password.addClass("warning-input-field")},SignInPanel.prototype.displayAlert=function(e){e.preventDefault(),this.windowObject.location.hash.indexOf("contact_host")>0&&o("#sign-in-alert-info-before-contact-host").show()},SignInPanel.prototype.show=function(){this.agodaObject.bVariants.seen("PHONE-82",!1),this.popup.logEvent(r.Actions.SIGNIN_OPENED),this.signInPanel.show(),agoda.login.isReact&&agoda.react.communication.call("onLoginPopupOpen","signin"),this.email.focus(),this.tabHelper.init(),(this.agodaObject.IsLoginAkamaiCaptcha||this.agodaObject.IsDesktopSignInCaptcha)&&this.agodaObject.captcha.show(SignInPanel.options.signinCaptchaPanel.substr(1),this.captchaFinishedCallback())},SignInPanel.prototype.hide=function(){this.hideFBLoading(),this.hideWeChatLoading(),this.wechatWindow&&this.wechatWindow.close(),this.signInPanel.hide(),this.popup.logEvent(r.Actions.SIGNIN_CLOSE),void 0!=this.tabHelper&&this.tabHelper.dispose(),this.windowObject.location.hash.indexOf("contact_host")>=0&&(o("#sign-in-alert-info-before-contact-host").hide(),this.windowObject.location.hash="emptyHash")},SignInPanel.prototype.captchaFinishedCallback=function(){var e=this;return function(){e.feedbacks.captchaError.hide(),e.HideLoading(),agoda.bVariants.seen("WFAPI-1339",!1),agoda.bVariants.isB("WFAPI-1339")&&agoda.login.NewSignInPopup.signInPanel.submitSignIn()}},(e=e||{}).exports=SignInPanel},4309:function(e,t,i){var n;!function(o){function a(e,t,i,n,o){this._listener=t,this._isOnce=i,this.context=n,this._signal=e,this._priority=o||0}function s(e,t){if("function"!=typeof e)throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function r(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){r.prototype.dispatch.apply(e,arguments)}}a.prototype={active:!0,params:null,execute:function(e){var t;return this.active&&this._listener&&(e=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,e),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},r.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,t,i,n){var o=this._indexOfListener(e,i);if(-1!==o){if((e=this._bindings[o]).isOnce()!==t)throw Error("You cannot add"+(t?"":"Once")+"() then add"+(t?"Once":"")+"() the same listener without removing the relationship first.")}else e=new a(this,e,t,i,n),this._addBinding(e);return this.memorize&&this._prevParams&&e.execute(this._prevParams),e},_addBinding:function(e){var t=this._bindings.length;do{--t}while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var i,n=this._bindings.length;n--;)if((i=this._bindings[n])._listener===e&&i.context===t)return n;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,i){return s(e,"add"),this._registerListener(e,!1,t,i)},addOnce:function(e,t,i){return s(e,"addOnce"),this._registerListener(e,!0,t,i)},remove:function(e,t){s(e,"remove");var i=this._indexOfListener(e,t);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(e){if(this.active){var t,i=Array.prototype.slice.call(arguments),n=this._bindings.length;if(this.memorize&&(this._prevParams=i),n){t=this._bindings.slice(),this._shouldPropagate=!0;do{n--}while(t[n]&&this._shouldPropagate&&!1!==t[n].execute(i))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var c=r;c.Signal=r,void 0===(n=function(){return c}.call(t,i,t,e))||(e.exports=n)}()},4310:function(e,t,i){(function(n,o){var a;
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   2.0.0
 */
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   2.0.0
 */
(function(){function s(e,t){A[y]=e,A[y+1]=t,2===(y+=2)&&I()}function r(e){return"function"==typeof e}function c(){for(var e=0;e<y;e+=2)(0,A[e])(A[e+1]),A[e]=void 0,A[e+1]=void 0;y=0}function l(){}function p(e,t){if(e===t)h(e,new TypeError("You cannot resolve a promise with itself"));else if("function"==typeof t||"object"==typeof t&&null!==t)if(t.constructor===e.constructor)!function(e,t){1===t.a?d(e,t.b):2===e.a?h(e,t.b):g(t,void 0,function(t){p(e,t)},function(t){h(e,t)})}(e,t);else{var i;try{i=t.then}catch(e){_.error=e,i=_}i===_?h(e,_.error):void 0===i?d(e,t):r(i)?function(e,t,i){s(function(e){var n=!1,o=function(e,t,i,n){try{e.call(t,i,n)}catch(e){return e}}(i,t,function(i){n||(n=!0,t!==i?p(e,i):d(e,i))},function(t){n||(n=!0,h(e,t))});!n&&o&&(n=!0,h(e,o))},e)}(e,t,i):d(e,t)}else d(e,t)}function u(e){e.d&&e.d(e.b),f(e)}function d(e,t){void 0===e.a&&(e.b=t,e.a=1,0!==e.f.length&&s(f,e))}function h(e,t){void 0===e.a&&(e.a=2,e.b=t,s(u,e))}function g(e,t,i,n){var o=e.f,a=o.length;e.d=null,o[a]=t,o[a+1]=i,o[a+2]=n,0===a&&e.a&&s(f,e)}function f(e){var t=e.f,i=e.a;if(0!==t.length){for(var n,o,a=e.b,s=0;s<t.length;s+=3)n=t[s],o=t[s+i],n?v(i,n,o,a):o(a);e.f.length=0}}function m(){this.error=null}function v(e,t,i,n){var o,a,s,c,l=r(i);if(l){try{o=i(n)}catch(e){O.error=e,o=O}if(o===O?(c=!0,a=o.error,o=null):s=!0,t===o)return void h(t,new TypeError("A promises callback cannot return that same promise."))}else o=n,s=!0;void 0===t.a&&(l&&s?p(t,o):c?h(t,a):1===e?d(t,o):2===e&&h(t,o))}function w(e,t,i,n){this.n=e,this.c=new e(l,n),this.i=i,this.o(t)?(this.m=t,this.e=this.length=t.length,this.l(),0===this.length?d(this.c,this.b):(this.length=this.length||0,this.k(),0===this.e&&d(this.c,this.b))):h(this.c,this.p())}function S(e){if(0,this.b=this.a=void 0,this.f=[],l!==e){if(!r(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof S))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");!function(e,t){try{t(function(t){p(e,t)},function(t){h(e,t)})}catch(t){h(e,t)}}(this,e)}}var I,b,C,P,L=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},y=0,k=(E="undefined"!=typeof window?window:{}).MutationObserver||E.WebKitMutationObserver,E="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,A=Array(1e3);I=void 0!==n&&"[object process]"==={}.toString.call(n)?function(){n.nextTick(c)}:k?(b=0,C=new k(c),P=document.createTextNode(""),C.observe(P,{characterData:!0}),function(){P.data=b=++b%2}):E?function(){var e=new MessageChannel;return e.port1.onmessage=c,function(){e.port2.postMessage(0)}}():function(){setTimeout(c,1)};var _=new m,O=new m;w.prototype.o=function(e){return L(e)},w.prototype.p=function(){return Error("Array Methods must be provided an Array")},w.prototype.l=function(){this.b=Array(this.length)},w.prototype.k=function(){for(var e=this.length,t=this.c,i=this.m,n=0;void 0===t.a&&n<e;n++)this.j(i[n],n)},w.prototype.j=function(e,t){var i=this.n;"object"==typeof e&&null!==e?e.constructor===i&&void 0!==e.a?(e.d=null,this.g(e.a,t,e.b)):this.q(i.resolve(e),t):(this.e--,this.b[t]=this.h(e))},w.prototype.g=function(e,t,i){var n=this.c;void 0===n.a&&(this.e--,this.i&&2===e?h(n,i):this.b[t]=this.h(i)),0===this.e&&d(n,this.b)},w.prototype.h=function(e){return e},w.prototype.q=function(e,t){var i=this;g(e,void 0,function(e){i.g(1,t,e)},function(e){i.g(2,t,e)})};S.all=function(e,t){return new w(this,e,!0,t).c},S.race=function(e,t){function i(e){p(o,e)}function n(e){h(o,e)}var o=new this(l,t);if(!L(e))return h(o,new TypeError("You must pass an array to race.")),o;for(var a=e.length,s=0;void 0===o.a&&s<a;s++)g(this.resolve(e[s]),void 0,i,n);return o},S.resolve=function(e,t){if(e&&"object"==typeof e&&e.constructor===this)return e;var i=new this(l,t);return p(i,e),i},S.reject=function(e,t){var i=new this(l,t);return h(i,e),i},S.prototype={constructor:S,then:function(e,t,i){var n=this.a;if(1===n&&!e||2===n&&!t)return this;this.d=null;var o=new this.constructor(l,i),a=this.b;if(n){var r=arguments[n-1];s(function(){v(n,o,r,a)})}else g(this,o,e,t);return o},catch:function(e,t){return this.then(null,e,t)}};var N={Promise:S,r:function(){var e,t;"Promise"in(e=void 0!==o?o:"undefined"!=typeof window&&window.document?window:self)&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&(new e.Promise(function(e){t=e}),r(t))||(e.Promise=S)}};void 0===(a=function(){return N}.call(t,i,t,e))||(e.exports=a)}).call(this)}).call(this,i(539),i(5))},4311:function(e,t,i){(function(t){e.exports=t.Q=i(4310)}).call(this,i(5))},4312:function(e,t){ShellCommon=(logDiscrepancy=function(e){messageLog.push("PERFORMANCE.DISCREPANCY.CLIENT",e?1:0)},{logDiscrepancy:logDiscrepancy}),e.exports=ShellCommon},4313:function(e,t){e.exports=function(){var e;e=this;var t=function(t){for(var i in t)e[i]=t[i]};return{initTealium:function(e){var i,n,o,a,s=e.attributionViewModel,r=(e.remarketingTests,e.bltId);t({rtag_hotelid:e.hotelId,rtag_allhotelids:[e.allHotelIds],rtag_hotelid1:e.hotelId1,rtag_hotelid2:e.hotelId2,rtag_hotelid3:e.hotelId3,rtag_countryid:e.countryId,rtag_cityid:e.cityId,rtag_cityname:e.cityName,rtag_checkin:e.checkInDateStr,rtag_checkout:e.checkOutDateStr,rtag_cid:e.cid,rtag_sid:e.sid,rtag_pagetypeid:e.pageTypeId,rtag_langid:e.languageId,rtag_adult:e.adult,rtag_child:e.children,rtag_star_rating:e.hotelStar,rtag_is_dev:e.isDev.toString().toLowerCase(),rtag_is_qa:e.isQA.toString().toLowerCase(),rtag_is_live:e.isLive.toString().toLowerCase(),rtag_devicetype:e.deviceType.toLowerCase(),rtag_ue:e.userEmailMD5,rtag_ue_sh:e.userEmailSHA,rtag_country_origin:e.countryOrigin}),s&&t({rtag_attributedv2_last_cid:s.cookieLastClickAttributionCID,rtag_Session_Based_Attribution_CID:s.sessionFirstClickAttributionCID,rtag_Session_Based_Attribution_Tag:s.sessionFirstClickAttributionTag,rtag_Session_Based_Attribution_ClickDate:s.sessionFirstClickAttributionClickDate,rtag_Session_Based_Attribution_AdditionalData:s.sessionFirstClickAttributionAdditionalData,rtag_Session_Based_Attribution_ModelID:s.sessionFirstClickAttributionModelID,rtag_Last_Paid_Click_30_Days_CID:s.cookieLastClickAttributionCID,rtag_Last_Paid_Click_30_Days_Tag:s.cookieLastClickAttributionTag,rtag_Last_Paid_Click_30_Days_ClickDate:s.cookieLastClickAttributionClickDate,rtag_Last_Paid_Click_30_Days_AdditionalData:s.cookieLastClickAttributionAdditionalData,rtag_Last_Paid_Click_30_Days_ModelID:s.cookieLastClickAttributionModelID}),r>0&&t({rtag_bltid:r,rtag_currencycode:e.currencyCode}),e.isDev?window.tealiumServerEnv="dev":e.isQA?window.tealiumServerEnv="qa":e.isLive?window.tealiumServerEnv="prod":window.tealiumServerEnv="",window.utag_data={},i="//tags.tiqcdn.com/utag/agoda/main/"+tealiumServerEnv+"/utag.js",o="script",(a=(n=document).createElement(o)).src=i,a.type="text/java"+o,a.async=!0,(i=n.getElementsByTagName(o)[0]).parentNode.insertBefore(a,i)}}}()},4314:function(e,t,i){i(3);agoda.baidu=agoda.baidu||{},agoda.baidu=function(){"use strict";return{addScripTo:function(e,t){var i='<script id="baidu-script">(function () {  var canonical = \''+t+"';var protocol = 'http';var referrer = '';if (!canonical) {protocol = window.location.protocol.split(':')[0];}else {protocol = canonical.split(':')[0];}!function () { var e = /([http|https]:\\/\\/[a-zA-Z0-9\\_\\.]+\\.baidu\\.com)/gi, r = canonical, t = referrer; if (!e.test(r)) { var n = (String(protocol).toLowerCase() === 'https') ? \"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif\" : \"//api.share.baidu.com/s.gif\"; t ? (n += \"?r=\" + encodeURIComponent(referrer), r && (n += \"&l=\" + r)) : r && (n += \"?l=\" + r); var i = new Image; i.src = n } }(window);})();<\/script >";e.append(i)}}}(),e.exports=agoda.baidu},4315:function(e,t,i){(function(t){var n,o,a,s,r=i(4314),c=i(283),l=i(4313),p=i(1323),u=i(4312);Shell=(n=t.jQuery,a=function(e){var t=null!=e.suggestedLanguageCallout&&e.suggestedLanguageCallout.languageId>0;e.showLanguageCallout=t,t&&(n("body").addClass("lang-callout-exp"),n('li[shell="language"]').addClass("lang-callout-option"))},s=function(e){return!e||void 0===e||""===e||0===e.length},{initHome:function(e){var t=e.homeViewModel,i=e.rewardsMember,u=e.userData,d=e.linksViewModel,h=e.hostMenuViewModel;t.rewardsMember=i,t.userData=u,t.linkVm=d,t.searchViewModel.userData=u,t.antiFogeryToken=e.antiFogeryToken,t.isShowingSmartCombo=(1===t.pageType||641===t.pageType)&&"zh-cn"===u.culture,t.hostMenuViewModel=h;var g=n("#page-identification").attr("data-device");o(g,e.userData.userAgentInfo.isMobile),function(e){var t=null!=e.experiments.unseenExperiments&&e.experiments.unseenExperiments.length>0?e.experiments.unseenExperiments:[],i={};for(var o in t)void 0===i[t[o].key.toLowerCase()]&&(i[t[o].key.toLowerCase()]=t[o].value);window.agoda.bVariantsConfig={unseenExpids:i,endpoint:"/api/en-us/UnseenExperiments/Send",expiry:0,storage:Storage,localStorage:localStorage,expids:e.experiments.bVariants},agoda.bVariants=new c(window.agoda.bVariantsConfig),delete window.agoda.bVariantsConfig,e.bVariants=e.experiments.bVariants.map(function(e){return e.toUpperCase()}),n("body").addClass(e.bVariants.join(" "))}(t),agoda.cmsDictionary=agoda.cmsDictionary||{},agoda.cmsDictionary.childAgeCms=agoda.childAgeCms,function(e,t,i){n.extend(!0,window,{currencyUrl:{get:i.getCurrencyList,set:i.setSelectedCurency},languageUrl:{get:i.getLanguages,set:i.setSelectedLanguage},eventLogURL:i.logEventMessage}),window.currencyUrl.get.indexOf("&amp;")>-1&&(window.currencyUrl.get=window.currencyUrl.get.replace("&amp;","&")),window.currencyUrl.get=window.currencyUrl.get.replace("countryId=0","countryId="+(window.countryId||null)),t.isLogin&&(agoda.customerReviewsService={getPendingReviewsUrl:i.getPendingReviewsCount,measurementUrl:i.reviewsTracking,getMemberReviewContentUrl:i.getMemberReviewContentUrl}),window.loginParams=e.loginPropertiesViewModel.loginParams,n.extend(!0,agoda,{RewardsMember:{IsLogin:t.isLogin,IsProfilePicture:!!t.profilePicture},LoginTimeout:e.loginTimeout,IsHiddenCloseIconFix:e.loginPropertiesViewModel.isHiddenCloseIconFix,IsCaptcha:e.loginPropertiesViewModel.isCaptcha,CaptchaMobile:e.captchaMobile,IsLoginAkamaiCaptcha:e.loginPropertiesViewModel.isLoginAkamaiCaptcha,IsDesktopSignInCaptcha:e.loginPropertiesViewModel.isDesktopSignInCaptcha,IsWhiteList:e.loginPropertiesViewModel.IsWhiteList,IsDoubleClickCooldown:e.loginPropertiesViewModel.isDoubleClickCooldown,IsBLTPageFix:"BLT"===e.pageType,PageType:e.pageType,ForgotPasswordLink:e.linkVm.forgetPasswordUrl,PhishingCheck:e.phishingCheck,UseLocalStorageForMeasurement:e.useLocalStorageForMeasurement,IsMobileSignInCaptcha:e.loginPropertiesViewModel.isMobileSignInCaptcha,IsDisplayMobileSignInCaptcha:e.loginPropertiesViewModel.isDisplayMobileSignInCaptcha,IsFailedLoginCaptcha:e.isFailedLoginCaptcha,ExpSwat:e.isShowWysiwypMenu,Rumpagetype:e.pageName.toLowerCase(),OneClickBanner:e.loginPropertiesViewModel.isOneClickBanner,OneClickBannerCongrats:e.loginPropertiesViewModel.isOneClickBannerCongrats,UseFacebookSDKGlobal:e.useFacebookSDKGlobally,UseFacebookSDKGlobalMob:e.useFacebookSDKGloballyMobile,OfferAutoLogin:e.offerAutoLogin,ShowRefferalLandingPopup:e.loginPropertiesViewModel.showRefferalLandingPopup,ShowRefferalNotificationBar:e.loginPropertiesViewModel.showRefferalNotificationBar,IsMigrateNotificationBadge:e.loginPropertiesViewModel.isMigrateNotificationBadge,isReferralSignup:e.loginPropertiesViewModel.isReferralSignup,referralLandingPopup:{promoCode:e.loginPropertiesViewModel.referralPromoCode,invitationId:e.loginPropertiesViewModel.referralId,sentBy:e.loginPropertiesViewModel.referrerName,isOpen:e.loginPropertiesViewModel.showRefferalLandingPopup,cms:{xHasSentYou:e.loginPropertiesViewModel.commonCMS[75101],termsAndConditions:e.loginPropertiesViewModel.commonCMS[75112],upToXOff:e.loginPropertiesViewModel.commonCMS[75110],landingDescountAmount:e.loginPropertiesViewModel.commonCMS[75105],seeXHere:e.loginPropertiesViewModel.commonCMS[75103],useMyCouponNow:e.loginPropertiesViewModel.commonCMS[75102],codeCopied:e.loginPropertiesViewModel.commonCMS[76331]}},referralNotificationBar:{isOpen:e.loginPropertiesViewModel.showRefferalNotificationBar,invitationId:e.loginPropertiesViewModel.referralId,promoCode:e.loginPropertiesViewModel.referralPromoCode,cms:{landingDiscountAmount:e.loginPropertiesViewModel.commonCMS[75105],youHaveUpToXOfft:e.loginPropertiesViewModel.commonCMS[75104],termsApply:e.loginPropertiesViewModel.commonCMS[75113]}},internationalization:{thousandsSeparator:e.internationalizationViewModel.thousandsSeparator},termOfUserLink:e.linkVm.aboutusAgodaTermOfUseLink,privacyLink:e.linkVm.aboutusAgodaPrivacyLink}),agoda.showRefferalNotificationBar&&n("body").addClass("Referral"),window.fbAppId=e.facebookAppId,agoda.login=agoda.login||{},agoda.login.fBSignInCallbacks=[],agoda.login.loginResponseCallback=void 0,agoda.login.resetPasswordAutoLogin=e.isNewResetPasswordAutoLogin,agoda.login.commoncms=e.loginPropertiesViewModel.CommonCMS,agoda.login.isReact=e.loginPropertiesViewModel.isReact,e.isRTL&&(n("html").attr("dir","rtl"),n("body").addClass("rtl")),agoda.doShowEmailVerificationAlert=!!e.doShowEmailVerification,agoda.verifyEmailStatus=+e.verifyEmailStatus}(t,i,d),function(e){var t=e.seoModel,i=n("head");if(document.title=t?t.metaText.title:e.pageTitle,n("meta[name=description]").attr("content",t?t.metaText.description:e.pageDescription),n("meta[name=robots]").attr("content",t?t.robots:e.robots),n("meta[name=keywords]").attr("content",t?t.metaText.keywords:e.pageKeywords),t){if(n("<link/>",{rel:"canonical",href:t.canonicalLink}).appendTo(i),n("<link/>",{rel:"home",href:t.secureEnglishHomeUrl}).appendTo(i),t.openGraphs){var o={siteName:"og:site_name",appId:"fb:app_id",country:"og:country-name"};n.each(t.openGraphs,function(e,t){t&&n("<meta/>",{property:o[e]||"og:"+e.toLowerCase(),content:t}).appendTo(i)})}t.twitterCards&&n.each(t.twitterCards,function(e,t){t&&n("<meta/>",{name:"twitter:"+e.toLowerCase(),content:t}).appendTo(i)})}r.addScripTo(n("body"),t.canonicalLink)}(t),function(e){agoda=agoda||{},agoda.initPage=function(){var t={experimentList:e.experimentList||[]};agoda.experiment.init(t);var i={page:"home-desktop",cms:{}};i.currentPriceView=e.priceViewSetting.finalPriceView,i.applyGiftcard={isApplyGiftcard:e.pageHeaderViewModel.menuViewModel.isApplyGiftcard,applyGiftcardMenuText:e.pageHeaderViewModel.menuViewModel.applyGiftcardMenuText},agoda.wysiwyp.init(i),n(function(){e.isShowWysiwypMenu&&"function"==typeof agoda.page.initPriceViewHeader&&(i.getCurrentPriceView=agoda.wysiwyp.getCurrentPriceView,i.getPriceViewEnums=agoda.wysiwyp.getPriceViewEnums,i.getIsEnabled=agoda.wysiwyp.getIsEnabled,i.getSignal=agoda.wysiwyp.getSignal,i.getApplyGiftcard=agoda.wysiwyp.getApplyGiftcard,agoda.page.initPriceViewHeader(i))})},agoda.isRedirectedFromMyAgoda=e.isRedirectedFromMyAgoda}(t),function(e,t){var i=e.heroBannerViewModel;agoda.heroBanner=agoda.heroBanner||{},agoda.heroBanner.hotelTabViewModel.header2=agoda.heroBanner.hotelTabViewModel.header2.replace("{0}",e.heroBannerViewModel.hotelTabViewModel.numberOfProperties),null!=i.serializedHeroBanner?agoda.heroBanner=JSON.parse(i.serializedHeroBanner):agoda.heroBanner.hotelTabViewModel.listOfTerms=i.hotelTabViewModel.listOfTerms;var o=agoda.critical.heroBanner.getImage();agoda.heroBanner.hotelTabViewModel.imgUrl=o.lowRes,agoda.heroBanner.hotelTabViewModel.imgUrlHighRes=o.highRes;var a='-website-image-set(url("'+i.hotelTabViewModel.imgUrl+'") 1x, url("'+i.hotelTabViewModel.imgUrlHighRes+'") 2x;';n("#hero-banner").css({"background-image":i.hotelTabViewModel.imgUrl,"backgroud-image":a})}(t),function(e){var t=null!=e.userData&&null!=e.userData.landingParameters?e.userData.landingParameters.headerBannerUrl:"",i=e.fBFHeaderLayoutFile,o=!s(t),r=!1;e.isAffiliateLogoActive?(o=!1,r=!0):e.isForcedToAgodaHeader&&(o=!1,r=!1),n(".dg-NavbarHeader-logoLink").attr("href",e.logoLinkUrl),o&&(n('script[shell="languages-template"]').remove(),n('script[shell="language-item-template"]').remove()),e.hideNavbar=o,e.hasPromotionBannerURL=!s(t),e.promotionBannerURL=t,e.hasFBFHeaderLayoutFile=!s(i),e.fBFHeaderLayoutFile=i,e.hasContactView=!r||!e.isPointsMaxEnable,e.showMoreLinkOnHeader&&n(".dg-NavbarHeader-logo").addClass("logo-with-header-links menu-saparator-right"),a(e)}(t),function(e){var t="",i="false",n=!1,o={};if(null!=e.redirectContainerViewModel){var a=e.redirectContainerViewModel.redirectMessageViewModelList;for(var r in a){var c=a[r].messageViewName;"PromoInboxPopup"!==c&&"PromoInboxIcon"!==c||(t=a[r].attributes.promoInboxIconUrl,i=a[r].attributes.promoInboxIconNewInd,n="PromoInboxPopup"===c,o=a[r].attributes)}e.promoInbox={hasPromoInboxPopupModel:n,hasPromoInboxUrl:!s(t),promoInboxUrl:t,showNewInd:i,attributes:o}}}(t),function(e,t,i){var o=e.searchViewModel,a=new Date(o.defaultCheckin),s=new Date(o.criteria.checkIn),r=o.criteria.text;if(agoda.critical&&agoda.critical.searchbox&&agoda.critical.searchbox.text&&(r=agoda.critical.searchbox.text()),agoda.searchBoxConfig=n.extend(!0,agoda.searchBoxConfig||{},{autocompleteUrl:o.searchUrl,userID:o.userId,defaultText:r,defaultOccupancy:{adults:o.criteria.adults,children:o.criteria.children,rooms:o.criteria.rooms,childAges:JSON.parse("["+(null!=o.criteria.childAges?o.criteria.childAges.join(","):"")+"]")},calendar:{startDate:new Date(s.getYear()+1900,s.getMonth(),s.getDate()),defaultCheckInDate:new Date(a.getYear()+1900,a.getMonth(),a.getDate()),los:o.criteria.lengthOfStay,defaultLos:o.defaultLengthOfStay,autoPopupCheckIn:o.calendarPopup.autoPopupCheckIn,autoPopupShowBackground:o.calendarPopup.showBackground,universalInfoUrl:o.universalInfoUrl},googleSearchUrl:o.googleSearchUrl,holidaySearchUrl:o.holidaySearchUrl,failsafeUrl:o.failsafeUrl,targetSearchUrl:o.defaultUrl,languageId:o.languageId,autoSuggestRequest:{all:o.allRequest,city:o.cityRequest,area:o.areaRequest,airport:o.airportRequest,landmark:o.landmarkRequest,hotel:o.hotelRequest},reviewFilter:{min:5,max:9.5,step:.5,value:5,sliderElement:"#review-slider-bar",txtSliderMinElement:".review-slider-min"},starRatingFilter:{ratingElement:"#star-rating",max:5,value:0},accommodationType:{hotel:o.hotelAccommodationTypeIds,nha:o.nonHotelAccommodationTypeIds}}),o.filters&&o.filters.price&&(agoda.searchBoxConfig.slider=n.extend(!0,agoda.searchBoxConfig.slider||{},{currencyFormat:o.filters.price.format,currencyCode:o.filters.price.currencyCode,priceSeparator:o.filters.price.separator,max:o.filters.price.max,step:o.filters.price.increment,values:[0,o.filters.price.max],range:!0,isDoubleKnob:!0})),agoda.pageConfig={pageTypeId:1,origin:i.origin,cid:i.cid,tag:i.tag,gclid:i.gclid,aid:i.aid,userId:i.userId,languageId:i.languageId,sessionId:i.sessionId,storefrontId:"3",currencyCode:i.currency.code,htmlLanguage:i.languageUiCulture,trafficType:"",cultureInfoName:i.cultureInfo?i.cultureInfo.name:""},agoda.userDevice={mobileDeviceType:i.userAgentInfo?i.userAgentInfo.mobileDeviceType:""},agoda.topDestinations=n.extend(!0,agoda.topDestinations||{},{endPoint:t.getTopDestiantions,numberOfItems:8,suggestionMaxItemNumber:6,isShowingRecommendedDomesticCities:"zh-cn"===i.culture,isShowingSmartCombo:(1===e.pageType||641===e.pageType)&&"zh-cn"===i.culture&&i.isChineseOrigin}),n.extend(!0,agoda.zenithClientConfig||{},{endpoint:t.zenithClientConfig,requestData:{searchObjectId:null!=e.latestSearch?e.latestSearch.objectID:0,searchType:null!=e.latestSearch?e.latestSearch.searchType:0,searchObjectIds:[null!=e.latestSearch?e.latestSearch.objectID:0]}}),i.isChineseOrigin){var c=document.getElementById("home-react-root");c&&(c.classList?c.classList.remove("marketing-video"):c.className=c.className.replace(" marketing-video",""))}try{agoda.critical.searchbox.terminate()}catch(e){}}(t,d,u),l.initTealium(t.tealiumModel),function(e){var t=e.searchHistory,i=e.translations;e.recommends=null!=t&&t.totalItem>0,agoda.recommendedCities={title:null!=i?i.recommendedCitiesPanelTitleWithIcon:""},agoda.recommendedCities.searchObjectIds=[null!=e.latestSearch?e.latestSearch.objectID:0],agoda.recentSearchCount=e.searchHistory.totalItem,n.extend(!0,agoda.hotcitiesConfig||{},{hotels:t.recentSearchList_CityAndHotel.filter(function(e){return 4===e.searchType}),cities:t.recentSearchList_CityAndHotel.filter(function(e){return 1===e.searchType}),cms:{citiesHeader:"",hotelsHeader:"",zenithHeader:"",abandonedCartHeader:"",placeholder:""}}),i&&(agoda.hotcitiesConfig.cms={citiesHeader:i.recentCitySearchTitle,hotelsHeader:i.recentPropertySearchTitle,zenithHeader:i.recommendedCitiesPanelTitleWithIcon,abandonedCartHeader:i.abandonedcartMessage,placeholder:i.emptySearchPlaceholderMessage})}(t),function(e){var t=e.heroBannerViewModel.flightViewModel,i=e.translations;null!=t&&(t.isDebugMessage&&n("#hero-banner > .overlay").append('<input type="hidden" id="debugmessage" />'),agoda.flightBanner={widgetId:"flight-widget2",languageCode:t.languageCode,currencyCode:t.currencyCode,placement:t.placement,cms:{pleaseEnterFromAirport:"",pleaseEnterToAirport:"",pleaseEnterDepartDate:"",pleaseEnterReturnDate:""},skipGetScript:!1,isFlightTab:t.displayFlightTabFirst,isSendMeasurement:t.isSendMeasurement,isDebugMessage:t.isDebugMessage},i&&(agoda.flightBanner.cms={pleaseEnterFromAirport:i.wysiwypPleaseEnterFromAirport,pleaseEnterToAirport:i.wysiwypPleaseEnterToAirport,pleaseEnterDepartDate:i.wysiwypPleaseEnterDepartDate,pleaseEnterReturnDate:i.wysiwypPleaseEnterReturnDate}))}(t),function(e){agoda.justBookedProperties=agoda.justBookedProperties||{},agoda.justBookedProperties.endpoint=e.linkVm.getRecentlyBookedProperties,window.homePageParams={},window.homePageParams.homeComponent=e.homeReactComponentViewModel,window.homePageParams.homeComponent.valuePropositionsContainer.testimonialsContent=window.homePageParams.homeComponent.valuePropositionsContainer.testimonialProps,window.homePageParams.InstallmentContainer=e.installmentContainer}(t),function(e){var t=!1;null==e.redirectContainerViewModel||e.userData.userAgentInfo.deviceInfo.isMobile||(t=e.redirectContainerViewModel.hasPromoInboxProp),agoda.couponslider.config=n.extend(agoda.couponslider.config,{isPreSearch:!0,isDisplayed:""+e.isCouponSliderDisplayed,deviceType:e.userData.deviceType,preSearch:{searchType:0,hasPromotion:""+t}})}(t),function(e){e.imagesToPreload&&(new p).initImages(e.imagesToPreload)}(t),t.fixSignUpROC=!0,function(e){n("script.shell").each(function(){var t=n(this),i=Handlebars.compile(t.html());t.replaceWith(n(i(e)))})}(t)},avoidDeviceDiscrepancy:o=function(e,t){window.location.hash.indexOf("D00")>=0?window.location.hash="D01":e&&t!==("mobile"===e.toLowerCase())&&(u.logDiscrepancy(t),window.location.hash="D00",location.reload())}}),e.exports=Shell}).call(this,i(5))},436:function(e,t,i){var n=i(3);LoginService=function(e,t){this.windowObj=void 0===t?window:t,void 0===e&&(e=window.location.host),this.location="https://"+e,this.token=n("input[name='requestVerificationToken']").val(),this.urls=LoginService.Urls(e),this.pagetype=(n("#page-identification").data(n("page").val())||{page:""}).page,this.reload=function(){this.windowObj.location.reload()}},LoginService.Urls=function(e){return void 0===e&&(e=window.location.host),{signInUrl:"https://"+e+"/api/main/login",signUpUrl:"https://"+e+"/api/main/signup",signUpOneClickUrl:"https://"+e+"/api/login/OneClickSignUp",emailExistenceUrl:"https://"+e+"/api/main/ValidateEmailExistence",sendEventMeasurement:"https://"+e+"/api/login/SendEventMeasurement",decryptUrl:"https://"+e+"/api/login/decrypturl",oneClickCongratsSeen:"https://"+e+"/api/login/CongratulationsOnOneClickBannerSeen",loginWithFacebook:"https://"+e+"/api/login/LoginWithFacebook",facebookAutoLogin:"https://"+e+"/api/login/FacebookAutoLogin",refreshFacebookInfo:"https://"+e+"/api/login/RefreshFacebookInfo",sendFBPermissionMeasurement:"https://"+e+"/api/login/SendFBPermissionMeasurement",signUpNewUrl:"https://"+e+"/api/login/signup"}},LoginService.GetQueryParam=function(e){for(var t,i=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),o=0;o<n.length;o++)t=n[o].split("="),i.push(t[0]),i[t[0]]=t[1];return i?i[e]:""},LoginService.getCurrentLang=function(){var e=1;if(0!==n("#hidden-routeinfo").length){var t=n("#hidden-routeinfo").data();t&&void 0!==t.realLanguageId&&(e=t.realLanguageId)}return e},LoginService.prototype.signIn=function(e,t,i){var o={email:e.email,password:e.password,token:e.token,pagetype:void 0!==e.pagetype?e.pagetype:0,captcha:agoda.IsCaptcha,captchaResponse:void 0!==e.captchaResponse?e.captchaResponse:"",hotelId:void 0!==e.hotelId?e.hotelId:0,pageTypeId:agoda.pageConfig.pageTypeId};this.windowObj.agoda.UseLocalStorageForMeasurement&&(o.loginAction=""+this.windowObj.localStorage.getItem("login.latestAction")),n.ajax({type:"POST",url:this.urls.signInUrl,data:{"":JSON.stringify(o)},xhrFields:{withCredentials:!0},dataType:"json",success:function(e){void 0!==t&&t(e)},error:function(e,t){void 0!==i&&i(e,t)},timeout:agoda.LoginTimeout})},LoginService.prototype.signUp=function(e,t,i){this.windowObj.messageLog.push("FE.SignUpCheck.Service",1);var o={firstname:e.firstname,lastname:e.lastname,email:e.email,password:e.password,token:e.token,isSubscribed:e.isSubscribed,pagetype:void 0!==e.pagetype?e.pagetype:0,captcha:agoda.IsCaptcha,captchaResponse:void 0!==e.captchaResponse?e.captchaResponse:"",hotelId:void 0!==e.hotelId?e.hotelId:0,pagetypeId:agoda.pageConfig.pageTypeId,languageId:LoginService.getCurrentLang()};this.windowObj.agoda.UseLocalStorageForMeasurement&&(o.loginAction=""+this.windowObj.localStorage.getItem("login.latestAction")),this.windowObj.agoda.bVariants.isB("LOGIN-4338")?n.ajax({type:"POST",url:this.urls.signUpNewUrl,data:o,dataType:"json",success:function(e){void 0!==t&&t(e)},error:function(e,t){void 0!==i&&i(e,t)}}):n.ajax({type:"POST",url:this.urls.signUpUrl,data:{"":JSON.stringify(o)},xhrFields:{withCredentials:!0},dataType:"json",success:function(e){void 0!==t&&t(e)},error:function(e,t){void 0!==i&&i(e,t)},timeout:agoda.LoginTimeout})},LoginService.prototype.isEmailExistence=function(e,t){var i={"":e.email+":"+e.token};n.ajax({type:"POST",url:this.urls.emailExistenceUrl,data:{"":i},xhrFields:{withCredentials:!0},dataType:"json",success:function(e){void 0!==t&&t(e)},error:function(e,t){void 0!==failure&&failure(e,t)},timeout:agoda.LoginTimeout})},LoginService.prototype.signUpOneClick=function(e,t,i){var o={email:e.email,password:e.password,token:e.token,isSubscribed:e.isSubscribed,pagetype:void 0!==e.pagetype?e.pagetype:0,captcha:!1,captchaResponse:"",hotelId:void 0!==e.hotelId?e.hotelId:0,pagetypeId:this.windowObj.agoda.bVariants.isB("SWAT-1146")?agoda.pageConfig.pageTypeId:void 0,languageId:LoginService.getCurrentLang()};this.windowObj.agoda.UseLocalStorageForMeasurement&&(o.loginAction=""+this.windowObj.localStorage.getItem("login.latestAction")),n.ajax({type:"POST",url:this.urls.signUpOneClickUrl,data:{"":JSON.stringify(o)},xhrFields:{withCredentials:!0},dataType:"json",success:function(e){void 0!==t&&t(e)},error:function(e,t){void 0!==i&&i(e,t)},timeout:agoda.LoginTimeout})},LoginService.prototype.sendEventMeasurement=function(e){this.windowObj.agoda.UseLocalStorageForMeasurement?this.windowObj.localStorage.setItem("login.latestAction",e):n.ajax({type:"POST",url:this.urls.sendEventMeasurement,data:{"":e}})},LoginService.prototype.oneClickCongratsSeen=function(){n.ajax({type:"POST",url:this.urls.oneClickCongratsSeen})},LoginService.prototype.facebookGetLoginStatusCallback=function(e,t,i,o){var a={payload:e,favPropId:typeof n("#signin-panel").length>0&&n("#signin-panel").data("hotelId")||"0",page:n("#page-identification").data("page")||"0",pagetypeId:agoda.pageConfig.pageTypeId||"0"};void 0!==o&&n.extend(a,{linkAccount:o}),n.ajax({type:"POST",url:this.urls.loginWithFacebook,dataType:"json",data:{"":JSON.stringify(a)},success:t,error:i})},LoginService.prototype.facebookAutoLogin=function(e,t,i){var o={payload:e,favPropId:typeof n("#signin-panel").length>0&&n("#signin-panel").data("hotelId")||"0",page:n("#page-identification").data("page")||"0",pagetypeId:agoda.pageConfig.pageTypeId||"0"};n.ajax({type:"POST",url:this.urls.facebookAutoLogin,dataType:"json",data:{"":JSON.stringify(o)},success:t,error:i})},LoginService.prototype.RefreshFacebookInfo=function(e,t,i){n.ajax({type:"POST",url:this.urls.refreshFacebookInfo,dataType:"json",data:{"":JSON.stringify(e)},success:t,error:i})},LoginService.prototype.sendFBPermissionMeasurement=function(e,t,i){n.ajax({type:"POST",url:this.urls.sendFBPermissionMeasurement,dataType:"json",data:{"":JSON.stringify(e)},success:t,error:i})},(e=e||{}).exports=LoginService},440:function(e,t,i){(function(t){t.namespace("agoda.wysiwyp"),agoda.wysiwyp=function(e){"use strict";var t,i,n,o,a,s,r,c,l,p,u,d=agoda.wysiwypservice.PriceDetail,h={priceViewChanged:new signals.Signal,currencyChanged:new signals.Signal,uiNeedUpdate:new signals.Signal},g=new agoda.cookie.service(new agoda.cookie.object,!0),f={},m={exclusive:1,inclusiveWithSurchargePerRoomPerNight:2,inclusiveWithSurchargePerBooking:3},v=!1,w={isApplyGiftcard:!1,applyGiftcardMenuText:""},S={};function I(e){s!==e&&(!function(e,t,i){o.changePriceView(e,t,i)}(e,p.page,function(){!function(e,t){void 0!==a&&a.delayedRefresh&&a.delayedRefresh(t,S,e)}(!0,e)}),"newssr"==agoda.rumpagetype&&agoda.bVariants.isB("SEARCH-8313")?agoda.react.communication.call("searchInReact",{type:"SEARCH_TOGGLE_WYSIWYP",priceView:e}):(void 0!==agoda.searchcriteria&&void 0!==agoda.searchcriteria.getObj()&&agoda.searchcriteria.setPriceView(e),L(!0,e),"newssr"!=agoda.rumpagetype&&agoda.toast&&window.setTimeout(function(){agoda.toast.show(function(e){switch(e){case m.exclusive:return l.toastExclusive;case m.inclusiveWithSurchargePerRoomPerNight:return l.toastInclusiveWithSurchargePerRoomPerNight;case m.inclusiveWithSurchargePerBooking:return l.toastInclusiveWithSurchargePerBooking;default:return"Price view has been changed"}}(e))},200),s=e))}function b(e){_.each(e,function(e){C(e.Id.toString(),e)})}function C(e,t,i,n){_.isUndefined(n)&&(n=!0);var o=!0;S[e]||(S[e]=new d({priceViewEnums:m,cmsPrefixTaxExclusive:l.prefixTaxExclusive,cmsPrefixTaxInclusive:l.prefixTaxInclusive,numberOfDecimalPoints:r,userCulture:c,hasGreyBar:p.hasGreyBar}),o=!1),o&&!n||S[e].setPriceInfo(t,i)}function P(){return s}function L(e,t){e=e||!1,t=t||s,h.uiNeedUpdate.dispatch(t),void 0!==a&&a.refresh&&a.refresh(t,S,e)}function y(e,t){I(t)}function k(){S={}}return{init:function(d){var S,C,L;t="agoda.price.01=PriceView",i="agoda.price.01",n="PriceView",p=e.extend({},f,d),S=agoda.bVariants.isB("LOY-1787-KILLSWITCH")?g.getElement(i,n):(C=t,(L=document.cookie.match("(^|;)\\s*"+C+"\\s*=\\s*([^;]+)"))?L.pop():""),s=parseInt(S)||d.currentPriceView,o=p.priceService||new agoda.wysiwypservice.PriceService,m=p.priceViewEnums||{exclusive:1,inclusiveWithSurchargePerRoomPerNight:2,inclusiveWithSurchargePerBooking:3},l=p.cms,r=p.numberOfDecimalPoints,c=p.userCulture,a=p.displayUI,void 0!==(u=p.priceViewMobileMenu)&&u.attachSignal(h),void 0!==a&&(a.attachSignal&&a.attachSignal(h),a.init&&a.init()),void 0!==d.applyGiftcard&&(w.applyGiftcardMenuText=d.applyGiftcard.applyGiftcardMenuText||"",w.isApplyGiftcard=d.applyGiftcard.isApplyGiftcard||!1),h.priceViewChanged.add(y),h.currencyChanged.add(k),agoda.react&&agoda.react.communication&&(agoda.react.communication.add(agoda.eventhelper.name.GET_CURRENT_PRICE_VIEW,function(){agoda.react.communication.call(agoda.eventhelper.name.UPDATE_PRICE_VIEW,P())}),agoda.react.communication.add(agoda.bVariants.isB("HALO-9598")?agoda.eventhelper.name.ON_PRICE_VIEW_CHANGED_FROM_REACT:agoda.eventhelper.name.ON_PRICE_VIEW_CHANGED,function(e){I(e)})),d.initialPriceInfos&&b(d.initialPriceInfos),v=!0,I(s)},addPriceDetailsFromSSRSearchResult:function(e){_.each(e,function(e){var t=e.PriceDetail;null!=t&&C(e.UniqueHotelId.toString(),t)})},addPriceDetail:C,addPriceDetails:b,addExtraBedPrice:function(e,t){S[e].addExtraBedPrice(t)},changePriceView:I,getCurrentPriceView:P,getIsForceInclusive:function(){return s===m.inclusiveWithSurchargePerRoomPerNight||s===m.toastInclusiveWithSurchargePerBooking},getIsEnabled:function(){return v},getPriceDetails:function(){return S},getPriceViewEnums:function(){return m},getRoomMessage:function(e){return S[e].getRoomMessage(s)},getSignal:function(){return h},getApplyGiftcard:function(){return w},setNumberOfRooms:function(e,t){S[e].setNumberOfRooms(t)},setNumberOfDecimalPoints:function(e){r=e,_.each(S,function(t){t.setNumberOfDecimalPoints(e)})},resetAPSPeek:function(){_.each(S,function(e){e.setApsPeekPrice(0)})},updateAPSPeek:function(e,t){var i=S[e];i&&i.setApsPeekPrice(t)},hasPriceDetailForRoom:function(e,t){var i=S[e];return!!i&&i.hasPriceInfoForRoom(t)},refresh:L}}(t.jQuery),void 0!==e&&e.exports&&(e.exports=agoda.wysiwyp)}).call(this,i(5))},443:function(e,t,i){e.exports=function(e){"use strict";var t="function"==typeof e?e:function(){return window},n=[],o=[];function a(e){!0===window.FBApiInit?e(FB):n.push(e)}var s=t().setInterval(function(){if(!0===t().FBApiInit){for(var e in t().clearInterval(s),n)"function"==typeof n[e]&&n[e](FB);for(var e in o)"function"==typeof o[e]&&o[e](FB)}},100);return{loadSdk:function(e){if(void 0!==window.fbAppId){var t="//connect.facebook.net/en_US/sdk.js";if("string"==typeof e&&5===e.length){var i=e[0]+e[1],n=(e[3]+e[4]).toUpperCase();t="//connect.facebook.net/"+i+"_"+n+"/sdk.js"}var o=this;$(document).ready(function(){$.ajax({url:t,dataType:"script",cache:!0,success:function(e,t,i){window.FBApiInit=!0,o.onFBSDKReady(function(){FB.Event.subscribe("xfbml.render",function(e){o.doFacebookSetup()})})}})})}else console.error("facebook app id is missing")},onFBSDKReady:a,onFBSDKReadyDeferred:function(e){!0===window.FBApiInit?e(FB):o.push(e)},logout:function(e,t){"number"!=typeof t&&(t=2e3);var n=!1,o=window.setTimeout(function(){e(),n=!0},t);a(function(){FB.getLoginStatus(function(t){if(!n){if(clearTimeout(o),"connected"===t.status){var a={key:"login.facebook.pre.logout",value:1,status:t.status};i(282).send("metric-fbprelogout",JSON.stringify(a)),FB.logout(function(t){var n={key:"login.facebook.post.logout",value:1,status:t.status};i(282).send("metric-fbpostlogout",JSON.stringify(n)),document.cookie="fblo_"+window.fbAppId+"=; Path=/; Expires="+(new Date).toUTCString(),e()})}"connected"!==t.status&&e()}})})},doFacebookSetup:function(){FB.AppEvents.logPageView(),FB.getLoginStatus(function(e){"connected"===e.status&&1===agoda.verifyEmailStatus&&FB.api("/me",{fields:"picture"},function(e){e.picture&&!1===e.picture.data.is_silhouette&&$("#fb-profile-pic-img").attr("src",e.picture.data.url)})})},doFacebookInitWhenReady:function(){agoda.FBAlreadyInited=!0,this.onFBSDKReady(function(){FB.init({appId:window.fbAppId,version:"v2.8",xfbml:!0})})}}}},535:function(e,t,i){(function(e){e.namespace("agoda.wysiwypservice"),function(e){"use strict";agoda.wysiwypservice.PriceService=function(t){this.changePriceView=function(t,i,n){e.ajax({type:"POST",url:"/api/price/ChangePriceView?priceView="+t+"&page="+i}).done(function(){n&&n()})}}}(e.jQuery)}).call(this,i(5))},536:function(e,t,i){"use strict";(function(t){t.namespace("agoda.wysiwypservice"),t.jQuery,agoda.wysiwypservice.PriceDetail=function(e){var t,i=agoda.bVariants.isB("MIN-12842"),n=e.priceViewEnums,o=e.cmsPrefixTaxInclusive,a=e.cmsPrefixTaxExclusive,s=(e.currencyCode,i?0:e.numberOfDecimalPoints),r=e.numberOfRooms||1,c=(e.userCulture,void 0!==(t=e.userCulture)&&null!==t&&t.length>0?t+"-u-nu-latn":t),l=0,p=0,u=[],d=[],h=e.hasGreyBar||!1;function g(e,t,n){var o=s;return i||void 0===n||(o=n),t=0===o?Math.round(t):Math.round(100*t)/100,agoda.mobile.hotel.ag.moneyback.setFormatPrice(e,t,!0)}function f(e,t){var n=s;return i||void 0===t||(n=t),(e=0===n?Math.round(e):Math.round(100*e)/100).toLocaleString(c,{minimumFractionDigits:n,maximumFractionDigits:n})}function m(e){switch(e){case n.exclusive:case n.inclusiveWithSurchargePerRoomPerNight:return u[1];case n.inclusiveWithSurchargePerBooking:throw"not support total stay price yet";default:return u[1]}}function v(e,t,i){t=t||!1,i=i||!1;var o=0,a=0,s=m(e);if(!s)return null;switch(e){case n.exclusive:o=s.TotalExclusive;break;case n.inclusiveWithSurchargePerRoomPerNight:o=s.TotalInclusivePerRoomPerNight,a=s.TotalMandatoryExtraBed;break;case n.inclusiveWithSurchargePerBooking:o=s.TotalInclusivePerBooking,a=s.TotalMandatoryExtraBed;break;default:o=s.DefaultPrice}return i&&(o-=a),t?f(o):o}function w(e,t){t=t||!1;var i=m(e),o=0;switch(e){case n.exclusive:case n.inclusiveWithSurchargePerRoomPerNight:o=i.ExtraBedInclusivePerRoomPerNight||0;break;case n.inclusiveWithSurchargePerBooking:o=i.ExtraBedInclusivePerBooking||0}return t?f(o):o}this.formatPrice=f,this.getRoomPrice=v,this.getPriceValue=function(e,t,i){t=t||!1;var o=v(e,!1,i);if(null===o)return null;if(e==n.exclusive)return t?f(o):o;var a=w(e),s=o+a*l/r;return t?f(s):s},this.getMobileAppPriceValue=function(e,t,i){i=i||!1;var o=parseFloat(e);if(t==n.exclusive)return i?f(o):o;var a=w(t),s=o+a*l/r;return h&&(s=o),i?f(s):s},this.getAPSPeekPriceValue=function(e,t){t=t||!1;var i=p;if(e==n.exclusive)return t?f(i):i;var o=w(e),a=i+o*l/r;return t?f(a):a},this.getRoomMessage=function(e){var t=m(e),i="",s="",r=!0;switch(e){case n.exclusive:i=a,s=t.ExclusiveSurchargeText,r=!1;break;case n.inclusiveWithSurchargePerRoomPerNight:i=o,s=t.InclusiveSurchargePerRoomPerNightText,r=!0;break;case n.inclusiveWithSurchargePerBooking:i=o,s=t.InclusiveSurchargePerBookingText,r=!0}return{prefix:i,content:s,isInclude:r}},this.getExtraBedValue=w,this.getCrossOutRateValue=function(e,t,i){t=t||!1,i=i||!1;var o=m(e),a=0,s=0;switch(e){case n.exclusive:return a=o.CrossOutRateExclusive||0,t?f(a):a;case n.inclusiveWithSurchargePerRoomPerNight:a=o.CrossOutRateInclusivePerRoomPerNight||0,s=o.TotalMandatoryExtraBed;break;case n.inclusiveWithSurchargePerBooking:throw"not support Totay stay yet"}i&&(a-=s);var c=w(e),p=a+c*l/r;return t?f(p):p},this.getCouponCrossOutRateValue=function(e,t,i){t=t||!1,i=i||!1;var o=m(e),a=0,s=0;switch(e){case n.exclusive:return a=o.CouponCrossOutExclusivePrice||0,t?f(a):a;case n.inclusiveWithSurchargePerRoomPerNight:a=o.CouponCrossOutInclusivePriceWithoutExtraBed||0,s=o.TotalMandatoryExtraBed;break;case n.inclusiveWithSurchargePerBooking:throw"not support Totay stay yet"}i&&(a-=s);var c=w(e),p=a+c*l/r;return t?f(p):p},this.getNumberOfRooms=function(){return r},this.getPriceInfos=function(){return u},this.setApsPeekPrice=function(e){p=e},this.setNumberOfDecimalPoints=function(e){s=e},this.setNumberOfRooms=function(e){r=parseInt(e)||1},this.setNumberOfExtraBeds=function(e){l=parseInt(e)},this.setPriceInfo=function(e,t){if(_.isUndefined(e))throw"priceInfo is null";t=parseInt(t)||1,function(e){if(void 0===e||null===e)throw"PriceInfo cannot be undefined or null";_(["DefaultPrice","TotalExclusive","TotalInclusivePerRoomPerNight","TotalMandatoryExtraBed","CrossOutRateExclusive","CrossOutRateInclusivePerRoomPerNight"]).each(function(t){if(!_.has(e,t))throw"PriceInfo required property named "+t})}(e),u[1]=e},this.hasPriceInfoForRoom=function(e){return e=parseInt(e)||1,!_.isUndefined(u[e])},this.addExtraBedPrice=function(e){d.push(e)},this.getMoneyBackValue=function(e,t,i,n,o){i=i||!1;var a=t*l/r,s=parseFloat(e)+parseFloat(a),c=e<1&&n?2:0,p=function(e,t){return 0==t?Math.round(e):Math.round(100*e)/100}(s,c);return o?i?g(e,p,c):p.toString():i?g(e,p,0):p.toString()},this.getPriceInfo=m},void 0!==e&&e.exports&&(e.exports=agoda.wysiwypservice.PriceDetail)}).call(this,i(5))},537:function(e,t,i){(function(e){e.namespace("agoda.wysiwypservice"),function(e){"use strict";agoda.wysiwypservice.PriceViewHeader=function(t){var i,n,o=t.getPriceViewEnums(),a=t.getApplyGiftcard(),s={priceViewSelector:"#price-view",priceViewSection:".price-view-list",priceViewOption:".wysiwyp-option",priceViewOptionExclusive:".wysiwyp-option-exclusive",priceViewOptionInclusive:".wysiwyp-option-inclusive",applyGiftcardOption:".apply-giftcard-option"},r={priceViewElement:e(s.priceViewSelector)},c={priceViewTemplate:"#price-view-template"};function l(t){t.preventDefault();var a=i;e(t.currentTarget).is(s.priceViewOptionExclusive)?(d(),i=o.exclusive):e(t.currentTarget).is(s.priceViewOptionInclusive)&&(h(),i=o.inclusiveWithSurchargePerRoomPerNight),n.priceViewChanged.dispatch(a,i)}function p(t){t.preventDefault();var i=!agoda.loyalty.applygiftcard.currentIsApply();i?e(s.applyGiftcardOption).addClass("selected"):e(s.applyGiftcardOption).removeClass("selected"),agoda.loyalty.applygiftcard.userAppply(i)}function u(e){e==o.exclusive?d():h()}function d(){e(s.priceViewOptionInclusive).removeClass("selected"),e(s.priceViewOptionExclusive).addClass("selected")}function h(){e(s.priceViewOptionInclusive).addClass("selected"),e(s.priceViewOptionExclusive).removeClass("selected")}this.refresh=u,function(t){t&&t.getIsEnabled()&&(h=Handlebars.compile(e(c.priceViewTemplate).html()),r.priceViewElement.html(h(a)),d=t.getSignal(),n=d,o=t.getCurrentPriceView(),i=o,u(o),e(s.priceViewOption).on("click",l),e(s.applyGiftcardOption).on("click",p));var o;var d;var h}(t)}}(e.jQuery)}).call(this,i(5))},540:function(e,t){
/*! modernizr 3.3.1 (Custom Build) | MIT *
 * https://modernizr.com/download/?-csstransforms3d-csstransitions-flexbox-addtest-mq-printshiv-setclasses !*/
!function(t,i,n){function o(e,t){return typeof e===t}function a(e){var t=C.className,i=I._config.classPrefix||"";if(P&&(t=t.baseVal),I._config.enableJSClass){var n=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");t=t.replace(n,"$1"+i+"js$2")}I._config.enableClasses&&(t+=" "+i+e.join(" "+i),P?C.className.baseVal=t:C.className=t)}function s(e,t){if("object"==typeof e)for(var i in e)b(e,i)&&s(i,e[i]);else{var n=(e=e.toLowerCase()).split("."),o=I[n[0]];if(2==n.length&&(o=o[n[1]]),void 0!==o)return I;t="function"==typeof t?t():t,1==n.length?I[n[0]]=t:(!I[n[0]]||I[n[0]]instanceof Boolean||(I[n[0]]=new Boolean(I[n[0]])),I[n[0]][n[1]]=t),a([(t&&0!=t?"":"no-")+n.join("-")]),I._trigger(e,t)}return I}function r(){return"function"!=typeof i.createElement?i.createElement(arguments[0]):P?i.createElementNS.call(i,"http://www.w3.org/2000/svg",arguments[0]):i.createElement.apply(i,arguments)}function c(e,t,n,o){var a,s,c,l,p="modernizr",u=r("div"),d=function(){var e=i.body;return e||((e=r(P?"svg":"body")).fake=!0),e}();if(parseInt(n,10))for(;n--;)(c=r("div")).id=o?o[n]:p+(n+1),u.appendChild(c);return(a=r("style")).type="text/css",a.id="s"+p,(d.fake?d:u).appendChild(a),d.appendChild(u),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(i.createTextNode(e)),u.id=p,d.fake&&(d.style.background="",d.style.overflow="hidden",l=C.style.overflow,C.style.overflow="hidden",C.appendChild(d)),s=t(u,e),d.fake?(d.parentNode.removeChild(d),C.style.overflow=l,C.offsetHeight):u.parentNode.removeChild(u),!!s}function l(e,t){return!!~(""+e).indexOf(t)}function p(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,i){return t+i.toUpperCase()}).replace(/^-/,"")}function u(e,t){return function(){return e.apply(t,arguments)}}function d(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function h(e,i){var o=e.length;if("CSS"in t&&"supports"in t.CSS){for(;o--;)if(t.CSS.supports(d(e[o]),i))return!0;return!1}if("CSSSupportsRule"in t){for(var a=[];o--;)a.push("("+d(e[o])+":"+i+")");return c("@supports ("+(a=a.join(" or "))+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}function g(e,t,i,a){function s(){u&&(delete T.style,delete T.modElem)}if(a=!o(a,"undefined")&&a,!o(i,"undefined")){var c=h(e,i);if(!o(c,"undefined"))return c}for(var u,d,g,f,m,v=["modernizr","tspan","samp"];!T.style&&v.length;)u=!0,T.modElem=r(v.shift()),T.style=T.modElem.style;for(g=e.length,d=0;g>d;d++)if(f=e[d],m=T.style[f],l(f,"-")&&(f=p(f)),T.style[f]!==n){if(a||o(i,"undefined"))return s(),"pfx"!=t||f;try{T.style[f]=i}catch(e){}if(T.style[f]!=m)return s(),"pfx"!=t||f}return s(),!1}function f(e,t,i,n,a){var s=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+_.join(s+" ")+s).split(" ");return o(t,"string")||o(t,"undefined")?g(r,t,n,a):function(e,t,i){var n;for(var a in e)if(e[a]in t)return!1===i?e[a]:o(n=t[e[a]],"function")?u(n,i||t):n;return!1}(r=(e+" "+O.join(s+" ")+s).split(" "),t,i)}function m(e,t,i){return f(e,n,n,t,i)}var v=[],w=[],S={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var i=this;setTimeout(function(){t(i[e])},0)},addTest:function(e,t,i){w.push({name:e,fn:t,options:i})},addAsyncTest:function(e){w.push({name:null,fn:e})}},I=function(){};I.prototype=S,I=new I;var b,C=i.documentElement,P="svg"===C.nodeName.toLowerCase();P||function(t,i){function n(e,t){var i=e.createElement("p"),n=e.getElementsByTagName("head")[0]||e.documentElement;return i.innerHTML="x<style>"+t+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function o(){var e=b.elements;return"string"==typeof e?e.split(" "):e}function a(e){var t=I[e[w]];return t||(t={},S++,e[w]=S,I[S]=t),t}function s(e,t,n){return t||(t=i),g?t.createElement(e):(n||(n=a(t)),!(o=n.cache[e]?n.cache[e].cloneNode():v.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e)).canHaveChildren||m.test(e)||o.tagUrn?o:n.frag.appendChild(o));var o}function r(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(i){return b.shivMethods?s(i,e,t):t.createElem(i)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+o().join().replace(/[\w\-:]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(b,t.frag)}function c(e){e||(e=i);var t=a(e);return!b.shivCSS||h||t.hasCSS||(t.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),g||r(e,t),e}function l(e){for(var t,i=e.getElementsByTagName("*"),n=i.length,a=RegExp("^(?:"+o().join("|")+")$","i"),s=[];n--;)t=i[n],a.test(t.nodeName)&&s.push(t.applyElement(p(t)));return s}function p(e){for(var t,i=e.attributes,n=i.length,o=e.ownerDocument.createElement(P+":"+e.nodeName);n--;)(t=i[n]).specified&&o.setAttribute(t.nodeName,t.nodeValue);return o.style.cssText=e.style.cssText,o}function u(e){for(var t,i=e.split("{"),n=i.length,a=RegExp("(^|[\\s,>+~])("+o().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),s="$1"+P+"\\:$2";n--;)(t=i[n]=i[n].split("}"))[t.length-1]=t[t.length-1].replace(a,s),i[n]=t.join("}");return i.join("{")}function d(e){function t(){clearTimeout(s._removeSheetTimer),i&&i.removeNode(!0),i=null}var i,o,s=a(e),r=e.namespaces,c=e.parentWindow;return!L||e.printShived?e:(void 0===r[P]&&r.add(P),c.attachEvent("onbeforeprint",function(){t();for(var a,s,r,c=e.styleSheets,p=[],d=c.length,h=Array(d);d--;)h[d]=c[d];for(;r=h.pop();)if(!r.disabled&&C.test(r.media)){try{s=(a=r.imports).length}catch(e){s=0}for(d=0;s>d;d++)h.push(a[d]);try{p.push(r.cssText)}catch(e){}}p=u(p.reverse().join("")),o=l(e),i=n(e,p)}),c.attachEvent("onafterprint",function(){(function(e){for(var t=e.length;t--;)e[t].removeNode()})(o),clearTimeout(s._removeSheetTimer),s._removeSheetTimer=setTimeout(t,500)}),e.printShived=!0,e)}var h,g,f=t.html5||{},m=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,v=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,w="_html5shiv",S=0,I={};!function(){try{var e=i.createElement("a");e.innerHTML="<xyz></xyz>",h="hidden"in e,g=1==e.childNodes.length||function(){i.createElement("a");var e=i.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){h=!0,g=!0}}();var b={elements:f.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:"3.7.3",shivCSS:!1!==f.shivCSS,supportsUnknownElements:g,shivMethods:!1!==f.shivMethods,type:"default",shivDocument:c,createElement:s,createDocumentFragment:function(e,t){if(e||(e=i),g)return e.createDocumentFragment();for(var n=(t=t||a(e)).frag.cloneNode(),s=0,r=o(),c=r.length;c>s;s++)n.createElement(r[s]);return n},addElements:function(e,t){var i=b.elements;"string"!=typeof i&&(i=i.join(" ")),"string"!=typeof e&&(e=e.join(" ")),b.elements=i+" "+e,c(t)}};t.html5=b,c(i);var C=/^$|\b(?:all|print)\b/,P="html5shiv",L=!g&&function(){var e=i.documentElement;return!(void 0===i.namespaces||void 0===i.parentWindow||void 0===e.applyElement||void 0===e.removeNode||void 0===t.attachEvent)}();b.type+=" print",b.shivPrint=d,d(i),"object"==typeof e&&e.exports&&(e.exports=b)}(void 0!==t?t:this,i),function(){var e={}.hasOwnProperty;b=o(e,"undefined")||o(e.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(t,i){return e.call(t,i)}}(),S._l={},S.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),I.hasOwnProperty(e)&&setTimeout(function(){I._trigger(e,I[e])},0)},S._trigger=function(e,t){if(this._l[e]){var i=this._l[e];setTimeout(function(){var e;for(e=0;e<i.length;e++)(0,i[e])(t)},0),delete this._l[e]}},I._q.push(function(){S.addTest=s});var L="CSS"in t&&"supports"in t.CSS,y="supportsCSS"in t;I.addTest("supports",L||y);var k=function(){var e=t.matchMedia||t.msMatchMedia;return e?function(t){var i=e(t);return i&&i.matches||!1}:function(e){var i=!1;return c("@media "+e+" { #modernizr { position: absolute; } }",function(e){i="absolute"==(t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle).position}),i}}();S.mq=k;var E=S.testStyles=c,A="Moz O ms Webkit",_=S._config.usePrefixes?A.split(" "):[];S._cssomPrefixes=_;var O=S._config.usePrefixes?A.toLowerCase().split(" "):[];S._domPrefixes=O;var N={elem:r("modernizr")};I._q.push(function(){delete N.elem});var T={style:N.elem.style};I._q.unshift(function(){delete T.style}),S.testAllProps=f,S.testAllProps=m,I.addTest("csstransforms3d",function(){var e=!!m("perspective","1px",!0),t=I._config.usePrefixes;if(e&&(!t||"webkitPerspective"in C.style)){var i;I.supports?i="@supports (perspective: 1px)":(i="@media (transform-3d)",t&&(i+=",(-webkit-transform-3d)")),E("#modernizr{width:0;height:0}"+(i+="{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}"),function(t){e=7===t.offsetWidth&&18===t.offsetHeight})}return e}),I.addTest("csstransitions",m("transition","all",!0)),I.addTest("flexbox",m("flexBasis","1px",!0)),function(){var e,t,i,n,a,s;for(var r in w)if(w.hasOwnProperty(r)){if(e=[],(t=w[r]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(i=0;i<t.options.aliases.length;i++)e.push(t.options.aliases[i].toLowerCase());for(n=o(t.fn,"function")?t.fn():t.fn,a=0;a<e.length;a++)1===(s=e[a].split(".")).length?I[s[0]]=n:(!I[s[0]]||I[s[0]]instanceof Boolean||(I[s[0]]=new Boolean(I[s[0]])),I[s[0]][s[1]]=n),v.push((n?"":"no-")+s.join("-"))}}(),a(v),delete S.addTest,delete S.addAsyncTest;for(var x=0;x<I._q.length;x++)I._q[x]();t.Modernizr=I}(window,document)},748:function(e,t,i){var n=i(3);CaptchaLogService=function(){this.logShowCaptchaUrl="https://"+window.location.host+"/api/captcha/LogShowCaptcha",this.logLoadFailedUrl="https://"+window.location.host+"/api/captcha/LogLoadFailed",this.logReloadCaptchaUrl="https://"+window.location.host+"/api/captcha/LogReloadCaptcha",this.logLoadTimedOutUrl="https://"+window.location.host+"/api/captcha/LogLoadTimedout"},CaptchaLogService.prototype.logShowCatpcha=function(e,t){this.ajaxCall(this.logShowCaptchaUrl,e,t)},CaptchaLogService.prototype.logLoadFailed=function(e,t,i){e=e.substr(0,e.search("-")),n.ajax({type:"POST",url:this.logLoadFailedUrl,data:{"":e+":"+t+":"+i},xhrFields:{withCredentials:!0},dataType:"json"})},CaptchaLogService.prototype.logLoadTimedOut=function(e,t){this.ajaxCall(this.logLoadTimedOutUrl,e,t)},CaptchaLogService.prototype.logReloadCaptcha=function(e,t){this.ajaxCall(this.logReloadCaptchaUrl,e,t)},CaptchaLogService.prototype.ajaxCall=function(e,t,i){t=t.substr(0,t.search("-")),n.ajax({type:"POST",url:e,data:{"":t+":"+i},xhrFields:{withCredentials:!0},dataType:"json"})},(e=e||{}).exports=CaptchaLogService},749:function(e,t,i){var n=i(3);ResetPasswordService=function(e){this.injector=e,this.Urls={DoResetPassword:"https://"+this.injector().location.host+"/NewSite/"+this.getCurrentCulture()+"/LinkAccount/ChangePasswordWithForgottenPasswordToken",EmailResetPasswordRequest:"https://"+this.injector().location.host+"/NewSite/"+this.getCurrentCulture()+"/LinkAccount/RequestChangePasswordEmail",CheckForgottenPasswordToken:"https://"+this.injector().location.host+"/NewSite/"+this.getCurrentCulture()+"/LinkAccount/CheckForgottenPasswordToken"},this.href=this.injector().location.href,this.timeoutTime=this.injector().agoda.LoginTimeout},ResetPasswordService.prototype.getCurrentCulture=function(){var e;if(0!==n("#hidden-routeinfo").length){var t=n("#hidden-routeinfo").data();void 0!==t.culture&&(e=t.culture)}else e=n("html").attr("lang");return void 0!==e&&0!==e.length&&2!==e.length||(e="en-us"),e},ResetPasswordService.prototype.urlParam=function(e){var t=this.href,i=new RegExp("[?&]"+e+"=([^&#]*)").exec(t);return null!==i&&i[1]||""},ResetPasswordService.prototype.urlParamRemove=function(e){var t=this.href,i=this.urlParam(e);if(i.length>0){var n=t.indexOf(e);"&"===t.charAt(n-1)&&(t=t.slice(0,n-1)+t.slice(n)),(t=t.replace(e+"="+i,"")).indexOf("?")===t.length-1&&(t=t.slice(0,t.length-1))}return t},ResetPasswordService.prototype.SendResetPasswordEmail=function(e,t,i,o){var a={Email:e,Validation:n("input[name='requestVerificationToken']").val(),Captcha:void 0!==o?o:""};n.ajax({url:this.Urls.EmailResetPasswordRequest,data:n.param(a),dataType:"json",method:"post",success:function(e,i){"function"==typeof t&&t(e,i)},error:function(e,t,n){"function"==typeof i&&i(t,n,e)},timeout:this.timeoutTime})},ResetPasswordService.prototype.SendResetPasswordRequest=function(e,t,i,o){var a={Token:this.urlParam("rToken"),Password:e,Validation:n("input[name='requestVerificationToken']").val(),Captcha:void 0!==o?o:""};n.ajax({url:this.Urls.DoResetPassword,data:n.param(a),dataType:"json",method:"post",success:function(e,i){"function"==typeof t&&t(e,i)},error:function(e,t,n){"function"==typeof i&&i(t,n,e)},timeout:this.timeoutTime})},ResetPasswordService.prototype.GetResetPasswordBy=function(e,t){var i=this.urlParam("rToken");if(i.length>0){var o={Token:i,Validation:n("input[name='requestVerificationToken']").val(),Captcha:"undefined"!=typeof captcha?captcha:""};n.ajax({url:this.Urls.CheckForgottenPasswordToken,data:n.param(o),dataType:"json",method:"post",success:function(t,i){"function"==typeof e&&e(t,i)},error:function(e,i,n){"function"==typeof t&&t(i,n,e)},timeout:this.timeoutTime})}return i},(e=e||{}).exports=ResetPasswordService},750:function(e,t){LoginLocalStorage=function(e){this.injector=e,this.mode="local",this.storage=function(){return"local"===this.mode?this.injector().localStorage:this.injector().sessionStorage}},LoginLocalStorage.Test=function(e){try{return!(!(e=e||window).localStorage||!e.sessionStorage)&&(e.localStorage.setItem("TestLoginLayout","Some arbitraty value"),e.localStorage.getItem("TestLoginLayout"),e.localStorage.removeItem("TestLoginLayout"),e.sessionStorage.setItem("TestLoginLayout","Some arbitraty value"),e.sessionStorage.getItem("TestLoginLayout"),e.sessionStorage.removeItem("TestLoginLayout"),!0)}catch(e){return!1}},LoginLocalStorage.prototype.setItem=function(e,t){try{this.storage().setItem(e,t)}catch(e){this.logError(e)}},LoginLocalStorage.prototype.getItem=function(e){try{return this.storage().getItem(e)}catch(e){return this.logError(e),[]}},LoginLocalStorage.prototype.removeItem=function(e){try{this.storage().removeItem(e)}catch(e){this.logError(e)}},LoginLocalStorage.prototype.logError=function(e){},(e=e||{}).exports=LoginLocalStorage},752:function(e,t){e.exports=function(){this.changeLanguage=function(e){var t="False"===$("#mockDataEnabled").val(),i=agoda.pageConfig.htmlLanguage,n=window.location.pathname,o=window.location.search;n=this.createPath(n,o,i,e,t);var a=$("#page-identification").attr("data-device").toLowerCase();"mobile"===a||"phone"===a?window.location.replace(n):window.location.href=n},this.createPath=function(e,t,i,n,o){i=i.toLowerCase();var a,s=function(e,t){return"en-us"===e?t?"":"en-us":e}(n=n.toLowerCase(),o);return(a=(a=e=o?function(e,t,i){var n=e.substring(0,6).toLowerCase();return e=n.indexOf(t)>-1?n.replace(t,i)+e.substring(6,e.length):"/"+i+e}(e,i,s):function(e,t,i){return e.toLowerCase().replace(t,i)}(e,i,s)).replace("//","/")).indexOf(".")>-1&&a.length>1&&"/"===a[a.length-1]&&(a=a.substring(0,a.length-1)),(e=a)+t}}},754:function(e,t){var i,n=function(){return this||(0,eval)("this")}();i=n.jQuery,n.unthunk=function(e){return i.isFunction(e)?e():e},n.namespace=function(e){for(var t=e.split("."),i=n,o="",a=0,s=t.length;a<s;a++)i[o=t[a]]=i[o]||{},i=i[o];return i},n.agoda=n.agoda||{},n.log=function(e){},String.format=function(){var e=arguments[0];if(void 0===e)return"";for(var t=1;t<arguments.length;t++){var i=new RegExp("\\{"+(t-1)+"\\}","gm");e=e.replace(i,arguments[t])}return e},n.exist=function(e){return null!=e||void 0!=e},n.getIEVersion=function(){if("Microsoft Internet Explorer"==navigator.appName){var e=0,t=navigator.userAgent;return null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1)),e}return null},n.inherit=function(e){function t(){}return t.prototype=e,new t},void 0!==e&&e.exports&&(e.exports=n)},755:function(e,t,i){(function(t){e.exports=t.ES6Promise=i(4311)}).call(this,i(5))},84:function(e,t,i){(function(e){LoginConstants=function(){},LoginConstants.SocialLoginStatus={Unspecific:-1,UriNotFound:0,AssociateSuccess:1,RequirePasswordToLoginOnAgoda:2,CreateNewAgodaAccount:3,RequireEmailOfAgodaAccount:4,AssociatedToAnotherAccount:5,UserLockedOut:6,SocialAccountAssociated:7,SentEmailVerification:8},LoginConstants.FacebookAssociationStatus={Unspecific:0,AssociateSuccess:1,AssocicateSuccess:1,IncorrectPassword:2,TechnicalIssue:3,NotUniqueEmail:5,NeedVerify:6},LoginConstants.Panels={SIGN_UP:"signup",SIGN_IN:"signin",ASK_FOR_PASSWORD:"linkAccount.askPassword",ASK_FOR_EMAIL:"linkAccount.askEmail",ASK_FOR_NAME:"linkAccount.askName",ALREADY_LINKED:"linkAccount.alreadyLinked",ASK_SIGN_IN:"linkAccount.askSignIn",CANNOT_LINK:"linkAccount.cannotLink",EMAIL_REQUIRED:"linkAccount.emailRequired",EMAIL_VERI_SENT:"linkAccount.emailVerificationSent",WECHAT_ASK_FOR_EMAIL:"wechat.askEmail",WECHAT_ASK_FOR_PASSWORD:"wechat.askPassword",WECHAT_ASK_FOR_NAME:"wechat.askName",WECHAT_EMAIL_LINKED_ERROR:"wechat.emailLinkedError"},(e=e||{}).exports=LoginConstants}).call(this,i(98)(e))}}]);